<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Navitia.io documentation</title>

    <link rel="icon" href="favicon.ico" />

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="stylesheets/navio.css" rel="stylesheet" type="text/css" media="all" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://navitia.io/register/'>Get an access</a></li>
            <li><a href='https://navitia.opendatasoft.com/explore'>Explore Data</a></li>
            <li><a href='https://groups.google.com/forum/#!forum/navitia'>Help !</a></li>
            <li><a href='http://navitia.io'>Navitia.io</a></li>
            <li><a href='http://canaltp.github.io/navitia-playground'>Navitia Playground</a></li>
            <li><a href='https://github.com/CanalTP/navitia'>Navitia on Github</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="getting-started">Getting started</h1>

<h2 id="overview">Overview</h2>

<p><strong>Navitia</strong> (<em>pronounce [navi-sia]</em>) is the open API for building cool stuff with mobility data.</p>

<p>It provides the following services:</p>

<ul>
<li>multi-modal journeys computation</li>
<li>line schedules</li>
<li>next departures</li>
<li>exploration of public transport data</li>
<li>search &amp; autocomplete on places</li>
<li>and sexy things such as isochrones</li>
</ul>

<p>Have a look at the examples below to learn what services we provide and how to use them.</p>

<h3 id="approach"> Approach</h3>

<p>Navitia is an open-source web API, <strong>initially</strong> built to provide traveler information on urban transportation networks.<br>
Its main purpose is to provide day-to-day informations to travelers.<br>
Over time, Navitia has been able to do way more, <em>sometimes</em> for technical and debuging purpose <em>or</em> because other functional needs fit quite well in what Navitia can do <em>or</em> just because it was quite easy and super cool.</p>

<p>Technically, Navitia is a <a href="http://en.wikipedia.org/wiki/HATEOAS">HATEOAS</a> API that returns JSON formated results.</p>

<h3 id="who-39-s-who"> Who&rsquo;s who</h3>

<p>Navitia is instanciated and exposed publicly through <a href="http://api.navitia.io">api.navitia.io</a>.<br>
Developments on Navitia are lead by Kisio Digital (previously CanalTP).<br>
Kisio Digital is a subsidiary of Keolis (itself a subsidiary of SNCF, French national railway company).</p>

<aside class="notice">
A fake token is used in examples below: be aware that this token is really limited. You should use yours to get better services on real data.
</aside>

<h2 id="first-step">First step</h2>

<blockquote>
<p>Your token is available on your <a href="http://www.navitia.io/profile">navitia.io account page</a>.</p>

<p>It sounds like &ldquo;3b036afe-0110-4202-b9ed-99718476c2e0&rdquo;</p>
</blockquote>

<p>Get a token here <a href="http://navitia.io/register/">http://navitia.io/register/</a>. We need your mail to stay in touch when Navitia changes.</p>

<h2 id="second-step">Second step</h2>
<pre class="highlight shell"><code><span class="c"># You can use curl to request Navitia</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/'</span>
</code></pre>

<p>Go to the API  <a href="https://api.navitia.io">https://api.navitia.io</a></p>

<p>The simpliest way is to use a web browser.
Our humble opinion is that <a href="http://www.getfirefox.com">firefox browser</a> and a json viewer extension like <a href="https://addons.mozilla.org/fr/firefox/addon/json-lite/">JSON Lite</a> is a good setup.</p>

<h2 id="third-step">Third step</h2>
<pre class="highlight shell"><code><span class="c"># In a curl way, with our fake token</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre>

<p>Use the token : if you use a modern web browser, you only have to <strong>paste it</strong> in the <strong>user name area</strong>,
with <strong>no password</strong>.</p>

<p><img alt="Put token in Firefox browser" src="images/firefox_token.png" /></p>

<p>Or, in a simplier way, you can add your token in the address bar like :</p>

<aside class="success">
<a href="https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage/sandbox/lines">https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage/sandbox/lines</a>
</aside>

<p>See <a href="#authentication">authentication</a> section to find out more details on <strong>how to use your token</strong> when coding.</p>

<h4 id="then">Then,</h4>

<p>use the API ! The easiest is probably to jump to <a href="#some_examples">Examples</a> below.</p>

<p>At some point you will want to read:</p>

<ul>
<li><a href="#lexicon">transport public lexicon</a></li>
<li><a href="#ressources">Ressources overview</a></li>
</ul>

<h2 id="navitia-for-human">Navitia for human</h2>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try a basic request on Navitia playground</a></p>

<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fjourneys%3Ffrom%3D2.3749036%253B48.8467927%26to%3D2.2922926%253B48.8583736%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try a journey request on Navitia playground</a></p>
</blockquote>

<aside class="success">
if you only want to challenge Navitia functionality, take your token and go to the <a href="http://canaltp.github.io/navitia-playground">navitia playground website </a>.
</aside>

<p><img alt="Try Navitia playgroung" src="images/navitia_playground.png" /></p>

<h2 id="wrappers">Wrappers</h2>

<p>To help you in the building of your project, there are some wrappers implemented (by Kisio or not) to query the API Navitia:</p>

<table><thead>
<tr>
<th>Language / Framework</th>
<th>Plugin</th>
</tr>
</thead><tbody>
<tr>
<td>PHP5</td>
<td><a href="https://github.com/CanalTP/NavitiaComponent">https://github.com/CanalTP/NavitiaComponent</a></td>
</tr>
<tr>
<td>Symfony 2 or 3</td>
<td><a href="https://github.com/CanalTP/NavitiaBundle">https://github.com/CanalTP/NavitiaBundle</a></td>
</tr>
<tr>
<td>Python</td>
<td><a href="https://github.com/leonardbinet/navitia_client">https://github.com/leonardbinet/navitia_client</a></td>
</tr>
<tr>
<td>Python</td>
<td><a href="https://github.com/CanalTP/navitia_python_wrapper">https://github.com/CanalTP/navitia_python_wrapper</a></td>
</tr>
</tbody></table>

<h2 id="about-the-data"><a name="about_data"></a>About the data</h2>

<p>The street network is extracted from <a href="http://www.openstreetmap.org">OpenStreetMap</a>. The public transport data are provided by networks that provide their timetables as open data. Some data improvements are achieved by Kisio Digital and are published back there <a href="https://navitia.opendatasoft.com">https://navitia.opendatasoft.com</a>.</p>

<p>Want to know if your city is in Navitia? Know if a special contributor is used? You can either search in <a href="#datasets">datasets</a> of the different <a href="#coverage">coverages</a>. Or use the filter provided on our data catalog <a href="https://navitia.opendatasoft.com">https://navitia.opendatasoft.com</a>.</p>

<aside class="success">
    We are gradually supporting more and more cities. If your city has open public transport data and is missing,
    check our googlegroup and drop us a note at <a href="mailto:navitia@googlegroups.com">navitia@googlegroups.com</a>.
    </br>
    We will try to add it to navitia.io
</aside>

<aside class="notice">
    Please note that the creation of a new coverage on our servers requires resources,
    so on some data integrations we try to make sure that the amount of requests justifies the use of those resources.
    </br>
    Your feedback and requests are very welcome so we choose the most useful new coverages depending on available resources.
</aside>

<h2 id="getting-help">Getting help</h2>

<p>All available functions are documented in <a href="#interface">integration part</a></p>

<p>A mailing list is available to ask questions or request <a href="#about_data">new data</a> integrations: <a href="mailto:navitia@googlegroups.com">navitia@googlegroups.com</a></p>

<p>In order to report bug and make feature requests please use our github navitia project
<a href="https://github.com/CanalTP/navitia/issues">https://github.com/CanalTP/navitia/issues</a>.</p>

<p>Stay tuned on twitter <a href="https://twitter.com/navitia">@navitia</a>.</p>

<p>At last, we are present on IRC on the network <a href="https://webchat.freenode.net/">Freenode</a>, channel <b>#navitia</b>.</p>

          <h1 id="some-examples"><a name="some_examples"></a>Some examples</h1>

<p>This chapter shows some usages with the minimal required arguments. However, this is not a reference and not all APIs nor arguments are shown.</p>

<aside class="notice">
You will have to use your own token with the examples below.
</aside>

<h2 id="basics-on-the-api-request">Basics on the API request</h2>
<pre class="highlight shell"><code><span class="c"># Web is too shiny: JSON, urlencode and curl forever!</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas/stop_area%3ARAT%3ASA%3ABASTI/lines/line%3ARAT%3AM5/departures?count=4&amp;depth=2&amp;'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre>

<p>A query to Navitia&rsquo;s API is divided in 4 parts, as highlighted by colors in a <a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253ABASTI%2Flines%2Fline%253ARAT%253AM5%2Fdepartures%3Fcount%3D4%26depth%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Navitia Playground example</a>:<br>
<img alt="Navitia basic request" src="images/navitia_basic.png" /></p>

<ol>
<li><strong>Root url</strong> of the API, the adress of the server.<br>
Here <code class="prettyprint">https://api.navitia.io/v1/</code></li>
<li><strong>Path</strong>, used to filter the request and precise what is affected by the query. This filter is an intersection of multiple <code class="prettyprint">key/value</code> (logical <em>AND</em>).<br>
Here <code class="prettyprint">/coverage/sandbox/stop_areas/stop_area:RAT:SA:BASTI/lines/line:RAT:M5/</code> means we are looking for information on everything that is in the region <em>&ldquo;sandbox&rdquo;</em> and that is stricly related to both station <em>&ldquo;Bastille&rdquo;</em> and line <em>&ldquo;metro 5&rdquo;</em>.</li>
<li><strong>Endpoint</strong>, specifies what type of information is requested, so the <em>feature</em>. It can be a service, like <em>journeys</em>, <em>isochrones</em>, <em>places</em> or a collection of objects, like <em>lines</em>, <em>stop_areas</em>, etc.<br>
Here <code class="prettyprint">/departures?</code> means we are requesting <em>&ldquo;next departures&rdquo;</em>.</li>
<li><strong>Parameters</strong>, used to specify any additional detail linked to the endpoint requested.<br>
Here <code class="prettyprint">?count=4&amp;depth=2&amp;</code> means we are requesting the next <strong><em>4</em></strong> departures and we want the response to be detailed to a depth of <strong><em>2</em></strong>.</li>
</ol>

<aside class="success">
    Tadaaa!
    </br>
    <a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253ABASTI%2Flines%2Fline%253ARAT%253AM5%2Fdepartures%3Fcount%3D4%26depth%3D2%26&token=3b036afe-0110-4202-b9ed-99718476c2e0">https://api.navitia.io/v1/coverage/sandbox/stop_areas/stop_area:RAT:SA:BASTI/lines/line:RAT:M5/departures?count=4&depth=2</a>
    </br>
    We get the next 4 departures for the metro 5 at Bastille in the great &ldquo;sandbox&rdquo; region, and with a middle level of details.
</aside>

<h2 id="a-quick-exploration">A quick exploration</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>


HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"start_production_date"</span>: <span class="s2">"20140105"</span>,
    <span class="s2">"status"</span>: <span class="s2">"running"</span>,
    <span class="s2">"shape"</span>: <span class="s2">"POLYGON((-74.500997 40.344999,-74.500997 41.096999,-73.226 41.096999,-73.226 40.344999,-74.500997 40.344999))"</span>,
    <span class="s2">"id"</span>: <span class="s2">"sandbox"</span>,
    <span class="s2">"end_production_date"</span>: <span class="s2">"20140406"</span>
<span class="o">}</span>
</code></pre>

<p><em>navitia</em> allows to dive into the public transport data.</p>

<p>To better understand how the API works let&rsquo;s ask the API the different main possibilities by simply querying the API endpoint: <a href="https://api.navitia.io/v1/">https://api.navitia.io/v1/</a></p>

<p>The <code class="prettyprint">links</code> section of the answer contains the different possible interactions with the API.</p>

<p>As you can see there are several possibilities like for example <a href="#coverage">coverage</a> to navigate through the covered regions data or <a href="#journeys">journeys</a> to compute a journey.</p>

<p>Now let&rsquo;s see what interactions are possible with <code class="prettyprint">coverage</code>:</p>

<p>This request will give you:</p>

<ul>
<li>in the <code class="prettyprint">regions</code> section the list of covered regions</li>
<li>in the <code class="prettyprint">links</code> section the list of possible interactions with them</li>
</ul>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>


HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"lines"</span>:[
        <span class="o">{</span>
            <span class="s2">"id"</span>:<span class="s2">"line:RAT:M1"</span>,
            <span class="s2">"code"</span>:<span class="s2">"1"</span>,
            <span class="s2">"name"</span>:<span class="s2">"Château de Vincennes - La Défense"</span>,
            <span class="s2">"opening_time"</span>:<span class="s2">"053000"</span>,
            <span class="s2">"closing_time"</span>:<span class="s2">"013600"</span>,
            <span class="s2">"color"</span>:<span class="s2">"F2C931"</span>,
            <span class="s2">"commercial_mode"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"commercial_mode:Metro"</span>,
                <span class="s2">"name"</span>:<span class="s2">"Metro"</span>
            <span class="o">}</span>,
            <span class="s2">"physical_modes"</span>:[
                <span class="o">{</span>
                    <span class="s2">"id"</span>:<span class="s2">"physical_mode:Metro"</span>,
                    <span class="s2">"name"</span>:<span class="s2">"Métro"</span>
                <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"network"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"network:RAT:1"</span>,
                <span class="s2">"name"</span>:<span class="s2">"RATP"</span>
            <span class="o">}</span>,
            <span class="s2">"routes"</span>:[
                <span class="o">{</span>
                    <span class="s2">"id"</span>:<span class="s2">"route:RAT:M1"</span>,
                    <span class="s2">"name"</span>:<span class="s2">"Château de Vincennes - La Défense"</span>,
                    <span class="s2">"direction"</span>:<span class="o">{</span>
                        <span class="s2">"id"</span>:<span class="s2">"stop_area:RAT:SA:DENFE"</span>,
                        <span class="s2">"name"</span>:<span class="s2">"La Défense Grande Arche (Puteaux)"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"id"</span>:<span class="s2">"route:RAT:M12_R"</span>,
                    <span class="s2">"name"</span>:<span class="s2">"Mairie d'Issy - Front Populaire"</span>,
                    <span class="s2">"direction"</span>:<span class="o">{</span>
                        <span class="s2">"id"</span>:<span class="s2">"stop_area:RAT:SA:MISSY"</span>,
                        <span class="s2">"name"</span>:<span class="s2">"Mairie d'Issy (Vanves)"</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>In the <code class="prettyprint">links</code> section there is for example this link: <code class="prettyprint">&quot;href&quot;: &quot;https://api.navitia.io/v1/coverage/{regions.id}/lines&quot;</code></p>

<p>This link is about lines (according to its <code class="prettyprint">rel</code> attribute) and is templated which means that it needs additional parameters.<br>
The parameters are identified with the <code class="prettyprint">{</code> <code class="prettyprint">}</code> syntax.
In this case it needs a region id. This id can be found in the <code class="prettyprint">regions</code> section.</p>

<p>To query for the public transport lines of New York we thus have to call: <a href="https://api.navitia.io/v1/coverage/us-ny/lines">https://api.navitia.io/v1/coverage/us-ny/lines</a></p>

<p>Easy isn&rsquo;t it?</p>

<p><a
    href="https://jsfiddle.net/kisiodigital/vLugkLgw/"
    target="_blank"
    class="button button-blue">
    Code it yourself on JSFiddle
</a></p>

<p>We could push the exploration further and:</p>

<ul>
<li>Where am I? (WGS 84 coordinates)

<ul>
<li><a href="https://api.navitia.io/v1/coord/2.377310;48.847002">https://api.navitia.io/v1/coord/2.377310;48.847002</a></li>
<li>I&rsquo;m on the &ldquo;/fr-idf&rdquo; coverage, at &ldquo;20, rue Hector Malot in Paris, France&rdquo;</li>
</ul></li>
<li>Services available on this coverage

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf">https://api.navitia.io/v1/coverage/fr-idf</a></li>
<li>Let&rsquo;s take a look at the links at the bottom of the previous stream</li>
</ul></li>
<li>Networks available? (see what <a href="#network">network</a> is)

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks">https://api.navitia.io/v1/coverage/fr-idf/networks</a></li>
<li>pwooo, many networks on this coverage ;)</li>
</ul></li>
<li>Is there any Metro lines or networks?

<ul>
<li>there is an api for that. See <a href="#pt-objects">pt_objects</a></li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/pt_objects?q=metro">https://api.navitia.io/v1/coverage/fr-idf/pt_objects?q=metro</a></li>
<li>Response contain one network, one mode, and many lines</li>
</ul></li>
<li>Let&rsquo;s try some filtering (see <a href="#pt-ref">PT objects exploration</a>)

<ul>
<li>filter on the specific metro network (&ldquo;id&rdquo;: &ldquo;network:OIF:439&rdquo; extracted from last request)</li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/">https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/</a></li>
<li>physical modes managed by this network</li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes">https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes</a></li>
<li>metro lines</li>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes/physical_mode:Metro/lines">https://api.navitia.io/v1/coverage/fr-idf/networks/network:OIF:439/physical_modes/physical_mode:Metro/lines</a></li>
</ul></li>
<li>By the way, what stuff are close to me?

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/places_nearby">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/places_nearby</a></li>
<li>or <a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/lines">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/lines</a></li>
<li>or <a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules</a></li>
<li>or &hellip;</li>
</ul></li>
</ul>

<h2 id="seek-and-search">Seek and search</h2>

<h3 id="what-places-have-a-name-that-start-with-39-eiff-39">What places have a name that start with &lsquo;eiff&rsquo;</h3>

<p>The <a href="#places">/places</a> API finds any object whose name matches the first letters of the query.</p>

<p>To find the objects that start with &ldquo;tran&rdquo; the request should be: <a href="https://api.navitia.io/v1/coverage/fr-idf/places?q=eiff">https://api.navitia.io/v1/coverage/fr-idf/places?q=eiff</a></p>

<p>This API is fast enough to use it for autocompleting a user request.</p>

<h3 id="what-places-are-within-1000-meters">What places are within 1000 meters</h3>

<p>The <a href="#places-nearby">/places_nearby</a> API finds any object within a certain radius as a crow flies.
This API is not accessible from the main endpoint but has to be applied on a stop point, an address, some coordinates,&hellip;</p>

<p>All objects around the coordinates of the Transamerica Pyramid can be fetched with the following request: <a href="https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/places_nearby">https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/places_nearby</a></p>

<p>We could, in the same fashion, ask for the objects around a particuliar stop area (<code class="prettyprint">stop_area:OSF:SA:CTP4025</code> for example): <a href="https://api.navitia.io/v1/coverage/us-ca/stop_areas/stop_area:OSF:SA:CTP4025/places_nearby">https://api.navitia.io/v1/coverage/us-ca/stop_areas/stop_area:OSF:SA:CTP4025/places_nearby</a></p>

<p>Optionally you can select what object types to return and change the radius.</p>

<h2 id="about-itinerary">About itinerary</h2>

<h3 id="a-simple-route-computation">A simple route computation</h3>

<p>Let&rsquo;s find out how to get from the view point of the Golden Gate bridge to the Transamerica Pyramid in San Francisco.
We need to use the <code class="prettyprint">journeys</code> API.</p>

<p>The coordinates of the view point are <code class="prettyprint">longitude = -122.4752</code>, <code class="prettyprint">latitude = 37.80826</code> and the coordinates of the Transamercia Pyramid are <code class="prettyprint">longitude = -122.402770</code>, <code class="prettyprint">latitude = 37.794682</code>.
The coordinates are always in decimal degrees as WGS84 (also known as GPS coordinates). The coordinates are given to the API with the following format: <code class="prettyprint">longitute;latitude</code>.</p>

<p>The arguments are the following:</p>

<ul>
<li><code class="prettyprint">from=-122.4752;37.80826</code></li>
<li><code class="prettyprint">to=-122.402770;37.794682</code>
Hence, the complete URL: <a href="https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682">https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682</a>.</li>
</ul>

<aside class="success">
A &ldquo;journeys&rdquo; request might return multiple journeys. Those journeys are said to be equivalent. For instance
a journey can be faster than an other but requires more changes or more walking.
</aside>

<p>This API has more options explained in the reference as:</p>

<ul>
<li><p>The dates are given in the basic form of the ISO 8601 datetime format: <code class="prettyprint">YYYYMMDDTHHMM</code>.
For example, if you want to compute a journey on friday, April 07 <code class="prettyprint">datetime=20170407T120000</code>
<a href="https://api.navitia.io/v1/journeys?from=-122.47787733594924;37.71696489300146&amp;to=-122.41539259473815;37.78564348914185&amp;datetime=20170407T120000">https://api.navitia.io/v1/journeys?from=-122.47787733594924;37.71696489300146&amp;to=-122.41539259473815;37.78564348914185&amp;datetime=20170407T120000</a></p></li>
<li><p>Latest departure
To get the latest departure, you can query for some journeys arriving before the end of the service
<a href="https://api.navitia.io/v1/journeys?from=-122.47787733594924;37.71696489300146&amp;to=-122.41539259473815;37.78564348914185&amp;datetime=20170407T120000&amp;datetime_represents=arrival">https://api.navitia.io/v1/journeys?from=-122.47787733594924;37.71696489300146&amp;to=-122.41539259473815;37.78564348914185&amp;datetime=20170407T120000&amp;datetime_represents=arrival</a></p></li>
<li><p>You can also change the <a href="#traveler-type">traveler profile</a> (to adapt the walking/biking/driving parts and comfort of journeys):
<a href="https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682&amp;traveler_type=slow_walker">https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682&amp;traveler_type=slow_walker</a></p></li>
<li><p>Forbid certain lines, routes or modes
For example you can forbid the line 1 and the cable car mode with the url:
<a href="https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682&amp;forbidden_uris%5B%5D=line:OSF:10867&amp;forbidden_uris%5B%5D=commercial_mode:cablecar">https://api.navitia.io/v1/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682&amp;forbidden_uris[]=line:OSF:10867&amp;forbidden_uris[]=commercial_mode:cablecar</a></p></li>
<li><p>Enable biking, driving or use of bike sharing system on Paris area
For example you can allow bss (and walking since it&rsquo;s implicitly allowed with bss) at the departure:
<a href="https://api.navitia.io/v1/journeys?from=2.3865494;48.8499182&amp;to=2.3643739;48.854&amp;first_section_mode%5B%5D=bss&amp;first_section_mode%5B%5D=walking&amp;first_section_mode%5B%5D=bike">https://api.navitia.io/v1/journeys?from=2.3865494;48.8499182&amp;to=2.3643739;48.854&amp;first_section_mode[]=bss&amp;first_section_mode[]=walking&amp;first_section_mode[]=bike</a></p></li>
</ul>

<h3 id="what-stations-can-be-reached-in-the-next-20-minutes">What stations can be reached in the next 20 minutes</h3>

<p>The API can computes <em>all</em> the reachable stop points from an origin within a given maximum travel duration.
That&rsquo;s what we call an <code class="prettyprint">isochron</code> (see <a href="#journeys">journeys section</a> )</p>

<p>All the stop points that can be reached from the Transamerica Pyramid can be fetched with the following request:
<a href="https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/journeys?max_duration=1200">https://api.navitia.io/v1/coverage/us-ca/coords/-122.402770;37.794682/journeys?max_duration=1200</a></p>

<p>It returns for each destination stop point the earliest arrival and a link to the journey detail.</p>

          <h1 id="authentication">Authentication</h1>

<blockquote>
<p>3 ways to request Navitia</p>
</blockquote>
<pre class="highlight shell"><code>
<span class="c">#using "headers"</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#using "users": don't forget ":" at the end of line !</span>
<span class="gp">$ </span>curl https://api.navitia.io/v1/coverage -u 3b036afe-0110-4202-b9ed-99718476c2e0:

<span class="c">#using "straight URL"</span>
<span class="gp">$ </span>curl https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage

</code></pre>

<p>Authentication is required to use <strong>navitia.io</strong>. When you register we will give you
an authentication key that must accompany each API call you make.</p>

<p><strong>Navitia.io</strong> uses <a href="http://tools.ietf.org/html/rfc2617#section-2">Basic HTTP authentication</a>
for authentication, where the username is the key, and password remains empty.</p>

<p>For example, in a <a href="https://en.wikipedia.org/wiki/CURL">Curl</a> way, you can request either :</p>

<p><code class="prettyprint">curl &#39;https://api.navitia.io/v1/coverage&#39; -H &#39;Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0&#39;</code></p>

<p>or</p>

<p><code class="prettyprint">curl https://api.navitia.io/v1/coverage -u 3b036afe-0110-4202-b9ed-99718476c2e0:</code></p>

<p>(don&rsquo;t forget <code class="prettyprint">:</code> after the key)</p>

<p>or</p>

<p><code class="prettyprint">curl https://3b036afe-0110-4202-b9ed-99718476c2e0@api.navitia.io/v1/coverage</code></p>

          <h1 id="journey-planning"><a name="journey_planning"></a><img alt="Journey planning" src="images/journeys.png" />Journey planning</h1>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fjourneys%3Ffrom%3D2.3749036%3B48.8467927%26to%3D2.2922926%3B48.8583736&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>

<p>The multi-modal itinerary feature allows you to compute the best routes from point A to point B
using all available means of travel, including: bus, train, subway, bike, public bike, walking, car, etc.
This function returns a roadmap with specific instructions for a route based on available information,
such as: time of departure and arrival, journey time, possible modes of transport, and walking distance.</p>

<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fjourneys%3Ffrom%3D2.3749036%253B48.8467927%26to%3D2.2922926%253B48.8583736%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img alt="a journey on Navitia playground" src="images/playground_journey.png" /></a></p>

<p>In order to compute a journey, you may have to use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#places">Places</a></strong> : autocomplete on geographical data to find the departure and destination points from an input text.</li>
<li>  <strong><a href="#journeys">Journeys</a></strong> : compute journeys from and to coordinates, stops, stations or administrative region</li>
</ul>

          <h1 id="next-departures-and-arrivals"><a name="next_departures_and_arrivals"></a><img alt="Departures" src="images/departures.png" />Next departures and arrivals</h1>

<p>The &ldquo;Next Departures&rdquo; feature provides the next scheduled departures or arrivals
for a specific mode of public transport (bus, tram, metro, train) at your selected stop, near coordinates, etc.</p>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fstop_schedules%3Fitems_per_schedule%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground (click on &ldquo;EXT&rdquo; buttons to see times)</a></p>
</blockquote>

<ul>
<li>use <code class="prettyprint">stop_schedules</code> if you want to display departures grouped by route (2 next departures for each route for example)
<a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fstop_schedules%3Fitems_per_schedule%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img alt="a stop_schedules on Navitia playground" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg/640px-Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg" /></a></li>
</ul>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fdepartures%3F&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>

<ul>
<li>use <code class="prettyprint">departures</code> or <code class="prettyprint">arrivals</code> if you want to display a multi-route table (like big departure boards in train stations)
<a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fdepartures%3F&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img alt="a departures on Navitia playground" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG/640px-Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG" /></a></li>
</ul>

<p>In order to display departures, you may have to use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong> : List of the public transport
objects of a region</li>
<li>  <strong><a href="#stop-schedules">Stop Schedules</a></strong>, <strong><a href="#departures">Departures</a></strong> and <strong><a href="#arrivals">Arrivals</a></strong> :
Compute time tables for a given resource</li>
</ul>

<p>See how disruptions affect the next departures in the <a href="#realtime">real time</a> section.</p>

          <h1 id="timetables"><a name="timetables"></a><img alt="Timetables" src="images/line_schedules.png" />Timetables</h1>

<p>The Timetables features gives you access to line schedules on public transport,
allowing you to find the times public transport is expected at specific stops.</p>

<p>It returns a variety of differents informations, including: stop points in right order, times,
accessibility informations, vehicle informations, etc.</p>

<p>In order to display line schedules, you may have to use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong> : List of the public transport
objects of a region</li>
<li>  <strong><a href="#route-schedules">Route Schedules</a></strong> and <strong><a href="#stop-schedules">Stop Schedules</a></strong> :
Compute time tables for a given resource</li>
</ul>

          <h1 id="places-nearby"><a name="nearby"></a><img alt="Places nearby" src="images/places_nearby.png" />Places nearby</h1>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%3ARAT%3ASA%3ACAMPO%2Fplaces_nearby&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground (click on &ldquo;MAP&rdquo; buttons to see places)</a></p>
</blockquote>

<p>The Places Nearby feature displays the different transport options around a location - a GPS coordinate,
or an address, for example.</p>

<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fcoord%2F2.32794%253B48.817184%2Fplaces_nearby%3F&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img alt="a map around on Navitia playground" src="images/playground_places_nearby.png" /></a></p>

<p>Using OpenStreetMap data, this function also provides information about bicycle parking, public park schedules, and parking fees.</p>

<p>You can use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#coverage">Coverage</a></strong> : List of the region covered by navitia</li>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong> : Seek and search within the public transport objects of a region</li>
<li>  <strong><a href="#places-nearby-api">Places nearby</a></strong> :  List of objects near an object or using longitude and latitude</li>
<li>  <strong><a href="#stop-schedules">Stop Schedules</a></strong>, <strong><a href="#departures">Departures</a></strong> and <strong><a href="#arrivals">Arrivals</a></strong> :
Compute time tables for a given resource</li>
</ul>

          <h1 id="explore-transport"><a name="explore"></a><img alt="Explore transport" src="images/search_places.png" />Explore transport</h1>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Flines&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>

<p>The Explore Transport feature lets you explore places, coordinates, bus stops, subway stations, etc.
to navigate all the data available on the API (collection service).</p>

<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Flines&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img alt="some data request on Navitia playground" src="images/playground_pt_ref.png" /></a></p>

<p>If you want to play with Navitia at a hardcore gamer level, you may want to build some advanced requests: here is <a href="https://github.com/CanalTP/navitia/blob/dev/documentation/rfc/ptref_grammar.md">how to</a></p>

<p>You can use these APIs (click on them for details):</p>

<ul>
<li>  <strong><a href="#coverage">Coverage</a></strong> : List of the region covered by navitia</li>
<li>  <strong><a href="#pt-ref">Public transportation objects</a></strong> : List of the public transport
objects of a region</li>
<li>  <strong><a href="#places">Places</a></strong> and <strong><a href="#pt-objects">PT_objects</a></strong> : Search for data using autocomplete input.</li>
</ul>

          <h1 id="isochrones"><a name="isochrones"></a><img alt="Isochrones" src="images/isochrons.png" />Isochrones</h1>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fisochrones%3Ffrom%3D2.377097%253B48.846905%26boundary_duration%255B%255D%3D600%26boundary_duration%255B%255D%3D1200%26boundary_duration%255B%255D%3D1800%26boundary_duration%255B%255D%3D2400%26boundary_duration%255B%255D%3D3000%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground (click on &ldquo;MAP&rdquo; buttons for &ldquo;wow effect&rdquo;)</a></p>
</blockquote>

<p>Whether using a specific set of coordinates or a general location, you can find places within
your reach at a given time and their corresponding travel times, using a variety of transportation options.
You can even specify the maximum amount of time you want to spare on travel and find
the quickest way to reach your destination.</p>

<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fisochrones%3Ffrom%3D2.377097%3B48.846905%26max_duration%3D2000%26min_duration%3D1000&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0"><img alt="a simple isochrone request on Navitia playground" src="images/isochrones_example.png" /></a></p>

<p>Isochrone computing exposes information under two formats:</p>

<ul>
<li>  either <a href="#journeys">Journeys</a> service which provides a list with all the reachable stops at a given time from a potential destination
with their respective arrival times, travel times and number of matches. Here is a fiddle example:</li>
</ul>

<p><a
    href="https://jsfiddle.net/kisiodigital/x6207t6f/"
    target="_blank"
    class="button button-blue">
    Code it yourself on JSFiddle
</a></p>

<ul>
<li>  or <a href="#isochrones_api">isochrones</a> service which provides a multi-polygon stream in order to plate colors directly on a map,
or to filter geocoded objects inside the polygon. Here is a fiddle example:</li>
</ul>

<p><a
    href="https://jsfiddle.net/kisiodigital/u22zsg9y/"
    target="_blank"
    class="button button-blue">
    Code it yourself on JSFiddle
</a></p>

<p>You can use these APIs (click on them for details):</p>

<ul>
<li>  some <strong><a href="#places">Places</a></strong> requests: autocomplete on geographical data from an input text to find the isochrone starting point.</li>
<li>  <strong><a href="#journeys">Journeys</a></strong> : Compute all journeys from a departure point at a given time to every reachable point,
and returns a list of all reachable points, ordered by time to reach.</li>
<li>  <strong><a href="#isochrones_api">isochrones</a></strong> : Compute all journeys from a departure point at a given time to every reachable point,
and returns multiple geoJson ready to be displayed on map. This service is currently in beta.</li>
</ul>

          <h1 id="interface">Interface</h1>

<p>The base URL for <strong>navitia.io</strong> is :
<a href="https://api.navitia.io/v1/">https://api.navitia.io/v1/</a></p>

<p>We aim to implement <a href="http://en.wikipedia.org/wiki/HATEOAS">HATEOAS</a>
concept with Navitia.</p>

<p>Every resource returns a response containing a links object, a paging
object, and the requested objects, following hypermedia principles.
That&rsquo;s lots of links. Links allow you to know all accessible uris and services for a given point.</p>

<h2 id="paging">Paging</h2>

<aside class="success">
    The results are paginated to avoid crashing your parser. The parameters to get the next or previous page are within the &ldquo;links&rdquo; section of the result.
</aside>

<p>Every Navitia response contains a paging object</p>

<table><thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>items_per_page</td>
<td>int</td>
<td>Number of items per page</td>
</tr>
<tr>
<td>items_on_page</td>
<td>int</td>
<td>Number of items on this page</td>
</tr>
<tr>
<td>start_page</td>
<td>int</td>
<td>The page number</td>
</tr>
<tr>
<td>total_result</td>
<td>int</td>
<td>Total number of items for this request</td>
</tr>
</tbody></table>

<p>You can navigate through a response using 2 parameters</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>start_page</td>
<td>int</td>
<td>The page number</td>
</tr>
<tr>
<td>count</td>
<td>int</td>
<td>Number of items per page</td>
</tr>
</tbody></table>

<aside class="notice">
    The number of objects returned for a request can <b>not be superior than 1000</b>.
    If you request for more, Navitia will return the first 1000, and you will have to paginate to get next 1000.
</aside>

<h2 id="templated-url">Templated URL</h2>

<blockquote>
<p>From every object collection</p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#first request</span>

<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="c">#first line is like:</span>

<span class="o">{</span>
    <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"id"</span>: <span class="s2">"line:RAT:M1"</span>,
            <span class="s2">"code"</span>: <span class="s2">"1"</span>,
            <span class="s2">"name"</span>: <span class="s2">"Château de Vincennes - La Défense"</span>,
            <span class="s2">"..."</span>: <span class="s2">"..."</span>
        <span class="o">}</span>,
        <span class="o">{</span>...<span class="o">}</span>
        <span class="o">]</span>,
    ...,

<span class="c">#and a templated link from the example above:</span>

    <span class="s2">"links"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/lines/{lines.id}/stop_schedules"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"stop_schedules"</span>,
            <span class="s2">"templated"</span>: <span class="nb">true</span>
        <span class="o">}</span>,
        <span class="o">{</span>...<span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>

<span class="c">#you can then request for "stop_schedules" service using templating</span>
<span class="c">#be careful, without any filter, the response can be huge</span>

<span class="c">#second request</span>
<span class="c">#{line.id} has to be replaced by "line:RAT:M1"</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/stop_schedules'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#here is a smarter request for a line AND a stop_area</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/stop_areas/stop_area:RAT:SA:PLROY/stop_schedules'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

</code></pre>

<p>Under some link sections, you will find a &ldquo;templated&rdquo; property.</p>

<p>If &ldquo;templated&rdquo; is true, then you will have to format the link with your right id as describe in the example.
In order to do that, you will have to</p>

<ul>
<li>take the id from the object you want to get the linked service</li>
<li>replace {lines.id} in the url as the example</li>
</ul>

<h2 id="inner-references">Inner references</h2>
<pre class="highlight shell"><code><span class="c">#You may find "disruptions" link, as</span>

<span class="o">{</span>
    <span class="s2">"internal"</span>: <span class="nb">true</span>,
    <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
    <span class="s2">"id"</span>: <span class="s2">"edc46f3a-ad3d-11e4-a5e1-005056a44da2"</span>,
    <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
    <span class="s2">"templated"</span>: <span class="nb">false</span>
<span class="o">}</span>
</code></pre>

<p>Some link sections holds disruption links. These links are templated.</p>

<p>That means :</p>

<ul>
<li>inside the self stream ( <strong>&ldquo;internal&rdquo;: true</strong> )</li>
<li>you will find a <strong>disruptions</strong> section ( <strong>&ldquo;rel&rdquo;: &ldquo;disruptions&rdquo;</strong> )</li>
<li>containing some <a href="#disruption">disruptions</a> objects ( <strong>&ldquo;type&rdquo;: &ldquo;disruption&rdquo;</strong> )</li>
<li>where you can find the details of your object ( <strong>&ldquo;id&rdquo;: &ldquo;edc46f3a-ad3d-11e4-a5e1-005056a44da2&rdquo;</strong> ).</li>
</ul>

<h2 id="objects-order">Objects order</h2>

<p>Unless specified, objects lists are not sorted and stability of objects&rsquo; order is not guaranteed.<br>
This is also true for the ordering of the attributes of objects.</p>

<p>Examples of sorted objects tables:</p>

<ul>
<li>journeys in a <code class="prettyprint">/journeys</code> response</li>
<li><code class="prettyprint">/departures</code> and <code class="prettyprint">/arrivals</code></li>
<li><code class="prettyprint">/stop_schedules</code></li>
<li>stop_points in <code class="prettyprint">/routes/{route_id}?depth=3</code></li>
<li><code class="prettyprint">/places_nearby</code></li>
<li><code class="prettyprint">/places</code></li>
</ul>

<p>Examples of unsorted responses:</p>

<ul>
<li>stop_points in <code class="prettyprint">/lines/{line_id}/stop_points</code></li>
<li>pretty much everything else&hellip;</li>
</ul>

<h2 id="objects-attributes">Objects attributes</h2>

<p>Like almost any API, objects are subject to adaptations.<br>
Please be warned that we allow Navitia to add new attributes to objects, and it will never be considered a breaking change.</p>

<p>We also allow Navitia to add values to enum, so be prepared to that. For example <a href="#section">section&rsquo;s</a> type of journeys are regularly evolving.</p>

<h2 id="lifetime-of-id">Lifetime of id</h2>

<p>The way id (or uri) of an object is generated is not garanteed stable, nor are the data processed.
So we advise to limit to the minimum storing ids/uris of objects.
We recommend to use as much as possible a previous call to <strong><a href="#places">Places</a></strong> and <strong><a href="#pt-objects">PT_objects</a></strong>.
Also, be resilient if one of those ids/uris disappears.</p>

          <h1 id="api-catalog">API catalog</h1>

<h2 id="coverage"><a name="coverage"></a>Coverage</h2>

<p>Also known as <code class="prettyprint">/coverage</code> service.</p>

<p>You can easily navigate through regions covered by navitia.io, with the
coverage api. The shape of the region is provided in GeoJSON.</p>

<p>In Navitia, a coverage is a combination of multiple <a href="#datasets">datasets</a>
provided by different <a href="#contributors">contributors</a>
(typically data provided by a transport authority in GTFS format).
The combination of datasets used by a coverage is arbitrarily determined
but we try to use something that makes sense and has a reasonnable amount of data (country).</p>

<p>The only arguments are the ones of <a href="#paging">paging</a>.</p>

<aside class="notice">
    Most of the time you can avoid providing a region and let Navitia guess the right one for you.
    This can be done by providing coordinates in place of the region name:
    `/coverage/{lon;lat}/endpoint?parameter=value`
</aside>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage</code></td>
<td>List of the areas covered by navitia</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{region_id}</code></td>
<td>Information about a specific region</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}</code></td>
<td>Information about a specific region, navitia guesses the region from coordinates</td>
</tr>
</tbody></table>

<h3 id="fields">Fields</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the coverage</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the coverage</td>
</tr>
<tr>
<td>shape</td>
<td>string</td>
<td>GeoJSON of the shape of the coverage</td>
</tr>
<tr>
<td>dataset_created_at</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Creation date of the dataset</td>
</tr>
<tr>
<td>start_production_date</td>
<td><a href="#iso-date">iso-date</a></td>
<td>Beginning of the production period. We only have data on this production period</td>
</tr>
<tr>
<td>end_production_date</td>
<td><a href="#iso-date">iso-date</a></td>
<td>End of the production period. We only have data on this production period</td>
</tr>
</tbody></table>

<h4 id="production-period">Production period</h4>

<p>The production period is the validity period of the coverage&rsquo;s data.</p>

<p>There is no data outside this production period.</p>

<p>This production period cannot exceed one year.</p>

<aside class="notice">
Navitia need transportation data to work and those are very date dependant. To check that a coverage has some data for a given date, you need to check the production period of the coverage.
</aside>

<h2 id="datasets"><a name="datasets"></a>Datasets</h2>

<p>Very simple endpoint providing the sets of data that are used in the given coverage.</p>

<p>Those datasets (typically from transport authority in GTFS format), each provided by a
unique <a href="#contributors">contributor</a> are forming a <a href="#coverage">coverage</a>.</p>

<p>Contributor providing the dataset is also provided in the response.
Very usefull to know all the datas that form a coverage.</p>

<p>The only arguments are the ones of <a href="#paging">paging</a>.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td>`coverage/{region_id}/datasets</td>
<td>List of the datasets of a specific region</td>
</tr>
<tr>
<td>`coverage/{region_id}/datasets/{dataset_id}</td>
<td>Information about a specific dataset</td>
</tr>
</tbody></table>

<h2 id="contributors"><a name="contributors"></a>Contributors</h2>

<p>Very simple endpoint providing the contributors of data for the given coverage.</p>

<p>A contributor is a data provider (typically a transport authority), and can provide multiple <a href="#datasets">datasets</a>.
For example, the contributor Italian Railways will provide a dataset for the national train and some others for the regional trains.
We will try to put them in the same <a href="#coverage">coverage</a> so that we assemble them in the same journey search, using both.</p>

<p>Very usefull to know which contributors are used in the datasets forming a coverage.</p>

<p>The only arguments are the ones of <a href="#paging">paging</a>.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td>`coverage/{region_id}/contributors</td>
<td>List of the contributors of a specific region</td>
</tr>
<tr>
<td>`coverage/{region_id}/contributors/{dataset_id}</td>
<td>Information about a specific contributor</td>
</tr>
</tbody></table>

<h2 id="inverted-geocoding"><a name="coord"></a>Inverted geocoding</h2>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coords/2.37705;48.84675'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response where you can find the right Navitia coverage, and a useful label</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"regions"</span>: <span class="o">[</span>
        <span class="s2">"sandbox"</span>
    <span class="o">]</span>,
    <span class="s2">"address"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"2.37705;48.84675"</span>,
        <span class="s2">"label"</span>: <span class="s2">"20 Rue Hector Malot (Paris)"</span>,
        <span class="s2">"..."</span>: <span class="s2">"..."</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<blockquote>
<p>in this example, the coverage id is &ldquo;regions&rdquo;: [&ldquo;sandbox&rdquo;]
so you can ask Navitia on accessible local mobility services:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"regions"</span>: <span class="o">[{</span>
        <span class="s2">"status"</span>: <span class="s2">"running"</span>,
        <span class="s2">"start_production_date"</span>: <span class="s2">"20160101"</span>,<span class="s2">"end_production_date"</span>: <span class="s2">"20160831"</span>,
        <span class="s2">"id"</span>: <span class="s2">"sandbox"</span>
    <span class="o">}]</span>,
    <span class="s2">"links"</span>: <span class="o">[</span>
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/coords"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/places"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/networks"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/physical_modes"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/companies"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/commercial_modes"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/lines"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/routes"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/stop_areas"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/stop_points"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/line_groups"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/connections"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/vehicle_journeys"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/poi_types"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/pois"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/disruptions"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/datasets"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/line_groups"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/trips"</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"href"</span>: <span class="s2">"https://api.navitia.io/v1/coverage/sandbox/"</span><span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>

</code></pre>

<p>Also known as <code class="prettyprint">/coords</code> service.</p>

<p>Very simple service: you give Navitia some coordinates, it answers you</p>

<ul>
<li>  your detailed postal address</li>
<li>  the right Navitia &ldquo;coverage&rdquo; which allows you to access to all known
local mobility services</li>
</ul>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">places/{lon;lat}</code></td>
<td>Detailed address point</td>
</tr>
<tr>
<td><code class="prettyprint">/places/{id}</code></td>
<td>Information about places</td>
</tr>
<tr>
<td><code class="prettyprint">coverage/{lon;lat}/places/{lon;lat}</code></td>
<td>Detailed address point, navitia guesses the region from coordinates</td>
</tr>
<tr>
<td><code class="prettyprint">coverage/{lon;lat}/places/{id}</code></td>
<td>Information about places, navitia guesses the region from coordinates</td>
</tr>
<tr>
<td><code class="prettyprint">coverage/{region_id}/places/{lon;lat}</code></td>
<td>Detailed address point</td>
</tr>
<tr>
<td><code class="prettyprint">coverage/{region_id}/places/{id}</code></td>
<td>Information about places</td>
</tr>
</tbody></table>

<p>You can also combine <code class="prettyprint">/coords</code> with other filter as :</p>

<ul>
<li>  get <a href="#poi">POIs</a> near a coordinate

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/pois?distance=1000">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/pois?distance=1000</a></li>
</ul></li>
<li>  get specific POIs near a coordinate

<ul>
<li><a href="https://api.navitia.io/v1/coverage/fr-idf/poi_types/poi_type:amenity:bicycle_rental/coords/2.377310;48.847002/pois?distance=1000">https://api.navitia.io/v1/coverage/fr-idf/poi_types/poi_type:amenity:bicycle_rental/coords/2.377310;48.847002/pois?distance=1000</a></li>
</ul></li>
</ul>

<h2 id="public-transportation-objects-exploration"><a name="pt-ref"></a>Public Transportation Objects exploration</h2>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fpt_objects%3Fq%3Dmetro%25201">Try it on Navitia playground</a></p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=metro%201'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"pt_objects"</span>:[
        <span class="o">{</span>
            <span class="s2">"id"</span>:<span class="s2">"line:RAT:M1"</span>,
            <span class="s2">"name"</span>:<span class="s2">"RATP Metro 1 (Château de Vincennes - La Défense)"</span>,
            <span class="s2">"embedded_type"</span>:<span class="s2">"line"</span>,
            <span class="s2">"line"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"line:RAT:M1"</span>,
                <span class="s2">"name"</span>:<span class="s2">"Château de Vincennes - La Défense"</span>,
                <span class="s2">"code"</span>:<span class="s2">"1"</span>,
                <span class="s2">"..."</span>: <span class="s2">"..."</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"id"</span>:<span class="s2">"line:RAT:M11"</span>,
            <span class="s2">"name"</span>:<span class="s2">"RATP Metro 11 (Mairie des Lilas - Châtelet)"</span>
            <span class="s2">"embedded_type"</span>:<span class="s2">"line"</span>,
            <span class="s2">"line"</span>:<span class="o">{</span>
                <span class="s2">"..."</span>: <span class="s2">"..."</span>
            <span class="o">}</span>,
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"id"</span>:<span class="s2">"line:RAT:M12"</span>,
            <span class="s2">"name"</span>:<span class="s2">"RATP Metro 12 (Mairie d'Issy - Front Populaire)"</span>,
            <span class="s2">"embedded_type"</span>:<span class="s2">"line"</span>,
            <span class="s2">"line"</span>:<span class="o">{</span>
                <span class="s2">"..."</span>: <span class="s2">"..."</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>: <span class="s2">"..."</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>: <span class="s2">"..."</span><span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/networks</code>, <code class="prettyprint">/lines</code>, <code class="prettyprint">/stop_areas</code>&hellip; services.</p>

<p>Once you have selected a region, you can explore the public
transportation objects easily with these APIs. You just need to add at
the end of your URL a collection name to see every objects within a
particular collection. To see an object detail, add the id of this object at the
end of the collection&rsquo;s URL. The <a href="#paging">paging</a> arguments may be used to
paginate results.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/{collection_name}</code></td>
<td>Collection of objects of a region</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/{collection_name}/{object_id}</code></td>
<td>Information about a specific object</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/{collection_name}</code></td>
<td>Collection of objects of a region, navitia guesses the region from coordinates</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/{collection_name}/{object_id}</code></td>
<td>Information about a specific object, navitia guesses the region from coordinates</td>
</tr>
</tbody></table>

<h3 id="collections">Collections</h3>

<ul>
<li>  <a href="#network">networks</a></li>
<li>  <a href="#line">lines</a></li>
<li>  <a href="#route">routes</a></li>
<li>  <a href="#stop-point">stop_points</a></li>
<li>  <a href="#stop-area">stop_areas</a></li>
<li>  <a href="#commercial-mode">commercial_modes</a></li>
<li>  <a href="#physical-mode">physical_modes</a></li>
<li>  <a href="#company">companies</a></li>
<li>  <a href="#vehicle-journey">vehicle_journeys</a></li>
<li>  <a href="#disruption">disruptions</a></li>
</ul>

<h3 id="shared-parameters">Shared parameters</h3>

<h4 id="depth"><a name="depth"></a>depth</h4>

<p>You are looking for something, but Navitia doesn&rsquo;t output it in your favorite endpoint?<br>
You want to request more from navitia feed?<br>
You are receiving feeds that are too important and too slow with low bandwidth?<br>
You would like Navitia to serve GraphQL but it is still not planned?</p>

<p>Feeds from endpoint might miss informations, but this tiny <code class="prettyprint">depth=</code> parameter can
expand Navitia power by making it more wordy. Or lighter if you want it.</p>

<p>Here is some examples around &ldquo;metro line 1&rdquo; from the Parisian network:</p>

<ul>
<li>Get &ldquo;line 1&rdquo; id

<ul>
<li><a href="https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=metro%201">https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=metro%201</a><br>
The id is &ldquo;line:RAT:M1&rdquo;</li>
</ul></li>
<li>Get routes for this line

<ul>
<li><a href="https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes">https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes</a><br>
Default depth is <code class="prettyprint">depth=1</code></li>
</ul></li>
<li>Want to get a tiny response? Just add <code class="prettyprint">depth=0</code>

<ul>
<li><a href="https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=0">https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=0</a><br>
The response is lighter (parent lines disappear for example)</li>
</ul></li>
<li>Want more informations, just add <code class="prettyprint">depth=2</code>

<ul>
<li><a href="https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=2">https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=2</a><br>
The response is a little more verbose (some geojson can appear in response when using your open data token)</li>
</ul></li>
<li>Wanna fat more informations, let&rsquo;s try <code class="prettyprint">depth=3</code>

<ul>
<li><a href="https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=3">https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/routes?depth=3</a><br>
Big response: all stop_points are shown</li>
</ul></li>
<li>Wanna spam the internet bandwidth? Try <code class="prettyprint">depth=42</code>

<ul>
<li>No. There is a technical limit with <code class="prettyprint">depth=3</code></li>
</ul></li>
</ul>

<h4 id="odt-level">odt level</h4>

<ul>
<li>  Type: String</li>
<li>  Default value: all</li>
<li>  Warning: works ONLY with <em>/<a href="#line">lines</a></em> collection&hellip;</li>
</ul>

<p>It allows you to request navitia for specific pickup lines. It refers to
the <a href="#odt">odt</a> section. &ldquo;odt_level&rdquo; can take one of these values:</p>

<ul>
<li>  all (default value): no filter, provide all public transport lines,
whatever its type</li>
<li>  scheduled : provide only regular lines (see the <a href="#odt">odt</a> section)</li>
<li>  with_stops : to get regular, &ldquo;odt_with_stop_time&rdquo; and &ldquo;odt_with_stop_point&rdquo; lines.

<ul>
<li>  You can easily request route_schedule and stop_schedule with these kind of lines.</li>
<li>  Be aware of &ldquo;estimated&rdquo; stop times</li>
</ul></li>
<li>  zonal : to get &ldquo;odt_with_zone&rdquo; lines with non-detailed journeys</li>
</ul>

<p>For example</p>

<p><a href="https://api.navitia.io/v1/coverage/fr-nw/networks/network:lila/lines">https://api.navitia.io/v1/coverage/fr-nw/networks/network:lila/lines</a></p>

<p><a href="https://api.navitia.io/v1/coverage/fr-nw/networks/network:irigo/lines?odt_level=scheduled">https://api.navitia.io/v1/coverage/fr-nw/networks/network:irigo/lines?odt_level=scheduled</a></p>

<h4 id="distance">distance</h4>

<ul>
<li>  Type: Integer</li>
<li>  Default value: 200</li>
</ul>

<p>If you specify coords in your filter, you can modify the radius used for
the proximity search.</p>

<p><a href="https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules?distance=500">https://api.navitia.io/v1/coverage/fr-idf/coords/2.377310;48.847002/stop_schedules?distance=500</a></p>

<h4 id="headsign">headsign</h4>

<ul>
<li>  Type: String</li>
</ul>

<p>If given, add a filter on the vehicle journeys that has the given value
as headsign (on vehicle journey itself or at a stop time).</p>

<p>Examples:</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/vehicle_journeys?headsign=PADO">https://api.navitia.io/v1/coverage/fr-idf/vehicle_journeys?headsign=PADO</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/stop_areas?headsign=PADO">https://api.navitia.io/v1/coverage/fr-idf/stop_areas?headsign=PADO</a></li>
</ul>

<aside class="warning">
    This last request gives the stop areas used by the vehicle
    journeys containing the headsign PADO, <b>not</b> the stop areas where it
    exists a stop time with the headsign PADO.
</aside>

<h4 id="since-until">since / until</h4>

<ul>
<li>  Type: <a href="#iso-date-time">iso-date-time</a></li>
</ul>

<p>To be used only on &ldquo;vehicle_journeys&rdquo; and &ldquo;disruptions&rdquo; collection, to filter on a
period. Both parameters &ldquo;until&rdquo; and &ldquo;since&rdquo; are optional.</p>

<p>Example:</p>

<ul>
<li>  Getting every active New Jersey vehicles between 12h00 and 12h01, on a specific date <a href="https://api.navitia.io/v1/coverage/us-ny/networks/network:newjersey/vehicle_journeys?since=20170407T120000&amp;until=20170407T120100">https://api.navitia.io/v1/coverage/us-ny/networks/network:newjersey/vehicle_journeys?since=20170407T120000&amp;until=20170407T120100</a></li>
<li>  Getting every active disruption on &ldquo;Bretagne&rdquo; for a specific date <a href="http://api.navitia.io/v1/coverage/fr-bre/disruptions?since=20170206000000&amp;until=20170206235959">http://api.navitia.io/v1/coverage/fr-bre/disruptions?since=20170206000000&amp;until=20170206235959</a></li>
</ul>

<aside class="warning">
    On vehicle_journey this filter is applied using only the first stop time.
    On disruption this filter must intersect with one application period.
    &ldquo;since&rdquo; and &ldquo;until&rdquo; are included.
</aside>

<h4 id="disable_geojson">disable_geojson</h4>

<p>By default geojson part of an object are returned in navitia&rsquo;s responses, this parameter allows you to
remove them, it&rsquo;s useful when searching lines that you don&rsquo;t want to display on a map.</p>

<aside class="notice">
    Geojson objects can be very large, 1MB is not unheard of, and they don&rsquo;t compress very well.
    So this parameter is mostly here for reducing your downloading times and helping your json parser.
    It&rsquo;s almost mandatory on mobile devices since most cellular networks are still relatively slow.
</aside>

<p>Examples :</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/lines?disable_geojson=true">https://api.navitia.io/v1/coverage/fr-idf/lines?disable_geojson=true</a></li>
</ul>

<h4 id="disable_disruption">disable_disruption</h4>

<p>By default disruptions are also present in navitia&rsquo;s responses on apis &ldquo;PtRef&rdquo;, &ldquo;pt_objects&rdquo; and &ldquo;places_nearby&rdquo;.
This parameter allows you to remove them, reducing the response size.</p>

<aside class="notice">
    Disruptions can be large and not necessary while searching objects.
    This parameter is mostly here to be able to search objects without disruptions in the response.
</aside>

<p>Examples :</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/lines?disable_disruption=true">https://api.navitia.io/v1/coverage/fr-idf/lines?disable_disruption=true</a></li>
</ul>

<h3 id="filter"><a name="filter"></a>Filter</h3>

<p>It is possible to apply a filter to the returned collection, using
&ldquo;filter&rdquo; parameter. If no object matches the filter, a &ldquo;bad_filter&rdquo;
error is sent. If filter can not be parsed, an &ldquo;unable_to_parse&rdquo; error
is sent.</p>

<h4 id="collection-has_code">{collection}.has_code</h4>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%3Ffilter%3Dstop_area.has_code%28source%2CCAMPO%29">Try it on Navitia playground</a></p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#for any pt_object request, as this one:</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#you can find codes on every pt_object, like:</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"codes"</span> :[
                <span class="o">{</span>
                    <span class="s2">"type"</span>: <span class="s2">"external_code"</span>,
                    <span class="s2">"value"</span>: <span class="s2">"RATCAMPO"</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"type"</span> : <span class="s2">"source"</span>,
                    <span class="s2">"value"</span> : <span class="s2">"CAMPO"</span>
                <span class="o">}</span>
            <span class="o">]</span>
            <span class="s2">"..."</span>: <span class="s2">"..."</span>,
        <span class="o">}</span>,
        <span class="o">{</span>...<span class="o">}</span>
<span class="o">]</span>

<span class="c">#you can request for objects with a specific code</span>
<span class="c">#for example, you can get this stoparea, having a "source" code "CAMPO"</span>
<span class="c">#by using parameter "filter=stop_area.has_code(source,CAMPO)" like:</span>

<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas?filter=stop_area.has_code(source,CAMPO)'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre>

<p>Every object managed by Navitia comes with its own list of ids.
You will find some source ids, merge ids, etc. in &ldquo;codes&rdquo; list in json responses.
Be careful, these codes may not be unique. The navitia id is the only unique id.</p>

<p>You may have to request an object by one of these ids, in order to call an external service for example.</p>

<p>The filter format is <code class="prettyprint">filter={collection_name}.has_code({code_type},{code_value})</code></p>

<p>Examples :</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-sw/stop_points?filter=stop_point.has_code(source,5852)">https://api.navitia.io/v1/coverage/fr-sw/stop_points?filter=stop_point.has_code(source,5852)</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-sw/stop_areas?filter=stop_area.has_code(gtfs_stop_code,1303)">https://api.navitia.io/v1/coverage/fr-sw/stop_areas?filter=stop_area.has_code(gtfs_stop_code,1303)</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-sw/lines?filter=line.has_code(source,11821949021891619)">https://api.navitia.io/v1/coverage/fr-sw/lines?filter=line.has_code(source,11821949021891619)</a></li>
</ul>

<aside class="warning">
    these ids (which are not Navitia ids) may not be unique. you will have to manage a tuple in response.
</aside>

<h4 id="line-code">line.code</h4>

<p>It allows you to request navitia objects referencing a line whose code
is the one provided, especially lines themselves and routes.</p>

<p>Examples :</p>

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/lines?filter=line.code=4">https://api.navitia.io/v1/coverage/fr-idf/lines?filter=line.code=4</a></li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/routes?filter=line.code=%22m%C3%A9tro%20347%22">https://api.navitia.io/v1/coverage/fr-idf/routes?filter=line.code=&ldquo;métro 347&rdquo;</a></li>
</ul>

<h3 id="few-exploration-examples">Few exploration examples</h3>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/physical_modes'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"links"</span>: <span class="o">[</span>
        <span class="s2">"..."</span>
    <span class="o">]</span>,
    <span class="s2">"pagination"</span>: <span class="o">{</span>
        <span class="s2">"..."</span>
    <span class="o">}</span>,
    <span class="s2">"physical_modes"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"id"</span>: <span class="s2">"physical_mode:Bus"</span>,
            <span class="s2">"name"</span>: <span class="s2">"Bus"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"id"</span>: <span class="s2">"physical_mode:Metro"</span>,
            <span class="s2">"name"</span>: <span class="s2">"Métro"</span>
        <span class="o">}</span>,
        <span class="s2">"..."</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>Other examples</p>

<ul>
<li>  Network list

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks">https://api.navitia.io/v1/coverage/fr-idf/networks</a></li>
</ul></li>
<li>  Physical mode list

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/physical_modes">https://api.navitia.io/v1/coverage/fr-idf/physical_modes</a></li>
</ul></li>
<li>  Line list

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/lines">https://api.navitia.io/v1/coverage/fr-idf/lines</a></li>
</ul></li>
<li>  Line list for one mode

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/physical_modes/physical_mode:Metro/lines">https://api.navitia.io/v1/coverage/fr-idf/physical_modes/physical_mode:Metro/lines</a></li>
</ul></li>
</ul>

<p>You will find lots of more advanced example in <a href="#a-quick-exploration">a quick exploration</a>
chapter</p>

<h2 id="autocomplete-on-public-transport-objects"><a name="pt-objects"></a>Autocomplete on Public Transport objects</h2>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fpt_objects%3Fq%3Dmetro%25204%26type%5B%5D%3Dline%26type%5B%5D%3Droute">Try it on Navitia playground</a></p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># Search objects of type 'line' or 'route' containing 'metro 4'</span>

<span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=metro%204&amp;type\[\]=line&amp;type\[\]=route'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"pt_objects"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"embedded_type"</span>: <span class="s2">"line"</span>,
            <span class="s2">"line"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"id"</span>: <span class="s2">"line:RAT:M4"</span>,
            <span class="s2">"name"</span>: <span class="s2">"RATP Metro 4 (Porte de Clignancourt - Mairie de Montrouge)"</span>
        <span class="o">}</span>,
    <span class="o">]</span>,
    <span class="s2">"links"</span> : <span class="o">[</span>...],
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/pt_objects</code> service.</p>

<p>This endpoint allows you to search in public transport objects using their names. It&rsquo;s a kind
of magical <a href="https://en.wikipedia.org/wiki/Autocomplete">autocomplete</a> on public transport data.
It returns a collection of <a href="#pt-object">pt_object</a>.</p>

<h3 id="how-does-it-works">How does it works</h3>

<p>Differents kind of objects can be returned (sorted as):</p>

<ul>
<li>  network</li>
<li>  commercial_mode</li>
<li>  line</li>
<li>  route</li>
<li>  stop_area</li>
</ul>

<p>Here is a typical use case. A traveler has to find a line between the
1500 lines around Paris.</p>

<h4 id="examples">Examples</h4>

<p>User could type one of the following without any filters:</p>

<h5 id="traveler-input-quot-bob-quot">Traveler input &ldquo;bob&rdquo;:</h5>

<ul>
<li> network : &ldquo;bobby network&rdquo;</li>
<li> line : &ldquo;bobby bus 1&rdquo;</li>
<li> line : &ldquo;bobby bus 2&rdquo;</li>
<li> route : &ldquo;bobby bus 1 to green&rdquo;</li>
<li> route : &ldquo;bobby bus 1 to rose&rdquo;</li>
<li> route : &ldquo;bobby bus 2 to yellow&rdquo;</li>
<li> stop_area : &ldquo;&hellip;</li>
</ul>

<h5 id="traveler-input-quot-bobby-met-quot">Traveler input &quot;bobby met&rdquo;:</h5>

<ul>
<li> line : &ldquo;bobby metro 1&rdquo;</li>
<li> line : &ldquo;bobby metro 11&rdquo;</li>
<li> line : &ldquo;bobby metro 2&rdquo;</li>
<li> line : &ldquo;bobby metro 3&rdquo;</li>
<li> route : &ldquo;bobby metro 1 to Martin&rdquo;</li>
<li> route : &ldquo;bobby metro 1 to Mahatma&rdquo;</li>
<li> route : &ldquo;bobby metro 11 to Marcus&rdquo;</li>
<li> route : &ldquo;bobby metro 11 to Steven&rdquo;</li>
<li> route : &ldquo;&hellip;</li>
</ul>

<h5 id="traveler-input-quot-bobby-met-11-quot-or-quot-bobby-metro-11-quot">Traveler input: &quot;bobby met 11&rdquo; or &ldquo;bobby metro 11&rdquo;:</h5>

<ul>
<li> line : &ldquo;bobby metro 11&rdquo;</li>
<li> route : &ldquo;bobby metro 11 to Marcus&rdquo;</li>
<li> route : &ldquo;bobby metro 11 to Steven&rdquo;</li>
</ul>

<h3 id="access">Access</h3>
<pre class="highlight shell"><code><span class="c"># Search objects of type 'network' containing 'RAT'</span>
curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/pt_objects?q=RAT&amp;type\[\]=network'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"pt_objects"</span>:[
        <span class="o">{</span>
            <span class="s2">"id"</span>:<span class="s2">"network:RAT:1"</span>,
            <span class="s2">"name"</span>:<span class="s2">"RATP"</span>,
            <span class="s2">"embedded_type"</span>:<span class="s2">"network"</span>,
            <span class="s2">"network"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"network:RAT:1"</span>,
                <span class="s2">"name"</span>:<span class="s2">"RATP"</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/{resource_path}/pt_objects</code></td>
<td>List of public transport objects</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>yep</td>
<td>q</td>
<td>string</td>
<td>The search term</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>type[]</td>
<td>array of string</td>
<td>Type of objects you want to query It takes one the following values: [<code class="prettyprint">network</code>, <code class="prettyprint">commercial_mode</code>, <code class="prettyprint">line</code>, <code class="prettyprint">route</code>, <code class="prettyprint">stop_area</code>]</td>
<td>[<code class="prettyprint">network</code>, <code class="prettyprint">commercial_mode</code>, <code class="prettyprint">line</code>, <code class="prettyprint">route</code>, <code class="prettyprint">stop_area</code>]</td>
</tr>
<tr>
<td>nop</td>
<td>disable_disruption</td>
<td>boolean</td>
<td>Remove disruptions from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
</tbody></table>

<aside class="warning">
There is no pagination for this api
</aside>

<h2 id="autocomplete-on-geographical-objects"><a name="places"></a>Autocomplete on geographical objects</h2>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/places?q=rue'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"places"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"embedded_type"</span>: <span class="s2">"stop_area"</span>,
        <span class="s2">"stop_area"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"id"</span>: <span class="s2">"stop_area:RAT:SA:RDBAC"</span>,
        <span class="s2">"name"</span>: <span class="s2">"Rue du Bac (Paris)"</span>
        <span class="o">}</span>,
        ...
    <span class="o">]</span>,
    <span class="s2">"links"</span> : <span class="o">[</span>...],
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/places</code> service.</p>

<p>This endpoint allows you to search in all geographical objects using their names, returning
a <a href="#place">place</a> collection.</p>

<p>It is very useful to make some <a href="https://en.wikipedia.org/wiki/Autocomplete">autocomplete</a> stuff ie
to understand the user input even if he has mittens.</p>

<p>Differents kind of objects can be returned (sorted as):</p>

<ul>
<li>  administrative_region</li>
<li>  stop_area</li>
<li>  poi</li>
<li>  address</li>
<li>  stop_point (appears only if specified, using <code class="prettyprint">&amp;type[]=stop_point</code> filter)</li>
</ul>

<aside class="warning">
    There is no pagination for this api.
</aside>

<aside class="notice">
    The returned `quality` field is deprecated and only maintained for backward compatibility.
    Please consider only navitia&rsquo;s output order.
</aside>

<h3 id="access">Access</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/places</code></td>
<td>List of geographical objects within a coverage</td>
</tr>
<tr>
<td><code class="prettyprint">/places</code></td>
<td><em>Beta</em>: List of geographical objects within Earth</td>
</tr>
</tbody></table>

<aside class="warning">
    Until now, you have to specify the right coverage to get `/places`.<br>
    If you like to play, you can test the &ldquo;beta&rdquo; `/places`, without any coverage:
    it will soon be able to request entire Earth on adresses, POIs, stop areas&hellip; with geographical sort.
</aside>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>yep</td>
<td>q</td>
<td>string</td>
<td>The search term</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>type[]</td>
<td>array of string</td>
<td>Type of objects you want to query It takes one the following values: [<code class="prettyprint">stop_area</code>, <code class="prettyprint">address</code>, <code class="prettyprint">administrative_region</code>, <code class="prettyprint">poi</code>, <code class="prettyprint">stop_point</code>]</td>
<td>[<code class="prettyprint">stop_area</code>, <code class="prettyprint">address</code>, <code class="prettyprint">poi</code>, <code class="prettyprint">administrative_region</code>]</td>
</tr>
<tr>
<td>nop</td>
<td>admin_uri[]</td>
<td>array of string</td>
<td>If filled, it will filter the search within the given admin uris</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>from</td>
<td>string</td>
<td>Coordinates longitude;latitude used to prioritize the objects around this coordinate. Note this parameter will be taken into account only if the autocomplete&rsquo;s backend can handle it</td>
<td></td>
</tr>
</tbody></table>

<h2 id="places-nearby"><a name="places-nearby-api"></a>Places Nearby</h2>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%3ARAT%3ASA%3ACAMPO%2Fplaces_nearby">Try it on Navitia playground (click on &ldquo;MAP&rdquo; buttons to see places)</a></p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas/stop_area:RAT:SA:CAMPO/places_nearby'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
<span class="s2">"places_nearby"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"embedded_type"</span>: <span class="s2">"stop_point"</span>,
        <span class="s2">"stop_point"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"distance"</span>: <span class="s2">"0"</span>,
        <span class="s2">"quality"</span>: 0,
        <span class="s2">"id"</span>: <span class="s2">"stop_point:RAT:SP:CAMPO2"</span>,
        <span class="s2">"name"</span>: <span class="s2">"Campo-Formio (Paris)"</span>
    <span class="o">}</span>,
    ....
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/places_nearby</code> service.</p>

<p>This endpoint allows you to search for public transport objects that are near another object, or nearby
coordinates, returning a <a href="#place">places</a> collection.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/coords/{lon;lat}/places_nearby</code></td>
<td>List of objects near the resource, navitia guesses the region from coordinates</td>
</tr>
<tr>
<td><code class="prettyprint">/coord/{lon;lat}/places_nearby</code></td>
<td>List of objects near the resource without any region id (same result as above)</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/coords/{lon;lat}/places_nearby</code></td>
<td>List of objects near a coordinate</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/{resource_path}/places_nearby</code></td>
<td>List of objects near the resource</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>distance</td>
<td>int</td>
<td>Distance range in meters</td>
<td>500</td>
</tr>
<tr>
<td>nop</td>
<td>type[]</td>
<td>array of string</td>
<td>Type of objects you want to query</td>
<td>[<code class="prettyprint">stop_area</code>, <code class="prettyprint">stop_point</code>, <code class="prettyprint">poi</code>, <code class="prettyprint">administrative_region</code>]</td>
</tr>
<tr>
<td>nop</td>
<td>admin_uri[]</td>
<td>array of string</td>
<td>If filled, will filter the search within the given admin uris</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>filter</td>
<td>string</td>
<td>Use to filter returned objects. for example: places_type.id=theater</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>Remove geojson from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>disable_disruption</td>
<td>boolean</td>
<td>Remove disruptions from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>count</td>
<td>int</td>
<td>Elements per page</td>
<td>10</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>start_page</td>
<td>int</td>
<td>The page number (cf the <a href="#paging">paging section</a>)</td>
<td>0</td>
</tr>
<tr>
<td>nop</td>
<td>add_poi_infos[]</td>
<td>enum</td>
<td>Activate the output of additional infomations about the poi. For example, parking availability (BSS, car parking etc.) in the pois of response. Pass <code class="prettyprint">add_poi_infos[]=none&amp;</code> or <code class="prettyprint">add_poi_infos[]=&amp;</code> (empty string) to deactivate all.</td>
<td>[<code class="prettyprint">bss_stands</code>, <code class="prettyprint">car_park</code>]</td>
</tr>
</tbody></table>

<p>Filters can be added:</p>

<ul>
<li>  request for the city of &ldquo;Paris&rdquo; on fr-idf

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/places?q=paris">https://api.navitia.io/v1/coverage/fr-idf/places?q=paris</a></li>
</ul></li>
<li>  then pois nearby this city

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby">https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby</a></li>
</ul></li>
<li>  and then, let&rsquo;s catch every parking around

<ul>
<li>  &ldquo;distance=10000&rdquo; Paris is not so big</li>
<li>  &ldquo;type[]=poi&rdquo; to take pois only</li>
<li>  &ldquo;filter=poi_type.id=poi_type:amenity:parking&rdquo; to get parking</li>
<li>  &ldquo;count=100&rdquo; for classic pagination (to get the 100 nearest ones)</li>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby?distance=10000&amp;count=100&amp;type%5B%5D=poi&amp;filter=poi_type.id=poi_type:amenity:parking">https://api.navitia.io/v1/coverage/fr-idf/places/admin:7444/places_nearby?distance=10000&amp;count=100&amp;type[]=poi&amp;filter=poi_type.id=poi_type:amenity:parking</a></li>
</ul></li>
</ul>

<p>The results are sorted by distance.</p>

<h2 id="journeys"><a name="journeys"></a>Journeys</h2>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fjourneys%3Ffrom%3D2.3749036%3B48.8467927%26to%3D2.2922926%3B48.8583736">Try it on Navitia playground</a></p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/journeys?from=2.3749036;48.8467927&amp;to=2.2922926;48.8583736'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre>
<pre class="highlight shell"><code><span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"tickets"</span>: <span class="o">[]</span>,
    <span class="s2">"links"</span>: <span class="o">[</span>...],
    <span class="s2">"journeys"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"fare"</span>: <span class="o">{</span>...<span class="o">}</span>,
        <span class="s2">"status"</span>: <span class="s2">""</span>,
        <span class="s2">"tags"</span>: <span class="o">[]</span>,
        <span class="s2">"type"</span>: <span class="s2">"comfort"</span>,
        <span class="s2">"nb_transfers"</span>: 0,
        <span class="s2">"duration"</span>: 2671,
        <span class="s2">"requested_date_time"</span>: <span class="s2">"20160613T133748"</span>,
        <span class="s2">"departure_date_time"</span>: <span class="s2">"20160613T133830"</span>,
        <span class="s2">"arrival_date_time"</span>: <span class="s2">"20160613T142301"</span>,
        <span class="s2">"calendars"</span>: <span class="o">[</span>...],
        <span class="s2">"co2_emission"</span>: <span class="o">{</span><span class="s2">"unit"</span>: <span class="s2">"gEC"</span>, <span class="s2">"value"</span>: 24.642<span class="o">}</span>,
        <span class="s2">"sections"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"from"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Rue Abel"</span><span class="o">}</span>,
            <span class="s2">"to"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Bercy (Paris)"</span><span class="o">}</span>,
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20160613T135400"</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20160613T133830"</span>,
            <span class="s2">"duration"</span>: 930,
            <span class="s2">"type"</span>: <span class="s2">"street_network"</span>,
            <span class="s2">"mode"</span>: <span class="s2">"walking"</span>,
            <span class="s2">"geojson"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"path"</span>: <span class="o">[</span>...],
            <span class="s2">"links"</span>: <span class="o">[]</span>
        <span class="o">}</span>,<span class="o">{</span>
            <span class="s2">"from"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Bercy (Paris)"</span><span class="o">}</span>,
            <span class="s2">"to"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Bir-Hakeim Tour Eiffel (Paris)"</span><span class="o">}</span>,
            <span class="s2">"type"</span>: <span class="s2">"public_transport"</span>,
            <span class="s2">"display_informations"</span>: <span class="o">{</span>
                <span class="s2">"direction"</span>: <span class="s2">"Charles de Gaulle — Étoile (Paris)"</span>,
                <span class="s2">"code"</span>: <span class="s2">"6"</span>,
                <span class="s2">"color"</span>: <span class="s2">"79BB92"</span>,
                <span class="s2">"physical_mode"</span>: <span class="s2">"M?tro"</span>,
                <span class="s2">"headsign"</span>: <span class="s2">"Charles de Gaulle Etoile"</span>,
                <span class="s2">"commercial_mode"</span>: <span class="s2">"Metro"</span>,
                <span class="s2">"label"</span>: <span class="s2">"6"</span>,
                <span class="s2">"text_color"</span>: <span class="s2">"000000"</span>,
                <span class="s2">"network"</span>: <span class="s2">"RATP"</span><span class="o">}</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20160613T135400"</span>,
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20160613T141500"</span>,
            <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20160613T141500"</span>,
            <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20160613T135400"</span>,
            <span class="s2">"duration"</span>: 1260,
            <span class="s2">"additional_informations"</span>: <span class="o">[</span><span class="s2">"regular"</span><span class="o">]</span>,
            <span class="s2">"co2_emission"</span>: <span class="o">{</span><span class="s2">"unit"</span>: <span class="s2">"gEC"</span>, <span class="s2">"value"</span>: 24.642<span class="o">}</span>,
            <span class="s2">"geojson"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"stop_date_times"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"stop_point"</span>: <span class="o">{</span>... , <span class="s2">"label"</span>: <span class="s2">"Bercy (Paris)"</span><span class="o">}</span>,
                <span class="s2">"arrival_date_time"</span>: <span class="s2">"20160613T135400"</span>,
                <span class="s2">"departure_date_time"</span>: <span class="s2">"20160613T135400"</span>,
                <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20160613T135400"</span>,
                <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20160613T135400"</span>
            <span class="o">}</span>,
            <span class="o">{</span>...<span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"from"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Bir-Hakeim Tour Eiffel (Paris)"</span> <span class="o">}</span>,
            <span class="s2">"to"</span>: <span class="o">{</span>... , <span class="s2">"name"</span>: <span class="s2">"Allée des Refuzniks"</span><span class="o">}</span>,
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20160613T142301"</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20160613T141500"</span>,
            <span class="s2">"duration"</span>: 481,
            <span class="s2">"type"</span>: <span class="s2">"street_network"</span>,
            <span class="s2">"mode"</span>: <span class="s2">"walking"</span>,
            <span class="s2">"geojson"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"path"</span>: <span class="o">[</span>...],
        <span class="o">}]</span>
    <span class="o">}</span>,
    <span class="o">{</span>...<span class="o">}</span>,
    <span class="o">{</span>...<span class="o">}]</span>,
    <span class="s2">"disruptions"</span>: <span class="o">[]</span>,
    <span class="s2">"notes"</span>: <span class="o">[]</span>,
    <span class="s2">"feed_publishers"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"url"</span>: <span class="s2">""</span>,
        <span class="s2">"id"</span>: <span class="s2">"sandbox"</span>,
        <span class="s2">"license"</span>: <span class="s2">""</span>,
        <span class="s2">"name"</span>: <span class="s2">""</span>
    <span class="o">}]</span>,
    <span class="s2">"exceptions"</span>: <span class="o">[]</span>
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/journeys</code> service. This api computes journeys or isochrone tables.</p>

<p>There are two ways to access to this service : journeys from point to point, or isochrones from a single point to every point.</p>

<aside class="success">
    Neither the &lsquo;from&rsquo; nor the 'to&rsquo; parameter of the journey are required,
    but obviously one of them has to be provided.
    <br>
    If only one is defined an isochrone is computed with every possible
    journeys from or to the point.
</aside>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/journeys</code></td>
<td>List of journeys from wherever land</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/journeys</code></td>
<td>List of journeys on a specific coverage</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{a_path_to_resource}/journeys</code></td>
<td>Isochrone from a specific coverage</td>
</tr>
</tbody></table>

<aside class="notice">
    Navitia.io handle lot&rsquo;s of different data sets (regions). Some of them
    can overlap. For example opendata data sets can overlap with private
    data sets.
    <br>
    When using the journeys endpoint the data set used to compute the
    journey is chosen using the possible datasets of the origin and the
    destination.
    <br>
    For the moment it is not yet possible to compute journeys on different
    data sets, but it will one day be possible (with a cross-data-set
    system).
</aside>

<h4 id="requesting-a-single-journey">Requesting a single journey</h4>

<p>The most used way to access to this service is to get the <code class="prettyprint">/journeys</code> api endpoint.
Here is the structure of a standard journey request:</p>

<p><a href="https://api.navitia.io/v1/journeys?from=%7Bresource_id_1%7D&amp;to=%7Bresource_id_2%7D&amp;datetime=%7Bdate_time_to_leave%7D">https://api.navitia.io/v1/journeys?from={resource_id_1}&amp;to={resource_id_2}&amp;datetime={date_time_to_leave}</a> .</p>

<p><a href="#context">Context</a> object provides the <code class="prettyprint">current_datetime</code>, useful to compute waiting time when requesting Navitia without a <code class="prettyprint">datetime</code>.</p>

<aside class="success">
    By default journeys are computed considering a traveler that walks at the beginning and the end.
    <br>
    This can be modified using parameters &ldquo;first_section_mode&rdquo; and &ldquo;last_section_mode&rdquo; that are arrays.
    <br>
    Example allowing bike or walk at the beginning: <a href="https://api.navitia.io/v1/journeys?from=2.3865494;48.8499182&to=2.3643739;48.854&first_section_mode[]=walking&first_section_mode[]=bike">https://api.navitia.io/v1/journeys?from=2.3865494;48.8499182&to=2.3643739;48.854&first_section_mode[]=walking&first_section_mode[]=bike</a>
</aside>

<p><a
    href="https://jsfiddle.net/kisiodigital/0oj74vnz/"
    target="_blank"
    class="button button-blue">
    Code it yourself on JSFiddle
</a></p>

<p>In the <a href="#examples">examples</a>, positions are given by coordinates and no network is specified.
However when no coordinates are provided, you need to provide on what region you want to request as
<a href="https://api.navitia.io/v1/coverage/us-ca/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682">https://api.navitia.io/v1/coverage/us-ca/journeys?from=-122.4752;37.80826&amp;to=-122.402770;37.794682</a></p>

<p>The list of regions covered by navitia is available through <a href="#coverage">coverage</a>.</p>

<aside class="notice">
    If you want to use a specific data set, use the journey api within the
    data set: https://api.navitia.io/v1/coverage/{your_dataset}/journeys
</aside>

<h4 id="requesting-an-isochrone">Requesting an isochrone</h4>

<p>If you want to retreive every possible journey from a single point at a time, you can request as follow:</p>

<p><a href="https://api.navitia.io/v1/%7Ba_path_to_resource%7D/journeys">https://api.navitia.io/v1/{a_path_to_resource}/journeys</a></p>

<p>It will retrieve all the journeys from the resource (in order to make <em><a href="https://en.wikipedia.org/wiki/Isochrone_map">isochrone tables</a></em>).</p>

<p><a
    href="https://jsfiddle.net/kisiodigital/x6207t6f/"
    target="_blank"
    class="button button-blue">
    Code it yourself on JSFiddle
</a></p>

<p>The <a href="#isochrones">isochrones</a> service exposes another response structure, which is simpler, for the same data.</p>

<h3 id="disruptions"><a name="journeys-disruptions"></a> Disruptions</h3>

<p>By default, Navitia only computes journeys without their associated disruption(s), meaning that the journeys in the response will be based on the theoritical schedules. The disruption present in the response is for information only.
If you want to provide journeys without blocking disruptions, you need to make an other request with the parameter <code class="prettyprint">data_freshness=realtime</code>.</p>

<p>In a journey&rsquo;s response, different disruptions may have different meanings.
Each journey has a <code class="prettyprint">status</code> attribute that indicates the most serious disruption effect.
Disruptions are on the sections, the ones that impact the journey are in the sections&rsquo;s display_informations links  (<code class="prettyprint">sections[].display_informations.links[]</code>).</p>

<p>You might also have other disruptions in the response. They don&rsquo;t directly impact the journey, but might affect them.
For example, some intermediate stops of a section can be disrupted, it doesn&rsquo;t prevent the journey from being realised but modifies it.
These disruptions won&rsquo;t be on the <code class="prettyprint">display_informations</code> of the sections or used in the journey&rsquo;s status.</p>

<p>See how disruptions affect a journey in the <a href="#realtime">real time</a> section.</p>

<h3 id="main-parameters"><a name="journeys-parameters"></a>Main parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from</td>
<td>id</td>
<td>The id of the departure of your journey. If none are provided an isochrone is computed</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>to</td>
<td>id</td>
<td>The id of the arrival of your journey. If none are provided an isochrone is computed</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time to go.<br>Note: the datetime must be in the <a href="#coverage">coverage&rsquo;s publication period</a></td>
<td>now</td>
</tr>
<tr>
<td>nop</td>
<td>datetime_represents</td>
<td>string</td>
<td>Can be <code class="prettyprint">departure</code> or <code class="prettyprint">arrival</code>.<br>If <code class="prettyprint">departure</code>, the request will retrieve journeys starting after datetime.<br>If <code class="prettyprint">arrival</code> it will retrieve journeys arriving before datetime.</td>
<td>departure</td>
</tr>
<tr>
<td>nop</td>
<td><a name="traveler-type"></a>traveler_type</td>
<td>enum</td>
<td>Define speeds and accessibility values for different kind of people.<br>Each profile also automatically determines appropriate first and last section modes to the covered area. Note: this means that you might get car, bike, etc fallback routes even if you set <code class="prettyprint">forbidden_uris[]</code>! You can overload all parameters (especially speeds, distances, first and last modes) by setting all of them specifically.<br> We advise that you don&rsquo;t rely on the traveler_type&rsquo;s fallback modes (<code class="prettyprint">first_section_mode[]</code> and <code class="prettyprint">last_section_mode[]</code>) and set them yourself.<br>enum values:<ul><li>standard</li><li>slow_walker</li><li>fast_walker</li><li>luggage</li><li>wheelchair</li></ul></td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use to compute journeys <ul><li>realtime</li><li>base_schedule</li></ul> <em><strong>when using the following parameter</strong></em> &ldquo;&amp;data_freshness=base_schedule&rdquo; <br> you can get disrupted journeys in the response. You can then display the disruption message to the traveler and make a realtime request to get a new &ldquo;undisrupted&rdquo; solution (considering all disruptions during journey planning).</td>
<td>base_schedule</td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</br> Note: the forbidden_uris[] concern only the public transport objects. You can&rsquo;t for example forbid the use of the bike with them, you have to set the fallback modes for this (<code class="prettyprint">first_section_mode[]</code> and <code class="prettyprint">last_section_mode[]</code>)</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>allowed_id[]</td>
<td>id</td>
<td>If you want to use only a small subset of the public transport objects in your solution. The constraint intersects with <code class="prettyprint">forbidden_uris[]</code>. For example, if you ask for <code class="prettyprint">allowed_id[]=line:A&amp;forbidden_uris[]=physical_mode:Bus</code>, only vehicles of the line A that are not buses will be used.</td>
<td>everything</td>
</tr>
<tr>
<td>nop</td>
<td>first_section_mode[]</td>
<td>array of string</td>
<td>Force the first section mode if the first section is not a public transport one. It takes the following values: <code class="prettyprint">walking</code>, <code class="prettyprint">car</code>, <code class="prettyprint">bike</code>, <code class="prettyprint">bss</code>, <code class="prettyprint">ridesharing</code>, <code class="prettyprint">taxi</code>.<br>It&rsquo;s an array, you can give multiple modes.<br><br>See <a href="#ridesharing-stuff">Ridesharing</a> and <a href="#taxi-stuff">Taxi</a> sections for more details on these modes.<br><code class="prettyprint">bss</code> stands for bike sharing system.<br>Note: choosing <code class="prettyprint">bss</code> implicitly allows the <code class="prettyprint">walking</code> mode since you might have to walk to the bss station.<br> Note 2: The parameter is inclusive, not exclusive, so if you want to forbid a mode, you need to add all the other modes.<br> Eg: If you never want to use a <code class="prettyprint">car</code>, you need: <code class="prettyprint">first_section_mode[]=walking&amp;first_section_mode[]=bss&amp;first_section_mode[]=bike&amp;last_section_mode[]=walking&amp;last_section_mode[]=bss&amp;last_section_mode[]=bike</code></td>
<td>walking</td>
</tr>
<tr>
<td>nop</td>
<td>last_section_mode[]</td>
<td>array of string</td>
<td>Same as first_section_mode but for the last section</td>
<td>walking</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
</tbody></table>

<h3 id="other-parameters">Other parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>max_duration_to_pt</td>
<td>int</td>
<td>Maximum allowed duration to reach the public transport (same limit used before and after public transport).<br>Use this to limit the walking/biking part.<br>Unit is seconds</td>
<td>30*60 s</td>
</tr>
<tr>
<td>nop</td>
<td>walking_speed</td>
<td>float</td>
<td>Walking speed for the fallback sections<br>Speed unit must be in meter/seconds</td>
<td>1.12 m/s<br>(4 km/h)<br><em>Yes, man, they got the metric system</em></td>
</tr>
<tr>
<td>nop</td>
<td>bike_speed</td>
<td>float</td>
<td>Biking speed for the fallback<br>Speed unit must be in meter/seconds</td>
<td>4.1 m/s<br>(14.7 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>bss_speed</td>
<td>float</td>
<td>Speed while using a bike from a bike sharing system for the fallback sections<br>Speed unit must be in meter/seconds</td>
<td>4.1 m/s<br>(14.7 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>car_speed</td>
<td>float</td>
<td>Driving speed for the fallback sections<br>Speed unit must be in meter/seconds</td>
<td>16.8 m/s<br>(60 km/h)</td>
</tr>
<tr>
<td>nop</td>
<td>min_nb_journeys</td>
<td>non-negative int</td>
<td>Minimum number of different suggested journeys<br>More in multiple_journeys</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>max_nb_journeys</td>
<td>positive int</td>
<td>Maximum number of different suggested journeys<br>More in multiple_journeys</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>count</td>
<td>int</td>
<td>Fixed number of different journeys<br>More in multiple_journeys</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>max_nb_transfers</td>
<td>int</td>
<td>Maximum number of transfers in each journey</td>
<td>10</td>
</tr>
<tr>
<td>nop</td>
<td>min_nb_transfers</td>
<td>int</td>
<td>Minimum number of transfers in each journey</td>
<td>0</td>
</tr>
<tr>
<td>nop</td>
<td>max_duration</td>
<td>int</td>
<td>Maximum duration of journeys in seconds (from <code class="prettyprint">datetime</code> parameter).<br>More usefull when computing an isochrone (only <code class="prettyprint">from</code> or <code class="prettyprint">to</code> is provided).<br>On a classic journey (from-to), it will mostly speedup Navitia: You may have journeys a bit longer than that value (you would have to filter them).</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>disruption_active</td>
<td>boolean</td>
<td>For compatibility use only.<br>If true the algorithm take the disruptions into account, and thus avoid disrupted public transport.<br>Rq: <code class="prettyprint">disruption_active=true</code> = <code class="prettyprint">data_freshness=realtime</code> <br>Use <code class="prettyprint">data_freshness</code> parameter instead</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>wheelchair</td>
<td>boolean</td>
<td>If true the traveler is considered to be using a wheelchair, thus only accessible public transport are used<br>be warned: many data are currently too faint to provide acceptable answers with this parameter on</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>direct_path</td>
<td>enum</td>
<td>Specify if Navitia should suggest direct paths (= only fallback modes are used).<br>Possible values: <ul><li><code class="prettyprint">indifferent</code></li><li><code class="prettyprint">none</code> for only journeys using some PT</li><li><code class="prettyprint">only</code> for only journeys without PT</li></ul></td>
<td>indifferent</td>
</tr>
<tr>
<td>nop</td>
<td>direct_path_mode[]</td>
<td>array of strings</td>
<td>Force direct-path modes. If this list is not empty, we only compute direct_path for modes in this list and filter all the direct_paths of modes in first_section_mode[]. It can take the following values: <code class="prettyprint">walking</code>, <code class="prettyprint">car</code>, <code class="prettyprint">bike</code>, <code class="prettyprint">bss</code>, <code class="prettyprint">ridesharing</code>, <code class="prettyprint">taxi</code>. It&rsquo;s an array, you can give multiple modes. If this list is empty, we will compute direct_path for modes of the first_section_modes.</td>
<td>first_section_modes[]</td>
</tr>
<tr>
<td>nop</td>
<td>add_poi_infos[]</td>
<td>boolean</td>
<td>Activate the output of additional infomations about the poi. For example, parking availability(BSS, car parking etc.) in the pois of response. Possible values are <code class="prettyprint">bss_stands</code>, <code class="prettyprint">car_park</code></td>
<td>[]</td>
</tr>
<tr>
<td>nop</td>
<td>debug</td>
<td>boolean</td>
<td>Debug mode<br>No journeys are filtered in this mode</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>free_radius_from</td>
<td>int</td>
<td>Radius length (in meters) around the coordinates of departure in which the stop points are considered free to go (crowfly=0)</td>
<td>0</td>
</tr>
<tr>
<td>nop</td>
<td>free_radius_to</td>
<td>int</td>
<td>Radius length (in meters) around the coordinates of arrival in which the stop points are considered free to go (crowfly=0)</td>
<td>0</td>
</tr>
</tbody></table>

<h3 id="precisions-on-forbidden_uris-and-allowed_id">Precisions on <code class="prettyprint">forbidden_uris[]</code> and <code class="prettyprint">allowed_id[]</code></h3>

<p>These parameters are filtering the vehicle journeys and the stop points used to compute the journeys.
<code class="prettyprint">allowed_id[]</code> is used to allow <em>only</em> certain route options by <em>excluding</em> all others.
<code class="prettyprint">forbidden_uris[]</code> is used to <em>exclude</em> specific route options.</p>

<p>Examples:</p>

<ul>
<li>A user doesn&rsquo;t like line A metro in hers city. She adds the parameter <code class="prettyprint">forbidden_uris[]=line:A</code> when calling the API.</li>
<li>A user would only like to use Buses and Tramways. She adds the parameter <code class="prettyprint">allowed_id[]=physical_mode:Bus&amp;allowed_id[]=physical_mode:Tramway</code>.</li>
</ul>

<h3 id="precisions-on-free_radius_from-free_radius_to">Precisions on <code class="prettyprint">free_radius_from/free_radius_to</code></h3>

<p>These parameters find the nearest stop point (within free_radius distance) to the given coordinates.
Then, it allows skipping walking sections between the point of departure/arrival and those nearest stop points.</p>

<p>Example:</p>

<p><img alt="image" src="images/free_radius.png" /></p>

<p>In this example, the stop points within the circle (SP1, SP2 et SP3) can be reached via a crowfly of 0 second. The other stop points, outside the circle, will be reached by walking.</p>

<h4 id="technically">Technically</h4>

<p>The journeys can only use allowed vehicle journeys (as present in the <code class="prettyprint">public_transport</code> or <code class="prettyprint">on_demand_transport</code> sections).
They also can only use the allowed stop points for getting in or out of a vehicle (as present in the <code class="prettyprint">street_network</code>, <code class="prettyprint">transfer</code> and <code class="prettyprint">crow_fly</code> sections).</p>

<p>To filter vehicle journeys, the identifier of a line, route, commercial mode, physical mode or network can be used.</p>

<p>For filtering stop points, the identifier of a stop point or stop area can be used.</p>

<p>The principle is to create a blacklist using those 2 parameters:</p>

<ul>
<li><p><code class="prettyprint">forbidden_uris[]</code> adds the corresponding vehicle journeys (or stop points) to the blacklist of vehicle journeys (resp. stop_points).</p></li>
<li><p><code class="prettyprint">allowed_id[]</code> works in 2 parts:</p>

<ul>
<li>If an id related to a stop point is given, only the corresponding stop points are allowed (practically, all other are blacklisted). Else, all the stop points are allowed.</li>
<li>If an id related to a vehicle journey is given, only the corresponding vehicle journeys are allowed (practically, all other are blacklisted). Else, all the vehicle journeys are allowed.</li>
</ul></li>
</ul>

<p>The blacklisting constraints of <code class="prettyprint">forbidden_uris[]</code> and <code class="prettyprint">allowed_id[]</code> are combined. For example, if you give <code class="prettyprint">allowed_id[]=network:SN&amp;forbidden_uris[]=line:A</code>, only the vehicle journeys of the network SN that are not from the line A can be used to compute the journeys.</p>

<p>Let&rsquo;s illustrate all of that with an example.</p>

<p><img alt="example" src="images/forbidden_example.png" /></p>

<p>We want to go from stop A to stop B. Lines 1 and 2 can go from stop A to B. There is another stop C connected to A with lines 3 and 4, and connected to B with lines 5 and 6.</p>

<p>Without any constraint, all these objects can be used to propose a solution. Let&rsquo;s study some examples:</p>

<table><thead>
<tr>
<th><code class="prettyprint">forbidden_uris[]</code></th>
<th><code class="prettyprint">allowed_id[]</code></th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td>line 1, line 2</td>
<td></td>
<td>All the journeys will pass by stop C, using either of line 3, 4, 5 and 6</td>
</tr>
<tr>
<td>stop A</td>
<td></td>
<td>No solution, as we can&rsquo;t get in any transport</td>
</tr>
<tr>
<td>stop B</td>
<td></td>
<td>No solution, as we can&rsquo;t get out at destination</td>
</tr>
<tr>
<td></td>
<td>stop C</td>
<td>No solution, as we can&rsquo;t get in neither get out</td>
</tr>
<tr>
<td>line 1, line 2</td>
<td>line 3</td>
<td>No solution, as only line 3 can be taken</td>
</tr>
<tr>
<td></td>
<td>line 3, line 5</td>
<td>All the journeys will pass by stop C using line 3 and 5</td>
</tr>
<tr>
<td></td>
<td>line 3, line 4, line5</td>
<td>All the journeys will pass by stop C using (line 3 or 4) and line 5</td>
</tr>
<tr>
<td></td>
<td>line 3, line 5, stop C</td>
<td>No solution, as we can&rsquo;t get in neither get out</td>
</tr>
<tr>
<td></td>
<td>stop A, stop C, stop B</td>
<td>As without any constraint, passing via stop C is not needed</td>
</tr>
<tr>
<td>stop A, stop B</td>
<td>stop A, stop B</td>
<td>No solution, as no stop point are allowed.</td>
</tr>
</tbody></table>

<h3 id="objects">Objects</h3>

<p>Here is a typical journey, all sections are detailed below</p>

<p><img alt="image" src="images/typical_itinerary.png" /></p>

<h4 id="main-response">Main response</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>journeys</td>
<td>array of <a href="#journey">journeys</a></td>
<td>List of computed journeys</td>
</tr>
<tr>
<td>links</td>
<td>array of <a href="#link">link</a></td>
<td>Links related to the journeys</td>
</tr>
</tbody></table>

<h4 id="journey">Journey</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>duration</td>
<td>int</td>
<td>Duration of the journey</td>
</tr>
<tr>
<td>nb_transfers</td>
<td>int</td>
<td>Number of transfers in the journey</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Departure date and time of the journey</td>
</tr>
<tr>
<td>requested_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Requested date and time of the journey</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Arrival date and time of the journey</td>
</tr>
<tr>
<td>sections</td>
<td>array of <a href="#section">section</a></td>
<td>All the sections of the journey</td>
</tr>
<tr>
<td>from</td>
<td><a href="#place">places</a></td>
<td>The place from where the journey starts</td>
</tr>
<tr>
<td>to</td>
<td><a href="#place">places</a></td>
<td>The place from where the journey ends</td>
</tr>
<tr>
<td>links</td>
<td><a href="#link">link</a></td>
<td>Links related to this journey</td>
</tr>
<tr>
<td>type</td>
<td><em>enum</em> string</td>
<td>Used to qualify a journey. See the <a href="#journey-qualification-process">journey-qualification</a> section for more information</td>
</tr>
<tr>
<td>fare</td>
<td><a href="#fare">fare</a></td>
<td>Fare of the journey (tickets and price)</td>
</tr>
<tr>
<td>tags</td>
<td>array of string</td>
<td>List of tags on the journey. The tags add additional information on the journey beside the journey type. See for example <a href="#multiple-journeys">multiple_journeys</a>.</td>
</tr>
<tr>
<td>status</td>
<td><em>enum</em></td>
<td>Status from the whole journey taking into acount the most disturbing information retrieved on every object used. Can be: <ul><li>NO_SERVICE</li><li>REDUCED_SERVICE</li><li>SIGNIFICANT_DELAYS</li><li>DETOUR</li><li>ADDITIONAL_SERVICE</li><li>MODIFIED_SERVICE</li><li>OTHER_EFFECT</li><li>UNKNOWN_EFFECT</li><li>STOP_MOVED</li></ul> In order to get an &ldquo;undisrupted&rdquo; journey (consider all disruptions during journey planning), you just have to add a <em>&amp;data_freshness=realtime</em> parameter.</td>
</tr>
</tbody></table>

<aside class="notice">
    When used with just a &ldquo;from&rdquo; or a &ldquo;to&rdquo; parameter, it will not contain any sections.
</aside>

<h4 id="section">Section</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td><em>enum</em> string</td>
<td>Type of the section.<ul><li><code class="prettyprint">public_transport</code>: public transport section</li><li><code class="prettyprint">street_network</code>: street section</li><li><code class="prettyprint">waiting</code>: waiting section between transport</li><li><p><code class="prettyprint">stay_in</code>: this “stay in the vehicle” section occurs when the traveller has to stay in the vehicle when the bus change its routing. Here is an exemple for a journey from A to B: (lollipop line)</p><p><img alt="image" src="images/stay_in.png" /></p></li><li><code class="prettyprint">transfer</code>: transfert section</li><li><p><code class="prettyprint">crow_fly</code>: teleportation section, most of the time. Useful to make navitia idempotent when starting from or arriving to a city or a stop_area (“potato shaped” objects) in order to route to the nearest stop_point. Be careful: neither “path” nor “geojson” available in a crow_fly section.</p><p> Can also be used when no street_network data are available and not be considered as teleportation. The distance of such a crow_fly section will be a straight line between the point of departure and arrival (hence the name &#39;crow_fly&rsquo;). The duration of the section will be calculated with the Manhattan distance of the section (distance x √2). In this case, “geojson” is available.</p><p><img alt="image" src="images/crow_fly.png" /></p></li><li><code class="prettyprint">on_demand_transport</code>: vehicle may not drive along: traveler will have to call agency to confirm journey</li><li><code class="prettyprint">bss_rent</code>: taking a bike from a bike sharing system (bss)</li><li><code class="prettyprint">bss_put_back</code>: putting back a bike from a bike sharing system (bss)</li><li><code class="prettyprint">boarding</code>: boarding on plane</li><li><code class="prettyprint">landing</code>: landing off the plane</li><li><code class="prettyprint">alighting</code>: getting off a vehicle (boat, on-demand-transport, plane, &hellip;)</li><li><code class="prettyprint">park</code>: parking a car</li><li><code class="prettyprint">ridesharing</code>: car-pooling section</li></ul></td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the section</td>
</tr>
<tr>
<td>mode</td>
<td><em>enum</em> string</td>
<td>Mode of the street network and crow_fly: <code class="prettyprint">Walking</code>, <code class="prettyprint">Bike</code>, <code class="prettyprint">Car</code>, &#39;Taxi&rsquo;</td>
</tr>
<tr>
<td>duration</td>
<td>int</td>
<td>Duration of this section</td>
</tr>
<tr>
<td>from</td>
<td><a href="#place">places</a></td>
<td>Origin place of this section</td>
</tr>
<tr>
<td>to</td>
<td><a href="#place">places</a></td>
<td>Destination place of this section</td>
</tr>
<tr>
<td>links</td>
<td>Array of <a href="#link">link</a></td>
<td>Links related to this section</td>
</tr>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Useful information to display</td>
</tr>
<tr>
<td>additional_informations</td>
<td><em>enum</em> string</td>
<td>Other information. It can be: <ul><li><code class="prettyprint">regular</code>: no on demand transport (odt)</li><li><code class="prettyprint">has_date_time_estimated</code>: section with at least one estimated date time</li><li><code class="prettyprint">odt_with_stop_time</code>: odt with fixed schedule, but travelers have to call agency!</li><li><code class="prettyprint">odt_with_stop_point</code>: odt where pickup or drop off are specific points</li><li><code class="prettyprint">odt_with_zone</code>: odt which is like a cab, from wherever you want to wherever you want, whenever it is possible</li></ul></td>
</tr>
<tr>
<td>geojson</td>
<td><a href="http://www.geojson.org">GeoJson</a></td>
<td></td>
</tr>
<tr>
<td>path</td>
<td>Array of <a href="#path">path</a></td>
<td>The path of this section</td>
</tr>
<tr>
<td>transfer_type</td>
<td><em>enum</em> string</td>
<td>The type of this transfer it can be: <code class="prettyprint">walking</code>, <code class="prettyprint">stay_in</code></td>
</tr>
<tr>
<td>stop_date_times</td>
<td>Array of <a href="#stop_date_time">stop_date_time</a></td>
<td>List of the stop times of this section</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time of departure</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time of arrival</td>
</tr>
</tbody></table>

<h4 id="path">Path</h4>

<p>A path object in composed of an array of <a href="#path-item">path_item</a> (segment).</p>

<h4 id="path-item">Path item</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>length</td>
<td>int</td>
<td>Length (in meter) of the segment</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of the way corresponding to the segment</td>
</tr>
<tr>
<td>duration</td>
<td>int</td>
<td>duration (in seconds) of the segment</td>
</tr>
<tr>
<td>direction</td>
<td>int</td>
<td>Angle (in degree) between the previous segment and this segment.<br><ul><li>0 means going straight</li><li>&gt; 0 means turning right</li><li>&lt; 0 means turning left</li></ul><br>Hope it&rsquo;s easier to understand with a picture: <img alt="image" src="images/direction.png" /></td>
</tr>
</tbody></table>

<h4 id="fare">Fare</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>total</td>
<td><a href="#cost">cost</a></td>
<td>total cost of the journey</td>
</tr>
<tr>
<td>found</td>
<td>boolean</td>
<td>False if no fare has been found for the journey, True otherwise</td>
</tr>
<tr>
<td>links</td>
<td><a href="#link">link</a></td>
<td>Links related to this object. Link with related <a href="#ticket">tickets</a></td>
</tr>
</tbody></table>

<h4 id="cost">Cost</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>cost: float formatted as string</td>
</tr>
<tr>
<td>currency</td>
<td>string</td>
<td>currency as specified in input data</td>
</tr>
</tbody></table>

<h4 id="ticket">Ticket</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the ticket</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the ticket</td>
</tr>
<tr>
<td>found</td>
<td>boolean</td>
<td>False if unknown ticket, True otherwise</td>
</tr>
<tr>
<td>cost</td>
<td><a href="#cost">cost</a></td>
<td>Cost of the ticket</td>
</tr>
<tr>
<td>links</td>
<td>array of <a href="#link">link</a></td>
<td>Link to the <a href="#section">section</a> using this ticket</td>
</tr>
</tbody></table>

<h2 id="isochrones-currently-in-beta"><a name="isochrones_api"></a>Isochrones (currently in Beta)</h2>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fisochrones%3Ffrom%3D2.377097%3B48.846905%26max_duration%3D2000%26min_duration%3D1000&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try a simple example on Navitia playground (click on &ldquo;MAP&rdquo; buttons for &ldquo;wow effect&rdquo;)</a></p>

<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fisochrones%3Ffrom%3D2.377097%253B48.846905%26boundary_duration%255B%255D%3D1000%26boundary_duration%255B%255D%3D2000%26boundary_duration%255B%255D%3D3000%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try a multi-color example on Navitia playground (click on &ldquo;MAP&rdquo; buttons for &ldquo;WOW effect&rdquo;)</a></p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># Request</span>
curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/isochrones?from=stop_area:RAT:SA:GDLYO&amp;max_duration=3600'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c"># Response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"isochrones"</span>:[
        <span class="o">{</span>
            <span class="s2">"geojson"</span>:<span class="o">{</span>
                <span class="s2">"type"</span>:<span class="s2">"MultiPolygon"</span>,
                <span class="s2">"coordinates"</span>:[
                    <span class="o">[</span>
                        <span class="o">[</span>
                            <span class="o">[</span>
                                2.3186837324,
                                48.9324437042
                            <span class="o">]</span>,
                            <span class="o">[</span>
                                2.3187241561,
                                48.9324771012
                            <span class="o">]</span>,
                            <span class="o">[</span>
                                2.3190737256,
                                48.9327557777
                            <span class="o">]</span>,
                            <span class="o">[</span><span class="s2">"..."</span><span class="o">]</span>,
                            <span class="o">[</span><span class="s2">"..."</span><span class="o">]</span>,
                            <span class="o">[</span><span class="s2">"..."</span><span class="o">]</span>
                        <span class="o">]</span>
                    <span class="o">]</span>
                <span class="o">]</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/isochrones</code> service.</p>

<aside class="warning">
    This service is under development. So it is accessible as a <b>&ldquo;Beta&rdquo; service</b>.
    <br>
    Every feed back is welcome on <a href="https://groups.google.com/forum/#!forum/navitia">https://groups.google.com/forum/#!forum/navitia</a> !
</aside>

<p>This service gives you a multi-polygon response which
represents a same duration travel zone at a given time: https://en.wikipedia.org/wiki/Isochrone_map</p>

<p>As you can find isochrone tables using <code class="prettyprint">/journeys</code>, this service is only another representation
of the same data, map oriented.</p>

<p>It is also really usefull to make filters on geocoded objects in order to find which ones are reachable at a given time within a specific duration.
You just have to verify that the coordinates of the geocoded object are inside the multi-polygon.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/isochrones</code></td>
<td>List of multi-polygons representing one isochrone step. Access from wherever land</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/isochrones</code></td>
<td>List of multi-polygons representing one isochrone step. Access from on a specific coverage</td>
</tr>
</tbody></table>

<h3 id="main-parameters"><a name="isochrones-parameters"></a>Main parameters</h3>

<aside class="success">
    'from&rsquo; and 'to&rsquo; parameters works as exclusive parameters:
    <li>When 'from&rsquo; is provided, 'to&rsquo; is ignored and Navitia computes a &ldquo;departure after&rdquo; isochrone.
    <li>When 'from&rsquo; is not provided, 'to&rsquo; is required and Navitia computes a &ldquo;arrival after&rdquo; isochrone.
</aside>

<aside class="notice">
    Isochrones are time dependant. The duration boundary is actually an arrival time boundary.
    'datetime&rsquo; parameter is therefore important: The result is not the same when computing
    an isochrone at 3am (few transports) or at 6pm (rush hour).
</aside>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from</td>
<td>id</td>
<td>The id of the departure of your journey. Required to compute isochrones &ldquo;departure after&rdquo;</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>to</td>
<td>id</td>
<td>The id of the arrival of your journey. Required to compute isochrones &ldquo;arrival before&rdquo;</td>
<td></td>
</tr>
<tr>
<td>yep</td>
<td>datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Date and time to go</td>
<td></td>
</tr>
<tr>
<td>yep</td>
<td>boundary_duration[]</td>
<td>int</td>
<td>A duration delineating a reachable area (in seconds). Using multiple boundary makes map more readable</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</br> Note: the forbidden_uris[] concern only the public transport objects. You can&rsquo;t for example forbid the use of the bike with them, you have to set the fallback modes for this (<code class="prettyprint">first_section_mode[]</code> and <code class="prettyprint">last_section_mode[]</code>)</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>first_section_mode[]</td>
<td>array of string</td>
<td>Force the first section mode if the first section is not a public transport one. It takes one the following values: <code class="prettyprint">walking</code>, <code class="prettyprint">car</code>, <code class="prettyprint">bike</code>, <code class="prettyprint">bss</code>.<br><code class="prettyprint">bss</code> stands for bike sharing system.<br>It&rsquo;s an array, you can give multiple modes.<br><br>Note: choosing <code class="prettyprint">bss</code> implicitly allows the <code class="prettyprint">walking</code> mode since you might have to walk to the bss station.<br> Note 2: The parameter is inclusive, not exclusive, so if you want to forbid a mode, you need to add all the other modes.<br> Eg: If you never want to use a <code class="prettyprint">car</code>, you need: <code class="prettyprint">first_section_mode[]=walking&amp;first_section_mode[]=bss&amp;first_section_mode[]=bike&amp;last_section_mode[]=walking&amp;last_section_mode[]=bss&amp;last_section_mode[]=bike</code></td>
<td>walking</td>
</tr>
<tr>
<td>nop</td>
<td>last_section_mode[]</td>
<td>array of string</td>
<td>Same as first_section_mode but for the last section</td>
<td>walking</td>
</tr>
</tbody></table>

<h3 id="other-parameters">Other parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>min_duration</td>
<td>int</td>
<td>Minimum duration delineating the reachable area (in seconds)</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>max_duration</td>
<td>int</td>
<td>Maximum duration delineating the reachable area (in seconds)</td>
<td></td>
</tr>
</tbody></table>

<h3 id="tips">Tips</h3>

<h4 id="understand-the-resulting-isochrone">Understand the resulting isochrone</h4>

<p>The principle of isochrones is to work like journeys.
So if one doesn&rsquo;t understand why a place is inside or outside an isochrone,
please compute a journey from the &ldquo;center&rdquo; of isochrone to that precise place.</p>

<p>To do that, just 3 changes are needed:</p>

<ul>
<li>provide a starting <code class="prettyprint">datetime=</code> to compare arrival time evenly</li>
<li>change endpoint: <code class="prettyprint">/isochrones</code> to <code class="prettyprint">/journeys</code></li>
<li>provide a destination using <code class="prettyprint">&amp;to=&lt;my_place&gt;</code></li>
</ul>

<p>Please remember that isochrones use crowfly at the end so they are less precise than journeys.</p>

<h4 id="isochrones-without-public-transport">Isochrones without public transport</h4>

<p>The main goal of Navitia is to handle public transport, so it&rsquo;s not recommended to avoid them.<br>
However if your are willing to do that, you can use a little trick and
pass the parameters <code class="prettyprint">&amp;allowed_id=physical_mode:Bus&amp;forbidden_id=physical_mode:Bus</code>.
You will only get circles.</p>

<h4 id="car-isochrones">Car isochrones</h4>

<p>Using car in Navitia isochrones is not recommended.<br>
It is only handled for compatibility with <code class="prettyprint">/journeys</code> but tends to squash every other result.</p>

<h2 id="route-schedules"><a name="route-schedules"></a>Route Schedules</h2>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/route_schedules'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"pagination"</span>: <span class="o">{}</span>,
    <span class="s2">"links"</span>: <span class="o">[]</span>,
    <span class="s2">"disruptions"</span>: <span class="o">[]</span>,
    <span class="s2">"notes"</span>: <span class="o">[]</span>,
    <span class="s2">"feed_publishers"</span>: <span class="o">[]</span>,
    <span class="s2">"exceptions"</span>: <span class="o">[]</span>,
    <span class="s2">"route_schedules"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"display_informations"</span>: <span class="o">{</span>
            <span class="s2">"direction"</span>: <span class="s2">"Château de Vincennes (Saint-Mandé)"</span>,
            <span class="s2">"code"</span>: <span class="s2">"1"</span>,
            <span class="s2">"network"</span>: <span class="s2">"RATP"</span>,
            <span class="s2">"links"</span>: <span class="o">[]</span>,
            <span class="s2">"color"</span>: <span class="s2">"F2C931"</span>,
            <span class="s2">"commercial_mode"</span>: <span class="s2">"Metro"</span>,
            <span class="s2">"text_color"</span>: <span class="s2">"000000"</span>,
            <span class="s2">"label"</span>: <span class="s2">"1"</span>
        <span class="o">}</span>,
        <span class="s2">"table"</span>: <span class="o">{</span>
            <span class="s2">"headers"</span>: <span class="o">[{</span>
                    <span class="s2">"display_informations"</span>: <span class="o">{</span>
                        <span class="s2">"direction"</span>: <span class="s2">"Château de Vincennes (Saint-Mandé)"</span>,
                        <span class="s2">"code"</span>: <span class="s2">""</span>,
                        <span class="s2">"description"</span>: <span class="s2">""</span>,
                        <span class="s2">"links"</span>: <span class="o">[]</span>,
                        <span class="s2">"color"</span>: <span class="s2">""</span>,
                        <span class="s2">"physical_mode"</span>: <span class="s2">"Métro"</span>,
                        <span class="s2">"headsign"</span>: <span class="s2">"Château de Vincennes"</span>,
                        <span class="s2">"commercial_mode"</span>: <span class="s2">""</span>,
                        <span class="s2">"equipments"</span>: <span class="o">[]</span>,
                        <span class="s2">"text_color"</span>: <span class="s2">""</span>,
                        <span class="s2">"network"</span>: <span class="s2">""</span>
                    <span class="o">}</span>,
                    <span class="s2">"additional_informations"</span>: <span class="o">[</span><span class="s2">"regular"</span><span class="o">]</span>,
                    <span class="s2">"links"</span>: <span class="o">[{</span>
                        <span class="s2">"type"</span>: <span class="s2">"vehicle_journey"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9828-1_dst_2"</span>
                    <span class="o">}</span>, <span class="o">{</span>
                        <span class="s2">"type"</span>: <span class="s2">"physical_mode"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"physical_mode:Metro"</span>
                    <span class="o">}]</span>
                <span class="o">}</span>,
                <span class="o">{</span> ... <span class="o">}</span>,
                <span class="o">{</span> ... <span class="o">}</span>
            <span class="o">]</span>,
            <span class="s2">"rows"</span>: <span class="o">[{</span>
                <span class="s2">"stop_point"</span>: <span class="o">{</span>
                    <span class="s2">"codes"</span>: <span class="o">[</span> ... <span class="o">]</span>,
                    <span class="s2">"name"</span>: <span class="s2">"La Défense Grande Arche"</span>,
                    <span class="s2">"links"</span>: <span class="o">[]</span>,
                    <span class="s2">"physical_modes"</span>: <span class="o">[{</span>
                        <span class="s2">"name"</span>: <span class="s2">"Métro"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"physical_mode:Metro"</span>
                    <span class="o">}]</span>,
                    <span class="s2">"coord"</span>: <span class="o">{</span><span class="s2">"lat"</span>: <span class="s2">"48.891935"</span>,<span class="s2">"lon"</span>: <span class="s2">"2.237883"</span><span class="o">}</span>,
                    <span class="s2">"label"</span>: <span class="s2">"La Défense Grande Arche (Puteaux)"</span>,
                    <span class="s2">"equipments"</span>: <span class="o">[]</span>,
                    <span class="s2">"commercial_modes"</span>: <span class="o">[</span>...],
                    <span class="s2">"administrative_regions"</span>: <span class="o">[</span> ... <span class="o">]</span>,
                    <span class="s2">"id"</span>: <span class="s2">"stop_point:RAT:SP:DENFE2"</span>,
                    <span class="s2">"stop_area"</span>: <span class="o">{</span> ... <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"date_times"</span>: <span class="o">[{</span>
                    <span class="s2">"date_time"</span>: <span class="s2">"20160616T093300"</span>,
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"links"</span>: <span class="o">[{</span>
                        <span class="s2">"type"</span>: <span class="s2">"vehicle_journey"</span>,
                        <span class="s2">"value"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9828-1_dst_2"</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"vehicle_journeys"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9828-1_dst_2"</span>
                    <span class="o">}]</span>,
                    <span class="s2">"data_freshness"</span>: <span class="s2">"base_schedule"</span>
                <span class="o">}</span>, <span class="o">{</span>
                    <span class="s2">"date_time"</span>: <span class="s2">"20160617T094400"</span>,
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"links"</span>: <span class="o">[{</span>
                        <span class="s2">"type"</span>: <span class="s2">"vehicle_journey"</span>,
                        <span class="s2">"value"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9827-1_dst_2"</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"vehicle_journeys"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9827-1_dst_2"</span>
                    <span class="o">}]</span>,
                    <span class="s2">"data_freshness"</span>: <span class="s2">"base_schedule"</span>
                <span class="o">}]</span>
            <span class="o">}]</span>
        <span class="o">}</span>,
        <span class="s2">"additional_informations"</span>: null,
        <span class="s2">"links"</span>: <span class="o">[]</span>,
        <span class="s2">"geojson"</span>: <span class="o">{}</span>
    <span class="o">}]</span>
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/route_schedules</code> service.</p>

<p>This endpoint gives you access to schedules of routes (so a kind of time table), with a response made
of an array of <a href="#route-schedule">route_schedule</a>, and another one of <a href="#note">note</a>. You can
access it via that kind of url: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/route_schedules">https://api.navitia.io/v1/{a_path_to_a_resource}/route_schedules</a></p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/{resource_path}/route_schedules</code></td>
<td>List of the entire route schedules for a given resource</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/coords/{lon;lat}/route_schedules</code></td>
<td>List of the entire route schedules for coordinates, navitia guesses the region from coordinates</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from_datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>The date_time from which you want the schedules</td>
<td>the current datetime</td>
</tr>
<tr>
<td>nop</td>
<td>duration</td>
<td>int</td>
<td>Maximum duration in seconds between from_datetime and the retrieved datetimes.</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>items_per_schedule</td>
<td>int</td>
<td>Maximum number of columns per schedule.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use<br><ul><li>realtime</li><li>base_schedule</li></ul></td>
<td>base_schedule</td>
</tr>
<tr>
<td>nop</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson fields from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>direction_type</td>
<td>enum</td>
<td>Allow to filter the response with the route direction type property <ul><li>all</li><li>forward</li><li>backward</li></ul>Note: forward is equivalent to clockwise and inbound. When you select forward, you filter with: [forward, clockwise, inbound].<br>backward is equivalent to anticlockwise and outbound. when you select backward, you filter with: [backward, anticlockwise, outbound]</td>
<td>all</td>
</tr>
</tbody></table>

<h3 id="objects">Objects</h3>

<h4 id="route_schedule-object"><a name="route-schedule">route_schedule object</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Usefull information about the route to display</td>
</tr>
<tr>
<td>Table</td>
<td><a href="#table">table</a></td>
<td>The schedule table</td>
</tr>
</tbody></table>

<h4 id="table">table</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Headers</td>
<td>Array of <a href="#header">header</a></td>
<td>Informations about vehicle journeys</td>
</tr>
<tr>
<td>Rows</td>
<td>Array of <a href="#row">row</a></td>
<td>A row of the schedule</td>
</tr>
</tbody></table>

<h4 id="header">header</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>additional_informations</td>
<td>Array of String</td>
<td>Other information: TODO enum</td>
</tr>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Usefull information about the the vehicle journey to display</td>
</tr>
<tr>
<td>links</td>
<td>Array of <a href="#link">link</a></td>
<td>Links to <a href="#line">line</a>, vehicle_journey, <a href="#route">route</a>, <a href="#commercial-mode">commercial_mode</a>, <a href="#physical-mode">physical_mode</a>, <a href="#network">network</a></td>
</tr>
</tbody></table>

<h4 id="row">row</h4>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>date_times</td>
<td>Array of <a href="#pt-date-time">pt-date-time</a></td>
<td>Array of public transport formated date time</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The stop point of the row</td>
</tr>
</tbody></table>

<h2 id="stop-schedules"><a name="stop-schedules"></a>Stop Schedules</h2>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fstop_schedules%3Fitems_per_schedule%3D2%26&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground (click on &ldquo;EXT&rdquo; buttons to see times)</a></p>
</blockquote>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/stop_schedules'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 200 OK
<span class="o">{</span>
    <span class="s2">"stop_schedules"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"stop_point"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"links"</span>: <span class="o">[</span>...],
            <span class="s2">"date_times"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"date_time"</span>: <span class="s2">"20160615T115300"</span>,
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"links"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"type"</span>: <span class="s2">"vehicle_journey"</span>,
                            <span class="s2">"value"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9869-1_dst_2"</span>,
                            <span class="s2">"rel"</span>: <span class="s2">"vehicle_journeys"</span>,
                            <span class="s2">"id"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9869-1_dst_2"</span>
                        <span class="o">}</span>
                    <span class="o">]</span>,
                    <span class="s2">"data_freshness"</span>: <span class="s2">"base_schedule"</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"date_time"</span>: <span class="s2">"20160616T115000"</span>,
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"links"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"type"</span>: <span class="s2">"vehicle_journey"</span>,
                            <span class="s2">"value"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9868-1_dst_2"</span>,
                            <span class="s2">"rel"</span>: <span class="s2">"vehicle_journeys"</span>,
                            <span class="s2">"id"</span>: <span class="s2">"vehicle_journey:RAT:RATRM1REGA9868-1_dst_2"</span>
                        <span class="o">}</span>
                    <span class="o">]</span>,
                    <span class="s2">"data_freshness"</span>: <span class="s2">"base_schedule"</span>
                <span class="o">}</span>,
                <span class="s2">"..."</span>
            <span class="o">]</span>,
            <span class="s2">"route"</span>: <span class="o">{</span>...<span class="o">}</span>,
            <span class="s2">"additional_informations"</span>: null,
            <span class="s2">"display_informations"</span>: <span class="o">{</span>
                <span class="s2">"direction"</span>: <span class="s2">"Château de Vincennes (Saint-Mandé)"</span>,
                <span class="s2">"code"</span>: <span class="s2">"1"</span>,
                <span class="s2">"network"</span>: <span class="s2">"RATP"</span>,
                <span class="s2">"links"</span>: <span class="o">[]</span>,
                <span class="s2">"color"</span>: <span class="s2">"F2C931"</span>,
                <span class="s2">"commercial_mode"</span>: <span class="s2">"Metro"</span>,
                <span class="s2">"text_color"</span>: <span class="s2">"000000"</span>,
                <span class="s2">"label"</span>: <span class="s2">"1"</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"pagination"</span>: <span class="o">{</span>...<span class="o">}</span>,
    <span class="s2">"links"</span>: <span class="o">[</span>...],
    <span class="s2">"disruptions"</span>: <span class="o">[]</span>,
    <span class="s2">"notes"</span>: <span class="o">[]</span>,
    <span class="s2">"feed_publishers"</span>: <span class="o">[</span>...],
    <span class="s2">"exceptions"</span>: <span class="o">[]</span>
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/stop_schedules</code> service.</p>

<p>This endpoint gives you access to time tables going through a stop
point as:
<img alt="stop_schedules" src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg/640px-Panneau_SIEL_couleurs_Paris-Op%C3%A9ra.jpg" /></p>

<p>The response is made of an array of <a href="#stop-schedule">stop_schedule</a>, and another one of <a href="#note">note</a>.<br>
<a href="#context">Context</a> object provides the <code class="prettyprint">current_datetime</code>, useful to compute waiting time when requesting Navitia without a <code class="prettyprint">from_datetime</code>.<br>
Can be accessed via: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/stop_schedules">https://api.navitia.io/v1/{a_path_to_a_resource}/stop_schedules</a></p>

<p>See how disruptions affect stop schedules in the <a href="#realtime">real time</a> section.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/{resource_path}/stop_schedules</code></td>
<td>List of the stop schedules grouped by <code class="prettyprint">stop_point/route</code> for a given resource</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/coords/{lon;lat}/stop_schedules</code></td>
<td>List of the stop schedules grouped by <code class="prettyprint">stop_point/route</code> for coordinates, navitia guesses the region from coordinates</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from_datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>The date_time from which you want the schedules</td>
<td>the current datetime</td>
</tr>
<tr>
<td>nop</td>
<td>duration</td>
<td>int</td>
<td>Maximum duration in seconds between from_datetime and the retrieved datetimes.</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>items_per_schedule</td>
<td>int</td>
<td>Maximum number of datetimes per schedule.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use to compute journeys <ul><li>realtime</li><li>base_schedule</li></ul></td>
<td>realtime</td>
</tr>
<tr>
<td>nop</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson fields from the response</td>
<td>False</td>
</tr>
<tr>
<td>nop</td>
<td>direction_type</td>
<td>enum</td>
<td>Allow to filter the response with the route direction type property <ul><li>all</li><li>forward</li><li>backward</li></ul>Note: forward is equivalent to clockwise and inbound. When you select forward, you filter with: [forward, clockwise, inbound].<br>backward is equivalent to anticlockwise and outbound. When you select backward, you filter with: [backward, anticlockwise, outbound]</td>
<td>all</td>
</tr>
</tbody></table>

<h3 id="stop_schedule-object"><a name="stop-schedule"></a>Stop_schedule object</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>display_informations</td>
<td><a href="#display-informations">display_informations</a></td>
<td>Usefull information about the route to display</td>
</tr>
<tr>
<td>route</td>
<td><a href="#route">route</a></td>
<td>The route of the schedule</td>
</tr>
<tr>
<td>date_times</td>
<td>Array of <a href="#pt-date-time">pt-date-time</a></td>
<td>When does a bus stops at the stop point</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The stop point of the schedule</td>
</tr>
<tr>
<td>additional_informations</td>
<td><a href="#additional-informations">additional_informations</a></td>
<td>Other informations, when no departures<br> enum values:<ul><li>date_out_of_bounds</li><li>terminus</li><li>partial_terminus</li><li>active_disruption</li><li>no_departures_known</li></ul></td>
</tr>
</tbody></table>

<h2 id="departures"><a name="departures"></a>Departures</h2>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Fdepartures%3F&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>
<pre class="highlight shell"><code>
<span class="c">#Request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/lines/line:RAT:M1/departures?from_datetime=20160615T1337'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#Response</span>
HTTP/1.1 200 OK
<span class="o">{</span>
   <span class="s2">"departures"</span>:[
        <span class="o">{</span>
            <span class="s2">"display_informations"</span>:<span class="o">{</span>
                <span class="s2">"direction"</span>:<span class="s2">"Ch</span><span class="se">\u</span><span class="s2">00e2teau de Vincennes (Saint-Mand</span><span class="se">\u</span><span class="s2">00e9)"</span>,
                <span class="s2">"color"</span>:<span class="s2">"F2C931"</span>,
                <span class="s2">"physical_mode"</span>:<span class="s2">"M?tro"</span>,
                <span class="s2">"headsign"</span>:<span class="s2">"Ch</span><span class="se">\u</span><span class="s2">00e2teau de Vincennes"</span>,
                <span class="s2">"commercial_mode"</span>:<span class="s2">"Metro"</span>,
                <span class="s2">"network"</span>:<span class="s2">"RATP"</span>,
                <span class="s2">"..."</span>
            <span class="o">}</span>,
            <span class="s2">"stop_point"</span>:<span class="o">{</span>
                <span class="s2">"name"</span>:<span class="s2">"Esplanade de la D</span><span class="se">\u</span><span class="s2">00e9fense"</span>,
                <span class="s2">"physical_modes"</span>:[
                   <span class="o">{</span>
                      <span class="s2">"name"</span>:<span class="s2">"M?tro"</span>,
                      <span class="s2">"id"</span>:<span class="s2">"physical_mode:Metro"</span>
                   <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"coord"</span>:<span class="o">{</span>
                   <span class="s2">"lat"</span>:<span class="s2">"48.887843"</span>,
                   <span class="s2">"lon"</span>:<span class="s2">"2.250442"</span>
                <span class="o">}</span>,
                <span class="s2">"label"</span>:<span class="s2">"Esplanade de la D</span><span class="se">\u</span><span class="s2">00e9fense (Puteaux)"</span>,
                <span class="s2">"id"</span>:<span class="s2">"stop_point:RAT:SP:ESDEN2"</span>,
                <span class="s2">"..."</span>
            <span class="o">}</span>,
            <span class="s2">"route"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"route:RAT:M1_R"</span>,
                <span class="s2">"name"</span>:<span class="s2">"Ch</span><span class="se">\u</span><span class="s2">00e2teau de Vincennes - La D</span><span class="se">\u</span><span class="s2">00e9fense"</span>,
                <span class="s2">"..."</span>
            <span class="o">}</span>,
            <span class="s2">"stop_date_time"</span>:<span class="o">{</span>
                <span class="s2">"arrival_date_time"</span>:<span class="s2">"20160615T133700"</span>,
                <span class="s2">"departure_date_time"</span>:<span class="s2">"20160615T133700"</span>,
                <span class="s2">"base_arrival_date_time"</span>:<span class="s2">"20160615T133700"</span>,
                <span class="s2">"base_departure_date_time"</span>:<span class="s2">"20160615T133700"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>:<span class="s2">"..."</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>:<span class="s2">"..."</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>:<span class="s2">"..."</span><span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/departures</code> service.</p>

<p>This endpoint retrieves a list of departures from a specific datetime of a selected
object.
<a href="#context">Context</a> object provides the <code class="prettyprint">current_datetime</code>, useful to compute waiting time when requesting Navitia without a <code class="prettyprint">from_datetime</code>.
Departures are ordered chronologically in ascending order as:
<img alt="departures" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG/640px-Display_at_bus_stop_sign_in_Karlovo_n%C3%A1m%C4%9Bst%C3%AD%2C_T%C5%99eb%C3%AD%C4%8D%2C_T%C5%99eb%C3%AD%C4%8D_District.JPG" /></p>

<p>See how disruptions affect the next departures in the <a href="#realtime">real time</a> section.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/{resource_path}/departures</code></td>
<td>List of the next departures, multi-route oriented, only time sorted (no grouped by <code class="prettyprint">stop_point/route</code> here)</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/coords/{lon;lat}/departures</code></td>
<td>List of the next departures, multi-route oriented, only time sorted (no grouped by <code class="prettyprint">stop_point/route</code> here), navitia guesses the region from coordinates</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>nop</td>
<td>from_datetime</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>The date_time from which you want the schedules</td>
<td>the current datetime</td>
</tr>
<tr>
<td>nop</td>
<td>duration</td>
<td>int</td>
<td>Maximum duration in seconds between from_datetime and the retrieved datetimes.</td>
<td>86400</td>
</tr>
<tr>
<td>nop</td>
<td>count</td>
<td>int</td>
<td>Maximum number of results.</td>
<td>10</td>
</tr>
<tr>
<td>nop</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>nop</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>nop</td>
<td>data_freshness</td>
<td>enum</td>
<td>Define the freshness of data to use to compute journeys <ul><li>realtime</li><li>base_schedule</li></ul></td>
<td>realtime</td>
</tr>
<tr>
<td>nop</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson fields from the response</td>
<td>false</td>
</tr>
<tr>
<td>nop</td>
<td>direction_type</td>
<td>enum</td>
<td>Allow to filter the response with the route direction type property <ul><li>all</li><li>forward</li><li>backward</li></ul>Note: forward is equivalent to clockwise and inbound. When you select forward, you filter with: [forward, clockwise, inbound].<br>backward is equivalent to anticlockwise and outbound. When you select backward, you filter with: [backward, anticlockwise, outbound]</td>
<td>all</td>
</tr>
</tbody></table>

<h3 id="departure-objects">Departure objects</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>route</td>
<td><a href="#route">route</a></td>
<td>The route of the schedule</td>
</tr>
<tr>
<td>stop_date_time</td>
<td>Array of <a href="#stop_date_time">stop_date_time</a></td>
<td>Occurs when a bus does a stopover at the stop point</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The stop point of the schedule</td>
</tr>
</tbody></table>

<h2 id="arrivals"><a name="arrivals"></a>Arrivals</h2>

<blockquote>
<p><a href="http://canaltp.github.io/navitia-playground/play.html?request=https%3A%2F%2Fapi.navitia.io%2Fv1%2Fcoverage%2Fsandbox%2Fstop_areas%2Fstop_area%253ARAT%253ASA%253AGDLYO%2Farrivals%3F&amp;token=3b036afe-0110-4202-b9ed-99718476c2e0">Try it on Navitia playground</a></p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas/stop_area:RAT:SA:GDLYO/arrivals'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"arrivals"</span>:[
        <span class="o">{</span>
            <span class="s2">"display_informations"</span>:<span class="o">{</span>
                <span class="s2">"direction"</span>:<span class="s2">"Saint-Lazare (Paris)"</span>,
                <span class="s2">"code"</span>:<span class="s2">"14"</span>,
                <span class="s2">"color"</span>:<span class="s2">"67328E"</span>,
                <span class="s2">"physical_mode"</span>:<span class="s2">"Métro"</span>,
                <span class="s2">"headsign"</span>:<span class="s2">"Olympiades"</span>,
                <span class="s2">"commercial_mode"</span>:<span class="s2">"Metro"</span>,
                <span class="s2">"network"</span>:<span class="s2">"RATP"</span>
            <span class="o">}</span>,
            <span class="s2">"stop_date_time"</span>:<span class="o">{</span>
                <span class="s2">"arrival_date_time"</span>:<span class="s2">"20160615T115400"</span>,
                <span class="s2">"departure_date_time"</span>:<span class="s2">"20160615T115400"</span>,
                <span class="s2">"base_arrival_date_time"</span>:<span class="s2">"20160615T115400"</span>,
                <span class="s2">"base_departure_date_time"</span>:<span class="s2">"20160615T115400"</span>,
                <span class="s2">"data_freshness"</span>:<span class="s2">"base_schedule"</span>
            <span class="o">}</span>,
            <span class="s2">"stop_point"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"stop_point:RAT:SP:GDLYO4"</span>,
                <span class="s2">"name"</span>:<span class="s2">"Gare de Lyon"</span>,
                <span class="s2">"label"</span>:<span class="s2">"Gare de Lyon (Paris)"</span>
            <span class="o">}</span>,
            <span class="s2">"route"</span>:<span class="o">{</span>
                <span class="s2">"id"</span>:<span class="s2">"route:RAT:M14_R"</span>,
                <span class="s2">"name"</span>:<span class="s2">"Olympiades - Gare Saint-Lazare"</span>
            <span class="o">}</span>
        <span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>: <span class="s2">"..."</span><span class="o">}</span>,
        <span class="o">{</span><span class="s2">"..."</span>: <span class="s2">"..."</span><span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/arrivals</code> service.</p>

<p>This endpoint retrieves a list of arrivals from a specific datetime of a selected
object. Arrivals are ordered chronologically in ascending order.</p>

<h3 id="accesses">Accesses</h3>

<table><thead>
<tr>
<th>url</th>
<th>Result</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">/coverage/{region_id}/{resource_path}/arrivals</code></td>
<td>List of the arrivals, multi-route oriented, only time sorted (no grouped by <code class="prettyprint">stop_point/route</code> here)</td>
</tr>
<tr>
<td><code class="prettyprint">/coverage/{lon;lat}/coords/{lon;lat}/arrivals</code></td>
<td>List of the arrivals, multi-route oriented, only time sorted (no grouped by <code class="prettyprint">stop_point/route</code> here), navitia guesses the region from coordinates</td>
</tr>
</tbody></table>

<h3 id="parameters">Parameters</h3>

<p>they are exactly the same as <a href="#departures">departures</a></p>

<h2 id="line-reports"><a name="line-reports"></a>Line reports</h2>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'http://api.navitia.io/v1/coverage/sandbox/line_reports'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response, composed by 2 main lists: "line_reports" and "disruptions"</span>
HTTP/1.1 200 OK

<span class="o">{</span>
<span class="s2">"disruptions"</span>: <span class="o">[</span>
        <span class="c">#list of linked disruptions</span>
<span class="o">]</span>,
<span class="s2">"line_reports"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"line"</span>: <span class="o">{</span>
            <span class="c">#main object (line) and links within its own disruptions</span>
        <span class="o">}</span>
        <span class="s2">"pt_objects"</span>: <span class="o">[</span>
            <span class="c">#list of all disrupted objects related to the line: stop_area, networks, etc...</span>
        <span class="o">]</span>
    <span class="o">}</span>,
    <span class="o">{</span>
        <span class="c">#Another line with its objects</span>
    <span class="o">}</span>
<span class="o">]</span>
<span class="o">}</span>

</code></pre>

<p>This service provides the state of public transport traffic, grouped by lines and all their stops.<br>
It can be called for an overall coverage or for a specific object.<br>
Can be accessed via: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/line_reports">https://api.navitia.io/v1/{a_path_to_a_resource}/line_reports</a></p>

<p><img src="./images/traffic_reports.png" alt="Traffic reports" width="300"/></p>

<h3 id="parameters">Parameters</h3>

<p>For example:</p>

<ul>
<li>  overall public transport line report on Ile de France coverage

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/line_reports">https://api.navitia.io/v1/coverage/fr-idf/line_reports</a></li>
</ul></li>
<li>  Is there any perturbations on the RER network ?

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/line_reports">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/line_reports</a></li>
</ul></li>
<li>  Is there any perturbations on the &ldquo;RER A&rdquo; line ?

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/lines/line:TRN:DUA810801043/line_reports">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/lines/line:TRN:DUA810801043/line_reports</a></li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>no</td>
<td>since</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Only display active disruptions after this date</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>until</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Only display active disruptions before this date</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>count</td>
<td>int</td>
<td>Maximum number of results.</td>
<td>25</td>
</tr>
<tr>
<td>no</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>no</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson fields from the response</td>
<td>false</td>
</tr>
</tbody></table>

<p>The response is made of an array of <a href="#line-reports">line_reports</a>,
and another one of <a href="#disruption">disruptions</a>.</p>

<p>There are inner links between this 2 arrays:
see the <a href="#inner-references">inner-reference</a> section to use them.</p>

<h3 id="line-report-object">Line report object</h3>
<pre class="highlight shell"><code><span class="c">#links between objects in a line_reports response</span>
<span class="o">{</span>
  <span class="s2">"disruptions"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"status"</span>: <span class="s2">"active"</span>,
      <span class="s2">"id"</span>: <span class="s2">"17283fae-7dcf-11e8-898e-005056a47b86"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"status"</span>: <span class="s2">"active"</span>,
      <span class="s2">"id"</span>: <span class="s2">"140a9970-0c9b-11e8-b2b6-005056a44da2"</span>
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"line_reports"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"line"</span>: <span class="o">{</span>
        <span class="s2">"links"</span>: <span class="o">[]</span>,
        <span class="s2">"id"</span>: <span class="s2">"line:1"</span>
      <span class="o">}</span>,
      <span class="s2">"pt_objects"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"embedded_type"</span>: <span class="s2">"stop_point"</span>,
          <span class="s2">"stop_point"</span>: <span class="o">{</span>
            <span class="s2">"name"</span>: <span class="s2">"SP 1"</span>,
            <span class="s2">"links"</span>: <span class="o">[</span>
              <span class="o">{</span>
                <span class="s2">"internal"</span>: <span class="nb">true</span>,
                <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                <span class="s2">"id"</span>: <span class="s2">"140a9970-0c9b-11e8-b2b6-005056a44da2"</span>,
                <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                <span class="s2">"templated"</span>: <span class="nb">false</span>
              <span class="o">}</span>
            <span class="o">]</span>,
          <span class="s2">"id"</span>: <span class="s2">"stop_point:1"</span>
          <span class="o">}</span>
        <span class="o">}</span>
      <span class="o">]</span>
    <span class="o">}</span>,
    <span class="o">{</span>
    <span class="s2">"line"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"line:CAE:218"</span>,
        <span class="s2">"links"</span>: <span class="o">[</span>
              <span class="o">{</span>
                <span class="s2">"internal"</span>: <span class="nb">true</span>,
                <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                <span class="s2">"id"</span>: <span class="s2">"17283fae-7dcf-11e8-898e-005056a47b86"</span>,
                <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                <span class="s2">"templated"</span>: <span class="nb">false</span>
              <span class="o">}</span>
        <span class="o">]</span>
    <span class="o">}</span>,
    <span class="s2">"pt_objects"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"embedded_type"</span>: <span class="s2">"line"</span>,
            <span class="s2">"line"</span>: <span class="o">{</span>
                <span class="s2">"id"</span>: <span class="s2">"line:CAE:218"</span>,
                <span class="s2">"links"</span>: <span class="o">[</span>
                    <span class="o">{</span>
                        <span class="s2">"internal"</span>: <span class="nb">true</span>,
                        <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"17283fae-7dcf-11e8-898e-005056a47b86"</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                        <span class="s2">"templated"</span>: <span class="nb">false</span>
                    <span class="o">}</span>
                <span class="o">]</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
<span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>Line_reports is an array of some line_report object.</p>

<p>One Line_report object is a complex object, made of a line, and an array
of <a href="#pt-objects">pt_objects</a> linked (for example stop_areas, stop_point or network).</p>

<h4 id="what-a-complete-response-means"> What a <strong>complete</strong> response <strong>means</strong></h4>

<ul>
<li>  multiple line_reports

<ul>
<li>  line 1

<ul>
<li>  stop area concorde &gt; internal link to disruption &ldquo;green&rdquo;</li>
<li>  stop area bastille &gt; internal link to disruption &ldquo;pink&rdquo;</li>
</ul></li>
<li>  line 2 &gt; internal link to disruption &ldquo;blue&rdquo;

<ul>
<li>  network RATP &gt; internal link to disruption &ldquo;green&rdquo;</li>
<li>  line 2 &gt; internal link to disruption &ldquo;blue&rdquo;</li>
</ul></li>
<li>  line 3 &gt; internal link to disruption &ldquo;yellow&rdquo;

<ul>
<li>  stop point bourse &gt; internal link to disruption &ldquo;yellow&rdquo;</li>
</ul></li>
</ul></li>
<li>  multiple disruptions (disruption target links)

<ul>
<li>  disruption &ldquo;green&rdquo;</li>
<li>  disruption &ldquo;pink&rdquo;</li>
<li>  disruption &ldquo;blue&rdquo;</li>
<li>  disruption &ldquo;yellow&rdquo;</li>
<li>  Each disruption contains the messages to show.</li>
</ul></li>
</ul>

<p>Details for disruption objects : <a href="#disruptions">disruptions</a></p>

<h4 id="what-a-line_report-object-contains">What a line_report object <strong>contains</strong></h4>

<ul>
<li>  1 line which is the grouping object

<ul>
<li>  it can contain links to its disruptions.<br>
These disruptions are globals and might not be applied on stop_areas and stop_points.</li>
</ul></li>
<li>  1..n pt_objects

<ul>
<li>  each one contains at least a link to its disruptions.</li>
</ul></li>
</ul>

<h2 id="traffic-reports"><a name="traffic-reports"></a>Traffic reports</h2>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'http://api.navitia.io/v1/coverage/sandbox/traffic_reports'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response, composed by 2 main lists: "traffic_reports" and "disruptions"</span>
HTTP/1.1 200 OK

<span class="o">{</span>
<span class="s2">"traffic_reports"</span>: <span class="o">[</span>
        <span class="s2">"network"</span>: <span class="o">{</span>
        <span class="c">#main object (network) and links within its own disruptions</span>
        <span class="o">}</span>,
        <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="c">#list of all disrupted lines from the network and disruptions links</span>
        <span class="o">]</span>,
        <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="c">#list of all disrupted stop_areas from the network and disruptions links</span>
        <span class="o">]</span>,
    <span class="o">]</span>,[
        <span class="c">#another network with its lines and stop areas</span>
    <span class="o">]</span>,
<span class="s2">"disruptions"</span>: <span class="o">[</span>
        <span class="c">#list of linked disruptions</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>Also known as <code class="prettyprint">/traffic_reports</code> service. We recommand to use line_reports in place of traffic_reports.</p>

<p>This service provides the state of public transport traffic, grouped by network.<br>
It can be called for an overall coverage or for a specific object.<br>
Can be accessed via: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/traffic_reports">https://api.navitia.io/v1/{a_path_to_a_resource}/traffic_reports</a></p>

<h3 id="parameters">Parameters</h3>

<p>For example:</p>

<ul>
<li>  overall public transport traffic report on Ile de France coverage

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/traffic_reports">https://api.navitia.io/v1/coverage/fr-idf/traffic_reports</a></li>
</ul></li>
<li>  Is there any perturbations on the RER network ?

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/traffic_reports">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/traffic_reports</a></li>
</ul></li>
<li>  Is there any perturbations on the &ldquo;RER A&rdquo; line ?

<ul>
<li>  <a href="https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/lines/line:OIF:810:AOIF741/line_reports?">https://api.navitia.io/v1/coverage/fr-idf/networks/network:RER/lines/line:OIF:810:AOIF741/line_reports?</a></li>
</ul></li>
</ul>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>no</td>
<td>since</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Only display active disruptions after this date</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>until</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Only display active disruptions before this date</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>count</td>
<td>int</td>
<td>Maximum number of results.</td>
<td>10</td>
</tr>
<tr>
<td>no</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>no</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>disable_geojson</td>
<td>boolean</td>
<td>remove geojson fields from the response</td>
<td>false</td>
</tr>
</tbody></table>

<p>The response is made of an array of <a href="#traffic-reports">traffic_reports</a>,
and another one of <a href="#disruption">disruptions</a>.</p>

<p>There are inner links between this 2 arrays:
see the <a href="#inner-references">inner-reference</a> section to use them.</p>

<h3 id="traffic-report-object">Traffic report object</h3>
<pre class="highlight shell"><code><span class="c">#links between objects in a traffic_reports response</span>
<span class="o">{</span>
<span class="s2">"traffic_reports"</span>: <span class="o">[</span>
    <span class="o">{</span>
    <span class="s2">"network"</span>: <span class="o">{</span><span class="s2">"name"</span>: <span class="s2">"bob"</span>, <span class="s2">"links"</span>: <span class="o">[]</span>, <span class="s2">"id"</span>: <span class="s2">"network:bob"</span><span class="o">}</span>,
    <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"1"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-green"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}</span> <span class="o">]</span>
        <span class="o">}</span>,
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"12"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-pink"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>,
    <span class="o">]</span>,
    <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"bobito"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-red"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>
    <span class="o">]</span>
    <span class="o">}</span>,<span class="o">{</span>
    <span class="s2">"network"</span>: <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"bobette"</span>,
        <span class="s2">"id"</span>: <span class="s2">"network:bobette"</span>,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-blue"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
    <span class="o">}</span>,
    <span class="s2">"lines"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"A"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-green"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}</span> <span class="o">]</span>
        <span class="o">}</span>,
        <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"C"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-yellow"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"stop_areas"</span>: <span class="o">[</span>
        <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"bobito"</span>,
        ... ,
        <span class="s2">"links"</span>: <span class="o">[</span> <span class="o">{</span>
            <span class="s2">"internal"</span>: <span class="nb">true</span>,
            <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="s2">"id"</span>: <span class="s2">"link-to-red"</span>,
            <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
            <span class="s2">"templated"</span>: <span class="nb">false</span>
            <span class="o">}]</span>
        <span class="o">}</span>
    <span class="o">]</span>
    <span class="o">}</span>
<span class="o">]</span>,
<span class="s2">"disruptions"</span>: <span class="o">[</span>
    <span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"active"</span>,
        <span class="s2">"severity"</span>: <span class="o">{</span><span class="s2">"color"</span>: <span class="s2">""</span>, <span class="s2">"priority"</span>: 4, <span class="s2">"name"</span>: <span class="s2">"Information"</span>, <span class="s2">"effect"</span>: <span class="s2">"UNKNOWN_EFFECT"</span><span class="o">}</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"green, super green"</span>, ...<span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-green"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"pink, floyd pink"</span>, ... <span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-pink"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"red, mine"</span>, ... <span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-red"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"blue, grass"</span>, ... <span class="o">}</span> <span class="o">]</span>,
        <span class="s2">"id"</span>: <span class="s2">"link-to-blue"</span><span class="o">}</span>,
        ...
    <span class="o">}</span>,<span class="o">{</span>
        <span class="s2">"status"</span>: <span class="s2">"futur"</span>,
        <span class="s2">"messages"</span>: <span class="o">[</span> <span class="o">{</span> <span class="s2">"text"</span>: <span class="s2">"yellow, submarine"</span>, ... <span class="o">}</span>
        <span class="s2">"id"</span>: <span class="s2">"link-to-yellow"</span><span class="o">}</span>,
        ...<span class="o">}</span>
    <span class="o">]</span>,
<span class="s2">"link"</span>: <span class="o">{</span> ... <span class="o">}</span>,
<span class="s2">"pagination"</span>: <span class="o">{</span> ... <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>Traffic_reports is an array of some traffic_report object.</p>

<p>One traffic_report object is a complex object, made of a network, an array
of lines and an array of stop_areas.</p>

<h4 id="what-a-complete-response-means"> What a <strong>complete</strong> response <strong>means</strong></h4>

<ul>
<li>  multiple traffic_reports

<ul>
<li>  network &ldquo;bob&rdquo;

<ul>
<li>  line &ldquo;1&rdquo; &gt; internal link to disruption &ldquo;green&rdquo;</li>
<li>  line &ldquo;12&rdquo; &gt; internal link to disruption &ldquo;pink&rdquo;</li>
<li>  stop_area &ldquo;bobito&rdquo; &gt; internal link to disruption &ldquo;red&rdquo;</li>
</ul></li>
<li>  network &ldquo;bobette&rdquo; &gt; internal link to disruption &ldquo;blue&rdquo;

<ul>
<li>  line &ldquo;A&rdquo; &gt; internal link to disruption &ldquo;green&rdquo;</li>
<li>  line &ldquo;C&rdquo; &gt; internal link to disruption &ldquo;yellow&rdquo;</li>
<li>  stop_area &ldquo;bobito&rdquo; &gt; internal link to disruption &ldquo;red&rdquo;</li>
</ul></li>
</ul></li>
<li>  multiple disruptions (disruption target links)

<ul>
<li>  disruption &ldquo;green&rdquo;</li>
<li>  disruption &ldquo;pink&rdquo;</li>
<li>  disruption &ldquo;red&rdquo;</li>
<li>  disruption &ldquo;blue&rdquo;</li>
<li>  disruption &ldquo;yellow&rdquo;</li>
<li>  Each disruption contains the messages to show.</li>
</ul></li>
</ul>

<p>Details for disruption objects : <a href="#disruptions">disruptions</a></p>

<h4 id="what-a-traffic_report-object-contains">What a traffic_report object <strong>contains</strong></h4>

<ul>
<li>  1 network which is the grouping object

<ul>
<li>  it can contain links to its disruptions.<br>
These disruptions are globals and might not be applied on lines or stop_areas.</li>
</ul></li>
<li>  0..n lines

<ul>
<li>  each line contains at least a link to its disruptions</li>
</ul></li>
<li>  0..n stop_areas

<ul>
<li>  each stop_area contains at least a link to its disruptions<br>
If a stop_area is used by multiple networks, it will appear each time.</li>
</ul></li>
</ul>

<h2 id="equipment_reports">Equipment_Reports</h2>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'http://api.navitia.io/v1/coverage/&lt;my_coverage&gt;/equipment_reports'</span>
</code></pre>
<pre class="highlight shell"><code><span class="c"># response, composed by 1 main list: "equipment_reports"</span>
HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"equipment_reports"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"line"</span>: <span class="o">{</span>15 items<span class="o">}</span>,
            <span class="s2">"stop_area_equipments"</span>: <span class="o">[</span>
                <span class="o">{</span>  
                    <span class="s2">"equipment_details"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"current_availability"</span>: <span class="o">{</span>
                                <span class="s2">"cause"</span>: <span class="o">{</span>
                                    <span class="s2">"label"</span>: <span class="s2">"engineering work in progress"</span>
                                <span class="o">}</span>,
                                <span class="s2">"effect"</span>: <span class="o">{</span>
                                    <span class="s2">"label"</span>: <span class="s2">"platform 3 available via stairs only"</span>
                                <span class="o">}</span>,
                                <span class="s2">"periods"</span>: <span class="o">[</span>
                                    <span class="o">{</span>
                                        <span class="s2">"begin"</span>: <span class="s2">"20190216T000000"</span>,
                                        <span class="s2">"end"</span>: <span class="s2">"20190601T220000"</span>
                                    <span class="o">}</span>
                                <span class="o">]</span>,
                                <span class="s2">"status"</span>: <span class="s2">"unavailable"</span>,
                                <span class="s2">"updated_at"</span>: <span class="s2">"2019-05-17T15:54:53+02:00"</span>
                            <span class="o">}</span>
                        <span class="s2">"embedded_type"</span>: <span class="s2">"escalator"</span>,
                        <span class="s2">"id"</span>: <span class="s2">"2702"</span>,
                        <span class="s2">"name"</span>: <span class="s2">"du quai direction Vaulx-en-Velin La Soie  jusqu'à la sortie B"</span>,
                        <span class="o">}</span>,
                    <span class="o">]</span>
                    <span class="s2">"stop_area"</span>: <span class="o">{</span>9 items<span class="o">}</span>,
                <span class="o">}</span>,
            <span class="o">]</span>
        <span class="o">}</span>,
    <span class="o">]</span>,
<span class="o">}</span>
</code></pre>

<p>Also known as the <code class="prettyprint">&quot;/equipment_reports&quot;</code> service.</p>

<p>This service provides the state of equipments such as lifts or elevators that are giving you better accessibility to public transport facilities.<br>
The endpoint will report accessible equipment per stop area and per line. Which means that an equipment detail is reported at the stop area level, with all stop areas gathered per line.<br>
Some of the fields (cause, effect, periods etc&hellip;) are only displayed if a realtime equipment provider is setup with available data. Otherwise, only information provided by the NTFS will be reported.<br>
For more information, refer to <a href="#equipment-reports">Equipment reports</a> API description.<br>
Can be accessed via: <a href="https://api.navitia.io/v1/%7Ba_path_to_a_resource%7D/equipment_reports">https://api.navitia.io/v1/{a_path_to_a_resource}/equipment_reports</a></p>

<aside class="warning">
    This feature requires a specific configuration from a equipment service provider.
    Therefore this service is not available by default.
</aside>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Required</th>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default Value</th>
</tr>
</thead><tbody>
<tr>
<td>no</td>
<td>count</td>
<td>int</td>
<td>Elements per page</td>
<td>10</td>
</tr>
<tr>
<td>no</td>
<td>depth</td>
<td>int</td>
<td>Json response <a href="#depth">depth</a></td>
<td>1</td>
</tr>
<tr>
<td>no</td>
<td>filter</td>
<td>string</td>
<td>A <a href="#filter">filter</a> to refine your request</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>forbidden_uris[]</td>
<td>id</td>
<td>If you want to avoid lines, modes, networks, etc.</td>
<td></td>
</tr>
<tr>
<td>no</td>
<td>start_page</td>
<td>int</td>
<td>The page number (cf. the <a href="#paging">paging section</a>)</td>
<td>0</td>
</tr>
</tbody></table>

          <h1 id="objects">Objects</h1>

<h2 id="standard-objects">Standard Objects</h2>

<h3 id="coord">Coord</h3>

<p>Lots of object are geographically localized :</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>lon</td>
<td>float</td>
<td>Longitude</td>
</tr>
<tr>
<td>lat</td>
<td>float</td>
<td>Latitude</td>
</tr>
</tbody></table>

<h3 id="iso-date-time">Iso-date-time</h3>

<p>Navitia</p>

<ul>
<li>  exposes every date times as local times of the coverage via an ISO 8601 &ldquo;YYYYMMDDThhmmss&rdquo; string</li>
<li>  can be requested using local times of the coverage via ISO 8601 as &ldquo;YYYYMMDDThhmmss&rdquo; or &ldquo;YYYY-MM-DDThh:mm:ss&rdquo;</li>
<li>  can be requested using UTC relative times via ISO 8601 as &ldquo;YYYYMMDDThhmmss+HHMM&rdquo; or &ldquo;YYYY-MM-DDThh:mm:ss+HH:MM&rdquo;</li>
<li>  can be requested using UTC times via ISO 8601 as &ldquo;YYYYMMDDThhmmssZ&rdquo; or &ldquo;YYYY-MM-DDThh:mm:ssZ&rdquo;</li>
</ul>

<p><a href="#context">Context</a> object provides the Timezone, useful to interpret datetimes of the response.</p>

<p>For example:</p>

<ul>
<li><a href="https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=20140425T1337">https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=20140425T1337</a></li>
<li><a href="https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=2014-04-25T13:37+02:00">https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=2014-04-25T13:37+02:00</a></li>
<li><a href="https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=2014-04-25T13:37:42Z">https://api.navitia.io/v1/journeys?from=bob&amp;to=bobette&amp;datetime=2014-04-25T13:37:42Z</a></li>
</ul>

<p>There are lots of ISO 8601 libraries in every kind of language that you should use before breaking down <a href="https://youtu.be/-5wpm-gesOY">https://youtu.be/-5wpm-gesOY</a></p>

<h3 id="iso-date">Iso-date</h3>

<p>The date are represented in ISO 8601 &ldquo;YYYYMMDD&rdquo; string.</p>

<h2 id="public-transport-objects">Public transport objects</h2>

<h3 id="network">Network</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"network:RAT:1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"RATP"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Networks are fed by agencies in GTFS format.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the network</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the network</td>
</tr>
</tbody></table>

<h3 id="line">Line</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"line:RAT:M6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Nation - Charles de Gaule Etoile"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="s2">"79BB92"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"opening_time"</span><span class="p">:</span><span class="s2">"053000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"closing_time"</span><span class="p">:</span><span class="s2">"013600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"routes"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"commercial_mode"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"commercial_mode:Metro"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Metro"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"physical_modes"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Métro"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"physical_mode:Metro"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the line</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the line</td>
</tr>
<tr>
<td>code</td>
<td>string</td>
<td>Code name of the line</td>
</tr>
<tr>
<td>color</td>
<td>string</td>
<td>Color of the line</td>
</tr>
<tr>
<td>opening_time</td>
<td>string</td>
<td>Opening hour at format HHMMSS</td>
</tr>
<tr>
<td>closing_time</td>
<td>string</td>
<td>Closing hour at format HHMMSS</td>
</tr>
<tr>
<td>routes</td>
<td>array of <a href="#route">route</a></td>
<td>Routes of the line</td>
</tr>
<tr>
<td>commercial_mode</td>
<td><a href="#commercial-mode">commercial_mode</a></td>
<td>Commercial mode of the line</td>
</tr>
<tr>
<td>physical_modes</td>
<td>array of <a href="#physical-mode">physical_mode</a></td>
<td>Physical modes of the line</td>
</tr>
</tbody></table>

<h3 id="route">Route</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"route:RAT:M6"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Nation - Charles de Gaule Etoile"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_frequence"</span><span class="p">:</span><span class="s2">"False"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"line"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"line:RAT:M6"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Nation - Charles de Gaule Etoile"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"direction"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"stop_area:RAT:SA:GAUET"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Charles de Gaulle - Etoile (Paris)"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the route</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the route</td>
</tr>
<tr>
<td>is_frequence</td>
<td>enum</td>
<td>If the route has frequency or not. Can only be &ldquo;False&rdquo;, but may be &ldquo;True&rdquo; in the future</td>
</tr>
<tr>
<td>line</td>
<td><a href="#line">line</a></td>
<td>The line of this route</td>
</tr>
<tr>
<td>direction</td>
<td><a href="#place">place</a></td>
<td>The direction of this route</td>
</tr>
</tbody></table>

<p>As &ldquo;direction&rdquo; is a <a href="#place">place</a> , it can be a poi in some data.</p>

<h3 id="stop-point"><a name="stop-point"></a>Stop Point</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"stop_point:RAT:SP:GARIB2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Garibaldi"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"Garibaldi (Saint-Ouen)"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coord"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"lat"</span><span class="p">:</span><span class="s2">"48.906032"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lon"</span><span class="p">:</span><span class="s2">"2.331733"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"administrative_regions"</span><span class="p">:[{</span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}],</span><span class="w">
    </span><span class="nt">"equipments"</span><span class="p">:[{</span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}],</span><span class="w">
    </span><span class="nt">"stop_area"</span><span class="p">:{</span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the stop point</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the stop point</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the stop point</td>
</tr>
<tr>
<td>administrative_regions</td>
<td>array of <a href="#admin">admin</a></td>
<td>Administrative regions of the stop point in which is the stop point</td>
</tr>
<tr>
<td>equipments</td>
<td>array of string</td>
<td>list of <a href="#equipment">equipment</a> of the stop point</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">stop_area</a></td>
<td>Stop Area containing this stop point</td>
</tr>
</tbody></table>

<h3 id="stop-area"><a name="stop-area"></a>Stop Area</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"stop_area:RAT:SA:GAUET"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Charles de Gaulle - Etoile"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"label"</span><span class="p">:</span><span class="s2">"Charles de Gaulle - Etoile (Paris)"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"coord"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"lat"</span><span class="p">:</span><span class="s2">"48.874408"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lon"</span><span class="p">:</span><span class="s2">"2.295763"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"administrative_regions"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the stop area</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the stop area</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>Label of the stop area. The name is directly taken from the data whereas the label is something we compute for better traveler information. If you don&rsquo;t know what to display, display the label.</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the stop area</td>
</tr>
<tr>
<td>administrative_regions</td>
<td>array of <a href="#admin">admin</a></td>
<td>Administrative regions of the stop area in which is the stop area</td>
</tr>
<tr>
<td>stop_points</td>
<td>array of <a href="#stop-point">stop_point</a></td>
<td>Stop points contained in this stop area</td>
</tr>
</tbody></table>

<h3 id="commercial-mode"><a name="commercial-mode"></a>Commercial Mode</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"commercial_mode:Metro"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Metro"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the commercial mode</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the commercial mode</td>
</tr>
<tr>
<td>physical_modes</td>
<td>array of <a href="#physical-mode">physical_mode</a></td>
<td>Physical modes of this commercial mode</td>
</tr>
</tbody></table>

<p>Commercial modes are close from physical modes, but not normalized and can refer to a brand,
something that can be specific to a network, and known to the traveler.
Examples: RER in Paris, Busway in Nantes, and also of course Bus, Métro, etc.</p>

<p>Integrators should mainly use that value for text output to the traveler.</p>

<h3 id="physical-mode"><a name="physical-mode"></a>Physical Mode</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"physical_mode:Tramway"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"Tramway"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the physical mode</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the physical mode</td>
</tr>
<tr>
<td>commercial_modes</td>
<td>array of <a href="#commercial-mode">commercial_mode</a></td>
<td>Commercial modes of this physical mode</td>
</tr>
</tbody></table>

<p>Physical modes are fastened and normalized (though the list can -rarely- be extended).
So it&rsquo;s easier for integrators to map it to a pictogram, but prefer <a href="#commercial-mode">commercial_mode</a> for a text output.</p>

<p>The idea is to use physical modes when building a request to Navitia,
and commercial modes when building an output to the traveler.</p>

<p>Example: If you want to propose modes filter in your application, you should use <a href="#physical-mode">physical_mode</a> rather than
<a href="#commercial-mode">commercial_mode</a>.</p>

<p>Here is the valid id list:</p>

<ul>
<li>  physical_mode:Air</li>
<li>  physical_mode:Boat</li>
<li>  physical_mode:Bus</li>
<li>  physical_mode:BusRapidTransit</li>
<li>  physical_mode:Coach</li>
<li>  physical_mode:Ferry</li>
<li>  physical_mode:Funicular</li>
<li>  physical_mode:LocalTrain</li>
<li>  physical_mode:LongDistanceTrain</li>
<li>  physical_mode:Metro</li>
<li>  physical_mode:RailShuttle</li>
<li>  physical_mode:RapidTransit</li>
<li>  physical_mode:Shuttle</li>
<li>  physical_mode:SuspendedCableCar</li>
<li>  physical_mode:Taxi</li>
<li>  physical_mode:Train</li>
<li>  physical_mode:Tramway</li>
</ul>

<p>You can use these ids in the forbidden_uris[] parameter from
<a href="#journeys-parameters">journeys parameters</a> for exemple.</p>

<h3 id="company"><a name="company"></a>Company</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"company:RAT:1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RATP"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the company</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the company</td>
</tr>
</tbody></table>

<h3 id="place">Place</h3>

<p>A container containing either a <a href="#admin">admin</a>, <a href="#poi">poi</a>, <a href="#address">address</a>, <a href="#stop-area">stop_area</a>,
<a href="#stop-point">stop_point</a></p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin:2191338"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Quartier des Épinettes (75017)"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"quality"</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w">
    </span><span class="nt">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"administrative_region"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"administrative_region"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>The id of the embedded object</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the embedded object</td>
</tr>
<tr>
<td>quality</td>
<td>integer</td>
<td>The quality of the place</td>
</tr>
<tr>
<td>embedded_type</td>
<td><a href="#place-embedded-type">place embedded_type</a></td>
<td>The type of the embedded object</td>
</tr>
<tr>
<td>administrative_region</td>
<td><a href="#admin">admin</a></td>
<td>Embedded administrative region</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">stop_area</a></td>
<td>Embedded Stop area</td>
</tr>
<tr>
<td>poi</td>
<td><a href="#poi">poi</a></td>
<td>Embedded poi</td>
</tr>
<tr>
<td>address</td>
<td><a href="#address">address</a></td>
<td>Embedded address</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>Embedded Stop point</td>
</tr>
</tbody></table>

<h3 id="trip">Trip</h3>

<p>A trip corresponds to a scheduled vehicle circulation (and all its linked real-time and disrupted routes).</p>

<p>An example : a train, routing a Paris to Lyon itinerary every day at 06h29, is the &ldquo;Trip&rdquo; named &ldquo;6641&rdquo;.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OIF:67308746-10-1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"67308746"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>The id of the trip</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the trip</td>
</tr>
</tbody></table>

<p>It also encapsulates many instances of vehicle_journey, accessible with the url:</p>

<p><code class="prettyprint">https://api.navitia.io/v1/coverage/sandbox/trips/{trip.id}/vehicle_journeys</code>.</p>

<h3 id="pt_object"><a name="pt-object"></a>Pt_object</h3>

<p>A container containing either a <a href="#network">network</a>, <a href="#commercial-mode">commercial_mode</a>, <a href="#line">line</a>, <a href="#route">route</a>,
<a href="#stop_point">stop_area</a>, <a href="#stop_point">stop_area</a>, <a href="#trip">trip</a></p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCE:SN009862F01013"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCE:SN009862F01013"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"quality"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trip"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trip"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OCE:SN009862F01013"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9862"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>The id of the embedded object</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>The name of the embedded object</td>
</tr>
<tr>
<td>quality</td>
<td>integer</td>
<td>The quality of the object</td>
</tr>
<tr>
<td>embedded_type</td>
<td><a href="#pt-object-embedded-type">pt-object embedded_type</a></td>
<td>The type of the embedded object</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">stop_area</a></td>
<td>Embedded Stop area</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>Embedded Stop point</td>
</tr>
<tr>
<td>network</td>
<td><a href="#network">network</a></td>
<td>Embedded network</td>
</tr>
<tr>
<td>commercial_mode</td>
<td><a href="#commercial-mode">commercial_mode</a></td>
<td>Embedded commercial_mode</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">stop_area</a></td>
<td>Embedded Stop area</td>
</tr>
<tr>
<td>line</td>
<td><a href="#line">line</a></td>
<td>Embedded line</td>
</tr>
<tr>
<td>route</td>
<td><a href="#route">route</a></td>
<td>Embedded route</td>
</tr>
<tr>
<td>trip</td>
<td><a href="#trip">trip</a></td>
<td>Embedded trip</td>
</tr>
</tbody></table>

<h2 id="real-time-and-disruption-objects">Real time and disruption objects</h2>

<h3 id="disruption"><a name="disruption"></a>Disruption</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce7e265d-5762-45b6-ab4d-a1df643dd48d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"disruption_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce7e265d-5762-45b6-ab4d-a1df643dd48d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"impact_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce7e265d-5762-45b6-ab4d-a1df643dd48d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"severity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trip delayed"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SIGNIFICANT_DELAYS"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"application_periods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"begin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160608T215400"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160608T230959"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Strike"</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160617T132624"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"impacted_objects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"cause"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cause..."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"incident"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Id of the disruption</td>
</tr>
<tr>
<td>status</td>
<td>between: &ldquo;past&rdquo;, &ldquo;active&rdquo; or &ldquo;future&rdquo;</td>
<td>state of the disruption. The state is computed using the application_periods of the disruption and the current time of the query.</td>
</tr>
<tr>
<td>disruption_id</td>
<td>string</td>
<td>for traceability: Id of original input disruption</td>
</tr>
<tr>
<td>impact_id</td>
<td>string</td>
<td>for traceability: Id of original input impact</td>
</tr>
<tr>
<td>severity</td>
<td><a href="#severity">severity</a></td>
<td>gives some categorization element</td>
</tr>
<tr>
<td>application_periods</td>
<td>array of <a href="#period">period</a></td>
<td>dates where the current disruption is active</td>
</tr>
<tr>
<td>messages</td>
<td>array of <a href="#message">message</a></td>
<td>texts to provide to the traveler</td>
</tr>
<tr>
<td>updated_at</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>date_time of last modifications</td>
</tr>
<tr>
<td>impacted_objects</td>
<td>array of <a href="#impacted_object">impacted_object</a></td>
<td>The list of public transport objects which are affected by the disruption</td>
</tr>
<tr>
<td>cause</td>
<td>string</td>
<td>why is there such a disruption?</td>
</tr>
<tr>
<td>category</td>
<td>string</td>
<td>The category of the disruption, such as &ldquo;construction works&rdquo; or &ldquo;incident&rdquo;</td>
</tr>
<tr>
<td>contributor</td>
<td>string</td>
<td>The source from which Navitia received the disruption</td>
</tr>
<tr>
<td>uri</td>
<td>string</td>
<td>deprecated</td>
</tr>
<tr>
<td>disruption_uri</td>
<td>string</td>
<td>deprecated</td>
</tr>
</tbody></table>

<h3 id="impacted_object">Impacted_object</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"pt_object"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id_of_the_line"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name of a lne"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"line"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"line"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"impacted_section"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pt_object</td>
<td><a href="#pt_object">pt_object</a></td>
<td>The impacted public transport object</td>
</tr>
<tr>
<td>impacted_section</td>
<td><a href="#impacted_section">impacted_section</a></td>
<td>Only for line section impact, the impacted section</td>
</tr>
<tr>
<td>impacted_stops</td>
<td>array of <a href="#impacted_stop">impacted_stop</a></td>
<td>Only for <a href="#trip">trip</a> delay, the list of delays, stop by stop</td>
</tr>
</tbody></table>

<h3 id="impacted_section">Impacted_section</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop_area"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stop_area"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"to"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stop_area"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stop_area"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td><a href="#pt_object">pt_object</a></td>
<td>The beginning of the section</td>
</tr>
<tr>
<td>to</td>
<td><a href="#pt_object">pt_object</a></td>
<td>The end of the section. This can be the same as <code class="prettyprint">from</code> when only one point is impacted</td>
</tr>
<tr>
<td>routes</td>
<td><a href="#route">route</a></td>
<td>The list of impacted routes by the impacted_section</td>
</tr>
</tbody></table>

<h3 id="impacted_stop">Impacted_stop</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"stop_point"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"amended_departure_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"073600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"base_arrival_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"073600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"base_departure_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"073600"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"cause"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stop_time_effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delayed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"departure_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delayed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"arrival_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deleted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>The impacted stop point of the trip</td>
</tr>
<tr>
<td>amended_departure_time</td>
<td>string</td>
<td>New departure hour (format HHMMSS) of the trip on this stop point</td>
</tr>
<tr>
<td>amended_arrival_time</td>
<td>string</td>
<td>New arrival hour (format HHMMSS) of the trip on this stop point</td>
</tr>
<tr>
<td>base_departure_time</td>
<td>string</td>
<td>Base departure hour (format HHMMSS) of the trip on this stop point</td>
</tr>
<tr>
<td>base_arrival_time</td>
<td>string</td>
<td>Base arrival hour (format HHMMSS) of the trip on this stop point</td>
</tr>
<tr>
<td>cause</td>
<td>string</td>
<td>Cause of the modification</td>
</tr>
<tr>
<td>stop_time_effect</td>
<td>Enum</td>
<td>Can be: &ldquo;added&rdquo;, &ldquo;deleted&rdquo;, &ldquo;delayed&rdquo; or &ldquo;unchanged&rdquo;. <em>Deprecated</em>, consider the more accurate departure_status and arrival_status</td>
</tr>
<tr>
<td>arrival_status</td>
<td>Enum</td>
<td>Can be: &ldquo;added&rdquo;, &ldquo;deleted&rdquo;, &ldquo;delayed&rdquo; or &ldquo;unchanged&rdquo;.</td>
</tr>
<tr>
<td>departure_status</td>
<td>Enum</td>
<td>Can be: &ldquo;added&rdquo;, &ldquo;deleted&rdquo;, &ldquo;delayed&rdquo; or &ldquo;unchanged&rdquo;.</td>
</tr>
</tbody></table>

<h3 id="message">Message</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Strike"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"..."</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>text</td>
<td>string</td>
<td>a message to bring to a traveler</td>
</tr>
<tr>
<td>channel</td>
<td><a href="#channel">channel</a></td>
<td>destination media. Be careful, no normalized enum for now</td>
</tr>
</tbody></table>

<h3 id="severity">Severity</h3>

<p>Severity object can be used to make visual grouping.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#FF0000"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trip delayed"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"effect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SIGNIFICANT_DELAYS"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>color</td>
<td>string</td>
<td>HTML color for classification</td>
</tr>
<tr>
<td>priority</td>
<td>integer</td>
<td>given by the agency : 0 is strongest priority. it can be null</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of severity</td>
</tr>
<tr>
<td>effect</td>
<td>Enum</td>
<td>Normalized value of the effect on the public transport object See the GTFS RT documentation at <a href="https://developers.google.com/transit/gtfs-realtime/reference#Effect">https://developers.google.com/transit/gtfs-realtime/reference#Effect</a></td>
</tr>
</tbody></table>

<h3 id="channel">Channel</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rt"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"content_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rt"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mobile"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the address</td>
</tr>
<tr>
<td>content_type</td>
<td>string</td>
<td>Like text/html, you know? Otherwise, take a look at <a href="http://www.w3.org/Protocols/rfc1341/4_Content-Type.html">http://www.w3.org/Protocols/rfc1341/4_Content-Type.html</a></td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of the Channel</td>
</tr>
</tbody></table>

<h3 id="period">Period</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"begin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160608T215400"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160608T230959"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>begin</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Beginning date and time of an activity period</td>
</tr>
<tr>
<td>end</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>Closing date and time of an activity period</td>
</tr>
</tbody></table>

<h2 id="street-network-objects">Street network objects</h2>

<h3 id="poi-type">Poi Type</h3>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/poi_types'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre>

<p><code class="prettyprint">/poi_types</code> lists groups of point of interest. You will find classifications as theater, offices or bicycle rental station for example.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the poi type</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the poi type</td>
</tr>
</tbody></table>

<h3 id="stands">Stands</h3>

<p>A description of the number of stands/places and vehicles available at a bike sharing station.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>available_places</td>
<td>int</td>
<td>Number of places where one can park</td>
</tr>
<tr>
<td>available_bikes</td>
<td>int</td>
<td>Number of bikes available</td>
</tr>
<tr>
<td>total_stands</td>
<td>int</td>
<td>Total number of stands (occupied or not, with or without special equipment)</td>
</tr>
<tr>
<td>status</td>
<td>enum</td>
<td>Information about the station itself:<ul><li><code class="prettyprint">unavailable</code>: Navitia is not able to obtain information about the station</li><li><code class="prettyprint">open</code>: The station is open</li><li><code class="prettyprint">closed</code>: The station is closed</li></ul></td>
</tr>
</tbody></table>

<h3 id="poi"><a name="poi"></a>Poi</h3>
<pre class="highlight shell"><code><span class="c">#useless request, with huge response</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/pois'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#inverted geocoding request, more usable</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/coords/2.377310;48.847002/pois'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#very smart request</span>
<span class="c">#combining filters to get some specific POIs, as bicycle rental stations,</span>
<span class="c">#nearby a coordinate</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/poi_types/poi_type:amenity:bicycle_rental/coords/2.377310;48.847002/pois'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre>

<p>Poi = Point Of Interest</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the poi</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the poi</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>Label of the poi. The name is directly taken from the data whereas the label is something we compute for better traveler information. If you don&rsquo;t know what to display, display the label.</td>
</tr>
<tr>
<td>poi_type</td>
<td><a href="#poi-type">poi_type</a></td>
<td>Type of the poi</td>
</tr>
<tr>
<td>stands</td>
<td><a href="#stands">stands</a></td>
<td>Information on the spots available, for BSS stations</td>
</tr>
</tbody></table>

<h3 id="address">Address</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the address</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the address</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>Label of the adress. The name is directly taken from the data whereas the label is something we compute for better traveler information. If you don&rsquo;t know what to display, display the label.</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the address</td>
</tr>
<tr>
<td>house_number</td>
<td>int</td>
<td>House number of the address</td>
</tr>
<tr>
<td>administrative_regions</td>
<td>array of <a href="#admin">admin</a></td>
<td>Administrative regions of the address in which is the stop area</td>
</tr>
</tbody></table>

<h3 id="administrative-region">Administrative region</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Identifier of the address</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>Name of the address</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>Label of the administrative region. The name is directly taken from the data whereas the label is something we compute for better traveler information. If you don&rsquo;t know what to display, display the label.</td>
</tr>
<tr>
<td>coord</td>
<td><a href="#coord">coord</a></td>
<td>Coordinates of the address</td>
</tr>
<tr>
<td>level</td>
<td>int</td>
<td>Level of the admin</td>
</tr>
<tr>
<td>zip_code</td>
<td>string</td>
<td>Zip code of the admin</td>
</tr>
</tbody></table>

<p>Cities are mainly on the 8 level, dependant on the country
(<a href="http://wiki.openstreetmap.org/wiki/Tag:boundary%3Dadministrative">http://wiki.openstreetmap.org/wiki/Tag:boundary%3Dadministrative</a>)</p>

<h3 id="equipment-reports"><a name="equipment-reports"></a>Equipment reports</h3>
<pre class="highlight json"><code><span class="s2">"equipment_reports"</span><span class="err">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"line"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
        </span><span class="nt">"stop_area_equipments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>A list of objects that maps each line with its associated stop area equipments.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>line</td>
<td><a href="#line">line</a></td>
<td>The line to which equipments are associated</td>
</tr>
<tr>
<td>stop_area_equipments</td>
<td><a href="#stop-area-equipments">stop area equipments</a></td>
<td>A list of objects that describes equipments for each stop area</td>
</tr>
</tbody></table>

<h3 id="stop-area-equipments"><a name="stop-area-equipments"></a>Stop area equipments</h3>
<pre class="highlight json"><code><span class="s2">"stop_area_equipments"</span><span class="err">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"equipment_details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
        </span><span class="nt">"stop_area"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
    </span><span class="err">}</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>A list of objects that maps equipments details for each stop area.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>equipment_details</td>
<td><a href="#equipment-details">Equipment details</a></td>
<td>The equipment details associated with the stop area</td>
</tr>
<tr>
<td>stop_area</td>
<td><a href="#stop-area">Stop Area</a></td>
<td>The stop area to which the <code class="prettyprint">equipment_details</code> is associated</td>
</tr>
</tbody></table>

<h3 id="equipment-details"><a name="equipment-details"></a>Equipment details</h3>
<pre class="highlight json"><code><span class="s2">"equipment_details"</span><span class="err">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"current_availability"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">},</span><span class="w">
        </span><span class="nt">"embedded_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"escalator"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2702"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Escalator 2702, for platform 3"</span><span class="p">,</span><span class="w">
    </span><span class="err">}</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Occurrence</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>current_availability</td>
<td><a href="#equipment-availability">Equipment availability</a></td>
<td>always</td>
<td>Describes equipments information like: status, name, id etc&hellip;</td>
</tr>
<tr>
<td>embedded_type</td>
<td>string</td>
<td>always</td>
<td>Define the equipment type: <code class="prettyprint">escalator</code>, <code class="prettyprint">elevator</code></td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>always</td>
<td>The equipment&rsquo;s unique identifier</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>optional</td>
<td>the equipment&rsquo;s name/description</td>
</tr>
</tbody></table>

<h3 id="equipment-availability"><a name="equipment-availability"></a>Equipment availability</h3>
<pre class="highlight json"><code><span class="s2">"current_availability"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"cause"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"engineering work in progress"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"effect"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"platform 3 available via stairs only"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"periods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"begin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20190216T000000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20190601T220000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unavailable"</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td>always</td>
<td>Equipment status: <ul><li><code class="prettyprint">unknown</code>: no realtime information available</li><li><code class="prettyprint">unavailable</code>: equipment is known to be unavailable with details provided below </li></ul></td>
</tr>
<tr>
<td>cause</td>
<td>label</td>
<td>optional</td>
<td>If status is <code class="prettyprint">unavailable</code>, gives you the cause in a label</td>
</tr>
<tr>
<td>effect</td>
<td>label</td>
<td>optional</td>
<td>If status is <code class="prettyprint">unavailable</code>, gives you the effect in a label</td>
</tr>
<tr>
<td>periods</td>
<td>period</td>
<td>optional</td>
<td>If status is <code class="prettyprint">unavailable</code>, gives the affected period (with a <code class="prettyprint">begin</code> &amp; <code class="prettyprint">end</code> datetime attributes)</td>
</tr>
</tbody></table>

<h2 id="other-objects">Other objects</h2>

<h3 id="context"><a name="context"></a>context</h3>
<pre class="highlight shell"><code><span class="c">#links between objects in a traffic_reports response</span>
<span class="o">{</span>
    <span class="s2">"context"</span>: <span class="o">{</span>
        <span class="s2">"timezone"</span>: <span class="s2">"Europe</span><span class="se">\/</span><span class="s2">Paris"</span>,
        <span class="s2">"current_datetime"</span>: <span class="s2">"20171201T120114"</span>,
        <span class="s2">"car_direct_path"</span>: <span class="o">{</span>
            <span class="s2">"co2_emission"</span>: <span class="o">{</span>
                <span class="s2">"value"</span>: 857.951371579,
                <span class="s2">"unit"</span>: <span class="s2">"gEC"</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>,
    <span class="s2">"journeys"</span>: <span class="o">[</span> ... <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>context object is a complex object provided in any endpoint&rsquo;s response.
It serves several goals:</p>

<ul>
<li>  <code class="prettyprint">timezone</code> provides timezone of any datetime in the response.</li>
<li>  <code class="prettyprint">current_datetime</code> provides the time the call was made.<br>
It is precious to compute the waiting time until next passages (journeys, departures, etc.),
as when no datetime is provided at call, Navitia uses that &ldquo;current_datetime&rdquo; as reference time.</li>
<li>  <code class="prettyprint">car_direct_path</code> can also be provided in journeys to help compare ecological footprint of transport.</li>
</ul>

<h3 id="pt-date-time">pt-date-time</h3>

<p>pt-date-time (pt stands for &ldquo;public transport&rdquo;) is a complex date time object to manage the difference between stop and leaving times at a stop.</p>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>additional_informations</td>
<td>Array of String</td>
<td>Other information: TODO enum</td>
</tr>
<tr>
<td>departure_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>A date time</td>
</tr>
<tr>
<td>arrival_date_time</td>
<td><a href="#iso-date-time">iso-date-time</a></td>
<td>A date time</td>
</tr>
<tr>
<td>links</td>
<td>Array of <a href="#link">link</a></td>
<td>internal links to notes</td>
</tr>
</tbody></table>

<h3 id="note">note</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>id of the note</td>
</tr>
<tr>
<td>value</td>
<td>String</td>
<td>The content of the note</td>
</tr>
</tbody></table>

<h3 id="stop_date_time">stop_date_time</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>date_time</td>
<td><a href="#pt-date-time">pt-date-time</a></td>
<td>A public transport date time</td>
</tr>
<tr>
<td>stop_point</td>
<td><a href="#stop-point">stop_point</a></td>
<td>A stop point</td>
</tr>
</tbody></table>

<h3 id="place-embedded-type"><a name="place-embedded-type"></a>Place embedded type</h3>

<p>Enum used to identify what kind of objects <em><a href="#places">/places</a></em> and <em><a href="#places-nearby-api">/places_nearby</a></em> services are managing.
It&rsquo;s also used inside different responses (journeys, &hellip;).</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#administrative-region">administrative_region</a></td>
<td>a city, a district, a neighborhood</td>
</tr>
<tr>
<td><a href="#stop-area">stop_area</a></td>
<td>a nameable zone, where there are some stop points</td>
</tr>
<tr>
<td><a href="#stop-point">stop_point</a></td>
<td>a location where vehicles can pickup or drop off passengers</td>
</tr>
<tr>
<td><a href="#address">address</a></td>
<td>a point located in a street</td>
</tr>
<tr>
<td><a href="#poi">poi</a></td>
<td>a point of interest</td>
</tr>
</tbody></table>

<h3 id="pt-object-embedded-type"><a name="pt-object-embedded-type"></a>PT-object embedded type</h3>

<p>Enum used to identify what kind of objects <em><a href="#pt-objects">/pt_objects</a></em> service is managing.
It&rsquo;s also used inside different responses (disruptions, &hellip;).</p>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#network">network</a></td>
<td>a public transport network</td>
</tr>
<tr>
<td><a href="#commercial-mode">commercial_mode</a></td>
<td>a public transport branded mode</td>
</tr>
<tr>
<td><a href="#line">line</a></td>
<td>a public transport line</td>
</tr>
<tr>
<td><a href="#route">route</a></td>
<td>a public transport route</td>
</tr>
<tr>
<td><a href="#stop-area">stop_area</a></td>
<td>a nameable zone, where there are some stop points</td>
</tr>
<tr>
<td><a href="#stop-point">stop_point</a></td>
<td>a location where vehicles can pickup or drop off passengers</td>
</tr>
<tr>
<td><a href="#trip">trip</a></td>
<td>a trip</td>
</tr>
</tbody></table>

<h3 id="equipment">equipment</h3>

<p>Enum from</p>

<ul>
<li>  has_wheelchair_accessibility</li>
<li>  has_bike_accepted</li>
<li>  has_air_conditioned</li>
<li>  has_visual_announcement</li>
<li>  has_audible_announcement</li>
<li>  has_appropriate_escort</li>
<li>  has_appropriate_signage</li>
<li>  has_school_vehicle</li>
<li>  has_wheelchair_boarding</li>
<li>  has_sheltered</li>
<li>  has_elevator</li>
<li>  has_escalator</li>
<li>  has_bike_depot</li>
</ul>

<h3 id="display-informations">display informations</h3>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>network</td>
<td>String</td>
<td>The name of the network</td>
</tr>
<tr>
<td>direction</td>
<td>String</td>
<td>A direction</td>
</tr>
<tr>
<td>commercial_mode</td>
<td>String</td>
<td>The commercial mode</td>
</tr>
<tr>
<td>physical_mode</td>
<td>String</td>
<td>The physical mode</td>
</tr>
<tr>
<td>label</td>
<td>String</td>
<td>The label of the object</td>
</tr>
<tr>
<td>color</td>
<td>String</td>
<td>The hexadecimal code of the line</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>The code of the line</td>
</tr>
<tr>
<td>description</td>
<td>String</td>
<td>A description</td>
</tr>
<tr>
<td>equipments</td>
<td>Array of String</td>
<td>list of <a href="#equipment">equipment</a> of the object</td>
</tr>
</tbody></table>

<h3 id="link">link</h3>

<p>See <a href="#interface">interface</a> section.</p>

<h2 id="special-parameters">Special Parameters</h2>

<h3 id="datetime">datetime</h3>

<p>A date time with the format YYYYMMDDThhmmss, considered local to the coverage being used.</p>

<h4 id="depth">depth</h4>

<p>This tiny parameter can expand Navitia power by making it more wordy. As it is valuable on every API, take a look at <a href="#depth">depth</a></p>

          <h1 id="misc-mechanisms-and-few-boring-stuff">Misc mechanisms (and few boring stuff)</h1>

<h2 id="multiple-journeys">Multiple journeys</h2>

<p>Navitia can compute several kind of journeys with a journey query.</p>

<p>The
<a href="http://research.microsoft.com/apps/pubs/default.aspx?id=156567">RAPTOR</a>
algorithm used in Navitia is a multi-objective algorithm. Thus it might
return multiple journeys if it cannot know that one is better than the
other. For example it cannot decide that a one hour journey with no
connection is better than a 45 minutes journey with one connection
(it is called the <a href="http://en.wikipedia.org/wiki/Pareto_efficiency">pareto front</a>).
The 3 objectives Navitia uses are roughly the arrival datetime, the number of transfers
and the duration of &ldquo;walking&rdquo; (transfers and fallback).</p>

<p>If the user asks for more journeys than the number of journeys given by
RAPTOR (with the parameter <code class="prettyprint">min_nb_journeys</code> or <code class="prettyprint">count</code>), Navitia will
ask RAPTOR again, but for the following journeys (or the previous ones
if the user asked with <code class="prettyprint">datetime_represents=arrival</code>).</p>

<p>Those journeys have the <code class="prettyprint">next</code> (or <code class="prettyprint">previous</code>) value in their tags.</p>

<h2 id="journey-qualification-process">Journey qualification process</h2>

<p>Since Navitia can return several journeys, it tags them to help the user
choose the best one that matches their needs.
Here are some tagging rules:
-    there is only one &ldquo;best&rdquo; itinerary
-    itineraries with other types are displayed only if they are relevant
-    and for a specific type, you may find many relevant itinerary</p>

<p>For example, for a specific request, you can find the &ldquo;best&rdquo; itinerary, 2 &ldquo;less_fallback_walk&rdquo; ones
(with less walking, but taking more time) and no &ldquo;comfort&rdquo; (the &ldquo;best&rdquo; one is the same as the &ldquo;comfort&rdquo; one for example).</p>

<p>The different journey types are:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>best</td>
<td>The best journey if you have to display only one.</td>
</tr>
<tr>
<td>rapid</td>
<td>A good trade off between duration, changes and constraint respect</td>
</tr>
<tr>
<td>comfort</td>
<td>A journey with less changes and walking</td>
</tr>
<tr>
<td>car</td>
<td>A journey with car to get to the public transport</td>
</tr>
<tr>
<td>less_fallback_walk</td>
<td>A journey with less walking</td>
</tr>
<tr>
<td>less_fallback_bike</td>
<td>A journey with less biking</td>
</tr>
<tr>
<td>less_fallback_bss</td>
<td>A journey with less bss</td>
</tr>
<tr>
<td>fastest</td>
<td>A journey with minimum duration</td>
</tr>
<tr>
<td>bike_in_pt</td>
<td>A journey with bike both at the beginning and the end, and where bike is allowed in public transport used</td>
</tr>
<tr>
<td>non_pt_walk</td>
<td>A journey without public transport, only walking</td>
</tr>
<tr>
<td>non_pt_bike</td>
<td>A journey without public transport, only biking</td>
</tr>
<tr>
<td>non_pt_bss</td>
<td>A journey without public transport, only bike sharing</td>
</tr>
</tbody></table>

<h2 id="ridesharing"><a name="ridesharing-stuff"></a>Ridesharing</h2>
<pre class="highlight shell"><code>simplified output

<span class="o">{</span>
    <span class="s2">"journeys"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"requested_date_time"</span>: <span class="s2">"20180101T070000"</span>,
            <span class="s2">"sections"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"type"</span>: <span class="s2">"street_network"</span>,
                    <span class="s2">"mode"</span>: <span class="s2">"ridesharing"</span>,
                    <span class="s2">"from"</span>: <span class="s2">"A"</span>,
                    <span class="s2">"to"</span>: <span class="s2">"B"</span>,
                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20180101T070000"</span>,
                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20180101T090000"</span>,
                    <span class="s2">"ridesharing_journeys"</span>: <span class="o">[</span>
                        <span class="o">{</span>
                            <span class="s2">"sections"</span>:[
                                <span class="o">{</span>
                                    <span class="s2">"from"</span>: <span class="s2">"A"</span>,
                                    <span class="s2">"to"</span>: <span class="s2">"A1"</span>,
                                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20180101T063000"</span>,
                                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20180101T063000"</span>,
                                    <span class="s2">"type"</span>: <span class="s2">"crow_fly"</span>,
                                    <span class="s2">"mode"</span>: <span class="s2">"walking"</span>
                                <span class="o">}</span>,
                                <span class="o">{</span>
                                    <span class="s2">"from"</span>: <span class="s2">"A1"</span>,
                                    <span class="s2">"to"</span>: <span class="s2">"A2"</span>,
                                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20180101T063000"</span>,
                                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20180101T093000"</span>,
                                    <span class="s2">"type"</span>: <span class="s2">"ridesharing"</span>
                                <span class="o">}</span>,
                                <span class="o">{</span>
                                    <span class="s2">"from"</span>: <span class="s2">"A2"</span>,
                                    <span class="s2">"to"</span>: <span class="s2">"B"</span>,
                                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20180101T093000"</span>,
                                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20180101T093000"</span>,
                                    <span class="s2">"type"</span>: <span class="s2">"crow_fly"</span>,
                                    <span class="s2">"mode"</span>: <span class="s2">"walking"</span>
                                <span class="o">}</span>
                            <span class="o">]</span>
                        <span class="o">}</span>,
                        <span class="o">{</span>
                            ...
                        <span class="o">}</span>
                    <span class="o">]</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"from"</span>: <span class="s2">"B"</span>,
                    <span class="s2">"to"</span>: <span class="s2">"C"</span>,
                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20180101T090000"</span>,
                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20180101T100000"</span>,
                    <span class="s2">"type"</span>: <span class="s2">"public_transport"</span>
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            ...
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<p>When requesting a journey, it is possible to request for a ridesharing fallback,
using <code class="prettyprint">first_section_mode</code> or <code class="prettyprint">last_section_mode</code>.
This may also be used to obtain a direct ridesharing journey (using <code class="prettyprint">max_ridesharing_duration_to_pt=0</code>).</p>

<p>This returns a journey only when one or multiple ridesharing ads are found, matching the request.</p>

<aside class="warning">
    This feature requires a specific configuration and an agreement from a ridesharing service provider.
    Therefore this service is available only for a few clients.
</aside>

<p>The journey from Navitia will then contain a section using the ridesharing mode.
Inside this section an attribute ridesharing_journeys contains one or multiple journeys
depicting specifically the ridesharing ads that could match the above section
and that could be proposed to the user.</p>

<h2 id="taxi"><a name="taxi-stuff"></a>Taxi</h2>

<aside class="warning">
    This feature is not available on all coverages, as it is dependent on other parameters of the coverage (how journeys are computed).
</aside>

<p>With this mode, your journey may contain taxi sections(fallback or direct path). The journey you will obtain is basically the same as a journey by car. The only difference is that with taxi as fallback mode, a buffer time (section &ldquo;waiting&rdquo;, defaulted to 5 min) will appear into the journey. The buffer time won&rsquo;t appear if the journey is a direct path. Depending on the calculator, the journey may pick up ways that are reserved for taxis on not.</p>

<h2 id="on-demand-transportation">On demand transportation</h2>

<p>Some transit agencies force travelers to call them to arrange a pickup at a particular place or stop point.</p>

<p>Besides, some stop times can be &ldquo;estimated&rdquo; <em>in data by design</em> :</p>

<ul>
<li>A standard GTFS contains only regular time: that means transport agencies should arrive on time :)</li>
<li>But navitia can be fed with more specific data, where &ldquo;estimated time&rdquo; means that there will be
no guarantee on time respect by the agency. It often occurs in suburban or rural zone.</li>
</ul>

<p>After all, the stop points can be standard (such as bus stop or railway station)
or &ldquo;zonal&rdquo; (where agency can pick you up you anywhere, like a cab).</p>

<p>That&rsquo;s some kind of &ldquo;responsive locomotion&rdquo; (ɔ).</p>

<p>So public transport lines can mix different methods to pickup travelers:</p>

<ul>
<li>  regular

<ul>
<li>  line does not contain any estimated stop times, nor zonal stop point location.</li>
<li>  No need to call too.</li>
</ul></li>
<li>  odt_with_stop_time

<ul>
<li>  line does not contain any estimated stop times, nor zonal stop point location.</li>
<li>  But you will have to call to take it.</li>
</ul></li>
<li>  odt_with_stop_point

<ul>
<li>  line can contain some estimated stop times, but no zonal stop point location.</li>
<li>  And you will have to call to take it.</li>
</ul></li>
<li>  odt_with_zone

<ul>
<li>  line can contain some estimated stop times, and zonal stop point location.</li>
<li>  And you will have to call to take it</li>
<li>  well, not really a public transport line, more a cab&hellip;</li>
</ul></li>
</ul>

<h2 id="disruptions">Disruptions</h2>

<p>In this paragraph, we will explain how the disruptions are displayed in the different APIs.</p>

<h3 id="publication-period-of-a-disruption">publication period of a disruption</h3>

<p>The publication period of a disruption is the period on which we want to display the disruption in navitia.</p>

<p>The creator of the disruption might not want the traveller to know of a disruption before a certain date (because it&rsquo;s too uncertain, secret, &hellip;)
The publication period is the way to control this.</p>

<h3 id="application-periods-of-a-disruption">application periods of a disruption</h3>

<p>The application periods are the list of periods on which the disruption is active.
For example it&rsquo;s the actual period when railworks are done and train circulation is cut.</p>

<h3 id="request-date">Request date</h3>

<p>The request date represents datetime for Journeys API, from_datetime for  Schedules API or now for the others APIs.
The default value is now.</p>

<h3 id="summary">Summary</h3>

<p>To sum up we display an impact if &lsquo;now&rsquo; is in the publication period.</p>

<p>The status of the impact depends only of &#39;now&rsquo; and is:</p>

<ul>
<li>&#39;active&rsquo; if &#39;now&rsquo; is inside an application period</li>
<li>&#39;future&rsquo; if &#39;now&rsquo; is not inside an application period and there is an application period after &#39;now&rsquo;</li>
<li>&#39;past&rsquo; otherwise</li>
</ul>

<table>
  <thead>
    <tr>
      <th align="center" colspan="2"></th>
      <th align="center"> </th>
      <th align="center" colspan="3">Show impacts </th>
      <th align="center"> </th>
    </tr>
    <tr>
      <th align="center">publication period </th>
      <th>Application period </th>
      <th align="center">Request date</th>
      <th align="center">disruptions API</th>
      <th align="center">traffic_reports & PtRef API</th>
      <th align="center">Journeys & Schedules API</th>
      <th align="center">Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
    </tr>
    <tr>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center">date1 </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center">- </td>
      <td align="center">- </td>
      <td align="center">future </td>
    </tr>
    <tr>
      <td align="center">T </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
    </tr>
    <tr>
      <td align="center">| </td>
      <td align="center"> </td>
      <td align="center">date2 </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"> </td>
      <td align="center">future </td>
    </tr>
    <tr>
      <td align="center">| </td>
      <td align="center">T </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
    </tr>
    <tr>
      <td align="center">| </td>
      <td align="center">| </td>
      <td align="center">date3 </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center">active </td>
    </tr>
    <tr>
      <td align="center">| </td>
      <td align="center">⊥ </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
    </tr>
    <tr>
      <td align="center">| </td>
      <td> </td>
      <td align="center">date4 </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center"> </td>
      <td align="center">passed </td>
    </tr>
    <tr>
      <td align="center">⊥ </td>
      <td> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
      <td align="center"> </td>
    </tr>
    <tr>
      <td align="center"> </td>
      <td> </td>
      <td align="center">date5 </td>
      <td align="center"><strong>Yes</strong> </td>
      <td align="center">- </td>
      <td align="center">- </td>
      <td align="center">passed </td>
    </tr>
  </tbody>
</table>

          <h1 id="lexicon">Lexicon</h1>

<h2 id="introduction">Introduction</h2>

<p>The world of public transportation is really specific, you will see here a small
introduction to it. A lot of people in the world of public transportation use
different words to speak about the same thing. Here are the definitions of terms
employed in www.navitia.io</p>

<p>You can read a mobility lexicon at
<a href="https://github.com/OpenTransport/vocabulary/blob/master/vocabulary.md">https://github.com/OpenTransport/vocabulary/blob/master/vocabulary.md</a></p>

<p>You will often read &ldquo;PT&rdquo; in this document. PT stands for public transport.</p>

<h2 id="stop-point">Stop Point</h2>

<p>A stop point is the physical object were someone waits for his bus
(subway, or whatever type of vehicle you can have in a public transport system).</p>

<h2 id="stop-area">Stop Area</h2>

<p>A stop area is a collection of stop points. Generally there are at least two stop
points per stop area, one per direction of a line. Now think of a hub, you will
have more than one line. Therefore your stop area will contain more than two stop
points. In particular cases your stop area can contain only one stop point.</p>

<p>Some datasets do not contain any stop area.</p>

<h2 id="connection">Connection</h2>

<p>This object links two stop points together (named origin and
destination). It is the walkable part of a journey.</p>

<h2 id="journey-pattern">Journey Pattern</h2>

<p>A journey pattern is an ordered list of stop points. Two vehicles that serve exactly the
same stop points in exactly the same order belong to to the same journey pattern.</p>

<h2 id="route">Route</h2>

<p>A route is a collection of journey pattern that match the same commercial direction.</p>

<aside class="warning">
    The GTFS specification uses the term <b>route</b> for the object we call <b>line</b>. It does not
    have this notion of commercial direction.
</aside>

<h2 id="line">Line</h2>

<p>A line is a collection of routes. Most of the time you&rsquo;ll just have just two routes.
This object is called <em>route</em> in the GTFS format.</p>

<h2 id="stop-time">Stop Time</h2>

<p>A stop time represents the time when a bus is planned to arrive and to leave a
stop point.</p>

          <h1 id="errors">Errors</h1>

<h2 id="code-40x">Code 40x</h2>

<p>When Navitia is unable to give an answer, you&rsquo;ll receive a response with an error object
containing a unique error id, in a 4XX http code response</p>
<pre class="highlight shell"><code><span class="c">#request</span>
<span class="gp">$ </span>curl <span class="s1">'https://api.navitia.io/v1/coverage/sandbox/stop_areas/wrong-one'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>

<span class="c">#response</span>
HTTP/1.1 404 OK

<span class="o">{</span>
    <span class="s2">"error"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: <span class="s2">"bad_filter"</span>,
        <span class="s2">"message"</span>: <span class="s2">"ptref : Filters: Unable to find object"</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<p>The are two possible 40x http codes :</p>

<ul>
<li>  Code 404: unable to find an object</li>
</ul>

<table><thead>
<tr>
<th>Error id</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>date_out_of_bounds</td>
<td>When the given date is out of bounds of the production dates of the region</td>
</tr>
<tr>
<td>no_origin</td>
<td>Couldn&rsquo;t find an origin for the journeys</td>
</tr>
<tr>
<td>no_destination</td>
<td>Couldn&rsquo;t find an destination for the journeys</td>
</tr>
<tr>
<td>no_origin_nor_destination</td>
<td>Couldn&rsquo;t find an origin nor a destination for the journeys</td>
</tr>
<tr>
<td>unknown_object</td>
<td>As it&rsquo;s said</td>
</tr>
</tbody></table>

<ul>
<li>  Code 400: bad request</li>
</ul>

<table><thead>
<tr>
<th>Error id</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bad_filter</td>
<td>When you use a custom filter</td>
</tr>
<tr>
<td>unable_to_parse</td>
<td>When you use a mal-formed custom filter</td>
</tr>
<tr>
<td>unknown_api</td>
<td>When you request an inexistant endpoint</td>
</tr>
<tr>
<td>bad_format</td>
<td>When you provide ill-formated parameter (coord for example)</td>
</tr>
</tbody></table>

<h2 id="code-200">Code 200</h2>

<p>Even if everything is correct (input parameters, internal processing)
Navitia can end up finding that the correct answer is empty.</p>

<table><thead>
<tr>
<th>Error id</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>no_solution</td>
<td>From data, there is no solution available given the request</td>
</tr>
</tbody></table>

<h2 id="code-50x">Code 50x</h2>

<p>Ouch. Technical issue :/</p>

<table><thead>
<tr>
<th>Error id</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>internal_error</td>
<td>Something bad and unexpected has happened internally</td>
</tr>
</tbody></table>

          <h1 id="real-time-integration-in-navita"><a name="realtime"></a> Real time integration in Navita</h1>

<p>Several endpoints can integrate real time information in their responses. In the response received, a disruption will be present and additional information will be provided if the parameter <code class="prettyprint">data_freshness</code> is set to <code class="prettyprint">realtime</code>. If the parameter <code class="prettyprint">data_freshness</code> is set to <code class="prettyprint">base_schedule</code>, the disruption is also present in the response for the user information, but it won&rsquo;t be taken into account in the results of the query.</p>

<aside class="warning">
Real time isn&rsquo;t available on every coverage for Navitia. For real time to be available for a client, it needs to provide real time info about its network to Navitia.
</aside>

<p>The effect of a disruption can be one of the following:
<ul>
    <li><a href="#SIGNIFICANT_DELAYS">SIGNIFICANT_DELAYS</a></li>
    <li><a href="#REDUCED_SERVICE">REDUCED_SERVICE</a></li>
    <li><a href="#MODIFIED_SERVICE">MODIFIED_SERVICE</a></li>
    <li><a href="#ADDITIONAL_SERVICE">ADDITIONAL_SERVICE</a></li>
    <li><a href="#UNKNOWN_EFFECT">UNKNOWN_EFFECT</a></li>
</ul></p>

<p>For each one of these effects, here&rsquo;s how the Navitia responses will be affected over the different endpoints.</p>

<aside class="notice">
A disruption is present in the response of the endpoints described if the request is made during its application period.
</aside>

<h2 id="trip-delayed"><a name="SIGNIFICANT_DELAYS"></a>Trip delayed</h2>

<p><img alt="image" src="images/delay.png" /></p>
<pre class="highlight shell"><code><span class="c"># Extract of an impacted stop from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"amended_arrival_time"</span>: <span class="s2">"194700"</span>,
    <span class="s2">"amended_departure_time"</span>: <span class="s2">"194900"</span>,
    <span class="s2">"arrival_status"</span>: <span class="s2">"delayed"</span>,
    <span class="s2">"base_arrival_time"</span>: <span class="s2">"193200"</span>,
    <span class="s2">"base_departure_time"</span>: <span class="s2">"193400"</span>,
    <span class="s2">"cause"</span>: <span class="s2">"Panne d'un aiguillage"</span>,
    <span class="s2">"departure_status"</span>: <span class="s2">"delayed"</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
    <span class="s2">"stop_time_effect"</span>: <span class="s2">"delayed"</span>,
<span class="o">}</span>
</code></pre>

<p>The effect of the disruption is <code class="prettyprint">SIGNIFICANT_DELAYS</code>. It means that the train will arrive late at one or more stations in its journey.</p>

<p>In the disruption, the delay can be found in the list of &ldquo;impacted_stops&rdquo; with the departure/arrival status set to &ldquo;delayed&rdquo;.</p>

<ul>
<li>&ldquo;base_arrival_time&rdquo;/&ldquo;base_departure_time&rdquo; represent the scheduled arrival/departure time without taking into account the delay</li>
<li>whereas &ldquo;amended_arrival_time&rdquo;/&ldquo;amended_departure_time&rdquo; are the actual arrival/departure time, after the delay is applied</li>
</ul>

<p>See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>

<h3 id="journeys">Journeys</h3>
<pre class="highlight shell"><code><span class="c"># Request example for /journeys</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/journeys?from<span class="o">=</span>&lt;origin&gt;&amp;to<span class="o">=</span>&lt;destination&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre>
<pre class="highlight shell"><code><span class="c"># Extract of the public transport section from the response /journeys</span>

    <span class="s2">"sections"</span>: ⊖[
       ⊖<span class="o">{</span>
            <span class="s2">"additional_informations"</span>: ⊕[1 item],
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190529T205000"</span>,
            <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20190529T204500"</span>,
            <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20190529T160000"</span>,
            <span class="s2">"co2_emission"</span>: ⊕<span class="o">{</span>2 items<span class="o">}</span>,
            <span class="s2">"data_freshness"</span>: <span class="s2">"realtime"</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20190529T160000"</span>,
            <span class="s2">"display_informations"</span>: ⊖<span class="o">{</span>
                <span class="s2">"code"</span>: <span class="s2">""</span>,
                <span class="s2">"color"</span>: <span class="s2">"000000"</span>,
                <span class="s2">"commercial_mode"</span>: <span class="s2">"TGV INOUI"</span>,
                <span class="s2">"description"</span>: <span class="s2">""</span>
                <span class="s2">"direction"</span>: <span class="s2">"Nice Ville (Nice)"</span>,
                <span class="s2">"equipments"</span>: <span class="o">[]</span>,
                <span class="s2">"headsign"</span>: <span class="s2">"847520"</span>,
                <span class="s2">"label"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"links"</span>: ⊖[
                   ⊖<span class="o">{</span>
                        <span class="s2">"id"</span>: <span class="s2">"b59bdab8-3560-4cfe-8009-b0461f74c417"</span>,
                        <span class="s2">"internal"</span>: <span class="nb">true</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                        <span class="s2">"templated"</span>: <span class="nb">false</span>
                        <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"name"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"network"</span>: <span class="s2">"SNCF"</span>,
                <span class="s2">"physical_mode"</span>: <span class="s2">"Train grande vitesse"</span>,
                <span class="s2">"text_color"</span>: <span class="s2">""</span>,
            <span class="o">}</span>,
            <span class="s2">"duration"</span>: 21180,
            <span class="s2">"from"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"geojson"</span>: ⊕<span class="o">{</span>3 items<span class="o">}</span>,
            <span class="s2">"id"</span>: <span class="s2">"section_0_0"</span>,
            <span class="s2">"links"</span>: ⊕[6 items],
            <span class="s2">"stop_date_times"</span>: ⊖[
               ⊕<span class="o">{</span>7 items<span class="o">}</span>,
               ⊖<span class="o">{</span>
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190605T194700"</span>,
                    <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20190605T193200"</span>,
                    <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20190605T193400"</span>
                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20190605T194900"</span>,
                    <span class="s2">"links"</span>: <span class="o">[]</span>,
                    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
                <span class="o">}</span>,
               ⊕<span class="o">{</span>7 items<span class="o">}</span>,
               ⊕<span class="o">{</span>7 items<span class="o">}</span>,
            <span class="o">]</span>
            <span class="s2">"to"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"type"</span>: <span class="s2">"public_transport"</span>,
        <span class="o">}</span>
    <span class="o">]</span>
</code></pre>

<p>The status of the journey is <code class="prettyprint">SIGNIFICANT_DELAYS</code>.</p>

<p>In a public transport section of the response:</p>

<ul>
<li>&ldquo;base_arrival_date_time&rdquo;/&ldquo;base_departure_date_time&rdquo; represent the scheduled arrival/departure time without taking into account the delay</li>
<li>whereas &ldquo;arrival_date_time&rdquo;/&ldquo;departure_date_time&rdquo; are the actual arrival/departure time, after the delay is applied</li>
</ul>

<p>The delay can also be observed for every stop point of the journey with the same parameters in &ldquo;stop_date_times&rdquo;.<br>
If the parameter &ldquo;data_freshness&rdquo; is set to &ldquo;base_schedule&rdquo;, then &ldquo;base_arrival_date_time&rdquo;/&ldquo;base_departure_date_time&rdquo; = &ldquo;arrival_date_time&rdquo;/&ldquo;departure_date_time&rdquo;.</p>

<p>A list of the disruptions impacting the journey is also present at the root level of the response.<br>
A link to the concerned disruption can be found in the section &ldquo;display_informations&rdquo;.</p>

<div></div>

<h3 id="departures">Departures</h3>
<pre class="highlight shell"><code><span class="c"># Request example for /departures (data_freshness=realtime by default)</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/physical_modes/&lt;physical_mode&gt;/stop_areas/&lt;stop_area&gt;/departures?from_datetime<span class="o">=</span>&lt;from_date&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre>
<pre class="highlight shell"><code><span class="c"># Extract of an impacted departure object from the response /departures</span>

<span class="o">{</span>
    <span class="s2">"display_informations"</span>: ⊖<span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">""</span>,
        <span class="s2">"color"</span>: <span class="s2">"000000"</span>,
        <span class="s2">"commercial_mode"</span>: <span class="s2">"TGV INOUI"</span>,
        <span class="s2">"description"</span>: <span class="s2">""</span>
        <span class="s2">"direction"</span>: <span class="s2">"Nice Ville (Nice)"</span>,
        <span class="s2">"equipments"</span>: <span class="o">[]</span>,
        <span class="s2">"headsign"</span>: <span class="s2">"847520"</span>,
        <span class="s2">"label"</span>: <span class="s2">"Paris - Nice"</span>,
        <span class="s2">"links"</span>: ⊖[
           ⊖<span class="o">{</span>
                <span class="s2">"id"</span>: <span class="s2">"b59bdab8-3560-4cfe-8009-b0461f74c417"</span>,
                <span class="s2">"internal"</span>: <span class="nb">true</span>,
                <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                <span class="s2">"templated"</span>: <span class="nb">false</span>
                <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"name"</span>: <span class="s2">"Paris - Nice"</span>,
        <span class="s2">"network"</span>: <span class="s2">"SNCF"</span>,
        <span class="s2">"physical_mode"</span>: <span class="s2">"Train grande vitesse"</span>,
        <span class="s2">"text_color"</span>: <span class="s2">""</span>,
    <span class="o">}</span>,
    <span class="s2">"links"</span>: ⊕[6 items],
    <span class="s2">"route"</span>: ⊕<span class="o">{</span>9 items<span class="o">}</span>,
    <span class="s2">"stop_date_time"</span>: ⊖<span class="o">{</span>
        <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
        <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190605T194700"</span>,
        <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20190605T193200"</span>,
        <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20190605T193400"</span>,
        <span class="s2">"stop_date_time"</span>: <span class="s2">"realtime"</span>
        <span class="s2">"departure_date_time"</span>: <span class="s2">"20190605T194900"</span>,
        <span class="s2">"links"</span>: <span class="o">[]</span>,
    <span class="o">}</span>
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>11 items<span class="o">}</span>,
<span class="o">}</span>
</code></pre>

<p>In the &ldquo;stop_date_time&rdquo; section of the response, the parameter &ldquo;stop_date_time&rdquo; is &ldquo;realtime&rdquo; and the fields &ldquo;arrival_date_time&rdquo;/&ldquo;departure_date_time&rdquo; take the delay into account, whereas &ldquo;base_arrival_date_time&rdquo;/&ldquo;base_departure_date_time&rdquo; show the base-schedule departure/arrival datetime.</p>

<p>A list of the disruptions impacting the departures is also present at the root level of the response.<br>
A link to the concerned disruption can be found in the section &ldquo;display_informations&rdquo;.</p>

<div></div>

<h3 id="stop-schedules">Stop Schedules</h3>
<pre class="highlight shell"><code><span class="c"># Request example for /stop_schedules (data_freshness=realtime by default)</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/physical_modes/&lt;physical_mode&gt;/lines/&lt;line&gt;/stop_areas/&lt;stop_area&gt;/stop_schedules?from_datetime<span class="o">=</span>&lt;from_date&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre>
<pre class="highlight shell"><code><span class="c"># Extract of an impacted stop_schedules object from the response /stop_schedules</span>

<span class="o">{</span>
    <span class="s2">"additional_informations"</span>: null,
    <span class="s2">"date_times"</span>: ⊖[
       ⊕<span class="o">{</span>5 items<span class="o">}</span>,
       ⊖<span class="o">{</span>
            <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
            <span class="s2">"base_date_time"</span>: <span class="s2">"20190605T193400"</span>,
            <span class="s2">"data_freshness"</span>: <span class="s2">"realtime"</span>,
            <span class="s2">"date_time"</span>: <span class="s2">"20190605T194900"</span>,
            <span class="s2">"links"</span>: ⊖[
               ⊕<span class="o">{</span>4 items<span class="o">}</span>,
               ⊖<span class="o">{</span>
                    <span class="s2">"id"</span>: <span class="s2">"b59bdab8-3560-4cfe-8009-b0461f74c417"</span>,
                    <span class="s2">"internal"</span>: <span class="nb">true</span>,
                    <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                    <span class="s2">"templated"</span>: <span class="nb">false</span>
                    <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>,
       ⊕<span class="o">{</span>5 items<span class="o">}</span>,
    <span class="o">]</span>,
    <span class="s2">"display_informations"</span>: ⊕<span class="o">{</span>9 items<span class="o">}</span>,
    <span class="s2">"first_datetime"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>
    <span class="s2">"last_datetime"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
    <span class="s2">"links"</span>: ⊕[4 items],
    <span class="s2">"route"</span>: ⊕<span class="o">{</span>8 items<span class="o">}</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>11 items<span class="o">}</span>,
<span class="o">}</span>
</code></pre>

<p>In the list of &ldquo;date_times&rdquo; available in the response, the parameter &ldquo;data_freshness&rdquo; is &ldquo;realtime&rdquo; and the field &ldquo;date_time&rdquo; takes the delay into account, whereas &ldquo;base_date_time&rdquo; shows the base-schedule departure datetime.</p>

<p>A list of the disruptions impacting the stop schedules is also present at the root level of the response.<br>
A link to the concerned disruption can be found in the in the &ldquo;date_times&rdquo; object itself.</p>

<h2 id="reduced-service"><a name="REDUCED_SERVICE"></a>Reduced service</h2>

<p><img alt="image" src="images/reduced_service.png" /></p>
<pre class="highlight shell"><code><span class="c"># Extract of an impacted stop from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"arrival_status"</span>: <span class="s2">"deleted"</span>,
    <span class="s2">"cause"</span>: <span class="s2">""</span>,
    <span class="s2">"departure_status"</span>: <span class="s2">"deleted"</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
    <span class="s2">"stop_time_effect"</span>: <span class="s2">"deleted"</span>,
<span class="o">}</span>
</code></pre>

<p>The effect of the disruption is <code class="prettyprint">REDUCED_SERVICE</code>. It means that the train won&rsquo;t be serving one or more stations in its journey.</p>

<p>In the disruption, the deleted stations can be found in the list of &ldquo;impacted_stops&rdquo; with the departure/arrival status set to &ldquo;deleted&rdquo;.<br>
See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>

<h3 id="journeys">Journeys</h3>

<p>If the stop deleted is the origin/destination of a section of the journey, Navitia will compute a different itinerary to the requested station.<br>
If not (deleting intermediate stop), the journey won&rsquo;t be affected.<br>
Either way, a link to this disruption can be found in the section &ldquo;display_informations&rdquo; like for other disruptions.</p>

<h3 id="departures-amp-stop-schedules">Departures &amp; Stop Schedules</h3>

<p>At the deleted stop area, the departure time of the train with a reduced service simply won&rsquo;t be displayed in the list of departures/stop_schedules if &ldquo;data_freshness&rdquo; is set to &ldquo;realtime&rdquo;.</p>

<p>If &ldquo;data_freshness&rdquo; is &ldquo;base_schedule&rdquo;, then the depature time is displayed.<br>
In that case, a link to this disruption can be found in the section &ldquo;display_informations&rdquo; for departures, in the &ldquo;date_times&rdquo; object itself for stop_schedules.</p>

<h2 id="modified-service"><a name="MODIFIED_SERVICE"></a>Modified service</h2>

<p><img alt="image" src="images/modified_service.png" /></p>
<pre class="highlight shell"><code><span class="c"># Extract of an impacted stop from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"amended_arrival_time"</span>: <span class="s2">"185500"</span>,
    <span class="s2">"amended_departure_time"</span>: <span class="s2">"190000"</span>,
    <span class="s2">"arrival_status"</span>: <span class="s2">"added"</span>
    <span class="s2">"cause"</span>: <span class="s2">"Ajout d'une desserte"</span>,
    <span class="s2">"departure_status"</span>: <span class="s2">"added"</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
    <span class="s2">"stop_time_effect"</span>: <span class="s2">"added"</span>,
<span class="o">}</span>,
</code></pre>

<p>The effect of the disruption is <code class="prettyprint">MODIFIED_SERVICE</code>. It means that there is one or several stop points added into the trip. This can be at any position in the trip (origin and destination included).</p>

<p>In the disruption, new stop points can be found in the list of &ldquo;impacted_stops&rdquo; with the departure/arrival status set to &ldquo;added&rdquo;. The scheduled arrival/departure at the new stop point can be found in &ldquo;amended_arrival_time&rdquo;/&ldquo;amended_departure_time&rdquo;.<br>
See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>

<h3 id="journeys">Journeys</h3>
<pre class="highlight shell"><code><span class="c"># Request example for /journeys</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/journeys?from<span class="o">=</span>&lt;origin&gt;&amp;to<span class="o">=</span>&lt;destination&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre>
<pre class="highlight shell"><code><span class="c"># Extract of the public transport section from the response /journeys</span>

    <span class="s2">"sections"</span>: ⊖[
       ⊖<span class="o">{</span>
            <span class="s2">"additional_informations"</span>: ⊕[1 item],
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190605T204500"</span>,
            <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20190605T204500"</span>,
            <span class="s2">"co2_emission"</span>: ⊕<span class="o">{</span>2 items<span class="o">}</span>,
            <span class="s2">"data_freshness"</span>: <span class="s2">"realtime"</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20190605T160000"</span>,
            <span class="s2">"display_informations"</span>: ⊖<span class="o">{</span>
                <span class="s2">"code"</span>: <span class="s2">""</span>,
                <span class="s2">"color"</span>: <span class="s2">"000000"</span>,
                <span class="s2">"commercial_mode"</span>: <span class="s2">"TGV INOUI"</span>,
                <span class="s2">"description"</span>: <span class="s2">""</span>
                <span class="s2">"direction"</span>: <span class="s2">"Nice Ville (Nice)"</span>,
                <span class="s2">"equipments"</span>: <span class="o">[]</span>,
                <span class="s2">"headsign"</span>: <span class="s2">"847520"</span>,
                <span class="s2">"label"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"links"</span>: ⊖[
                   ⊖<span class="o">{</span>
                        <span class="s2">"id"</span>: <span class="s2">"b59bdab8-3560-4cfe-8009-b0461f74c418"</span>,
                        <span class="s2">"internal"</span>: <span class="nb">true</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                        <span class="s2">"templated"</span>: <span class="nb">false</span>
                        <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"name"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"network"</span>: <span class="s2">"SNCF"</span>,
                <span class="s2">"physical_mode"</span>: <span class="s2">"Train grande vitesse"</span>,
                <span class="s2">"text_color"</span>: <span class="s2">""</span>,
            <span class="o">}</span>,
            <span class="s2">"duration"</span>: 28560,
            <span class="s2">"from"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"geojson"</span>: ⊕<span class="o">{</span>3 items<span class="o">}</span>,
            <span class="s2">"id"</span>: <span class="s2">"section_1_0"</span>,
            <span class="s2">"links"</span>: ⊕[6 items],
            <span class="s2">"stop_date_times"</span>: ⊖[
                ⊕<span class="o">{</span>7 items<span class="o">}</span>,
                ⊖<span class="o">{</span>
                     <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                     <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190605T185500"</span>,
                     <span class="s2">"departure_date_time"</span>: <span class="s2">"20190605T190000"</span>,
                     <span class="s2">"links"</span>: <span class="o">[]</span>
                     <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
                 <span class="o">}</span>,
                ⊕<span class="o">{</span>7 items<span class="o">}</span>,
            <span class="o">]</span>
            <span class="s2">"to"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"type"</span>: <span class="s2">"public_transport"</span>,
        <span class="o">}</span>,
    <span class="o">]</span>
</code></pre>

<p>The status of the journey is <code class="prettyprint">MODIFIED_SERVICE</code>. In a public transport section of the response, &ldquo;arrival_date_time&rdquo;/&ldquo;departure_date_time&rdquo; are the arrival/departure times of an added stop point. New stop points are only used when the &ldquo;data_freshness&rdquo; parameter is set to &ldquo;realtime&rdquo;.</p>

<p>A list of the disruptions impacting the journey is also present at the root level of the response.<br>
A link to the concerned disruption can be found in the section &ldquo;display_informations&rdquo;.</p>

<div></div>

<h3 id="departures-amp-stop-schedules">Departures &amp; Stop Schedules</h3>

<p>At the added stop area, the departure time of the train with a modified service is displayed if &ldquo;data_freshness&rdquo; is set to &ldquo;realtime&rdquo;.<br>
In that case, a link to this disruption can be found in the section &ldquo;display_informations&rdquo; for departures, in the &ldquo;date_times&rdquo; object itself for stop_schedules.</p>

<p>The departure time of the train with a modified service simply won&rsquo;t be displayed in the list of departures/stop_schedules if &ldquo;data_freshness&rdquo; is set to &ldquo;base_schedule&rdquo;.</p>

<h2 id="additional-service"><a name="ADDITIONAL_SERVICE"></a>Additional service</h2>

<p><img alt="image" src="images/additional.png" /></p>
<pre class="highlight shell"><code><span class="c"># Extract of an impacted stop from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"amended_arrival_time"</span>: <span class="s2">"193200"</span>,
    <span class="s2">"amended_departure_time"</span>: <span class="s2">"193400"</span>,
    <span class="s2">"arrival_status"</span>: <span class="s2">"added"</span>
    <span class="s2">"cause"</span>: <span class="s2">""</span>,
    <span class="s2">"departure_status"</span>: <span class="s2">"added"</span>,
    <span class="s2">"is_detour"</span>: <span class="nb">false</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
    <span class="s2">"stop_time_effect"</span>: <span class="s2">"added"</span>,
<span class="o">}</span>
</code></pre>

<p>The effect of the disruption is <code class="prettyprint">ADDITIONAL_SERVICE</code>. It means that a new trip has been scheduled.</p>

<p>In the disruption, every stops served by the new train can be found in the list of &ldquo;impacted_stops&rdquo; with the departure/arrival status set to &ldquo;added&rdquo;. The scheduled arrival/departure at the new stop point can be found in &ldquo;amended_arrival_time&rdquo;/&ldquo;amended_departure_time&rdquo;.<br>
See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>

<h3 id="journeys">Journeys</h3>
<pre class="highlight shell"><code><span class="c"># Request example for /journeys</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/journeys?from<span class="o">=</span>&lt;origin&gt;&amp;to<span class="o">=</span>&lt;destination&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre>
<pre class="highlight shell"><code><span class="c"># Extract of the public transport section from the response /journeys</span>

<span class="s2">"sections"</span>: ⊖[
       ⊕<span class="o">{</span>10 items<span class="o">}</span>,
       ⊖<span class="o">{</span>
            <span class="s2">"additional_informations"</span>: ⊕[1 item],
            <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190710T204500"</span>,
            <span class="s2">"co2_emission"</span>: ⊕<span class="o">{</span>2 items<span class="o">}</span>,
            <span class="s2">"data_freshness"</span>: <span class="s2">"realtime"</span>,
            <span class="s2">"departure_date_time"</span>: <span class="s2">"20190710T160000"</span>,
            <span class="s2">"display_informations"</span>: ⊖<span class="o">{</span>
                <span class="s2">"code"</span>: <span class="s2">""</span>,
                <span class="s2">"color"</span>: <span class="s2">"000000"</span>,
                <span class="s2">"commercial_mode"</span>: <span class="s2">"additional service"</span>,
                <span class="s2">"description"</span>: <span class="s2">""</span>
                <span class="s2">"direction"</span>: <span class="s2">"Nice Ville (Nice)"</span>,
                <span class="s2">"equipments"</span>: <span class="o">[]</span>,
                <span class="s2">"headsign"</span>: <span class="s2">"20470"</span>,
                <span class="s2">"label"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"links"</span>: ⊖[
                   ⊖<span class="o">{</span>
                        <span class="s2">"id"</span>: <span class="s2">"1ec4266c-e7f7-4212-a2df-f61c2b56ce91"</span>,
                        <span class="s2">"internal"</span>: <span class="nb">true</span>,
                        <span class="s2">"rel"</span>: <span class="s2">"disruptions"</span>,
                        <span class="s2">"templated"</span>: <span class="nb">false</span>
                        <span class="s2">"type"</span>: <span class="s2">"disruption"</span>,
                    <span class="o">}</span>
                <span class="o">]</span>,
                <span class="s2">"name"</span>: <span class="s2">"Paris - Nice"</span>,
                <span class="s2">"network"</span>: <span class="s2">"additional service"</span>,
                <span class="s2">"physical_mode"</span>: <span class="s2">"Train grande vitesse"</span>,
                <span class="s2">"text_color"</span>: <span class="s2">"FFFFFF"</span>,
            <span class="o">}</span>,
            <span class="s2">"duration"</span>: 28560,
            <span class="s2">"from"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"geojson"</span>: ⊕<span class="o">{</span>3 items<span class="o">}</span>,
            <span class="s2">"id"</span>: <span class="s2">"section_6_0"</span>,
            <span class="s2">"links"</span>: ⊕[6 items],
            <span class="s2">"stop_date_times"</span>: ⊖[
               ⊖<span class="o">{</span>
                    <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
                    <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190710T160000"</span>,
                    <span class="s2">"departure_date_time"</span>: <span class="s2">"20190710T160000"</span>,
                    <span class="s2">"links"</span>: <span class="o">[]</span>
                    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
                <span class="o">}</span>,
               ⊕<span class="o">{</span>5 items<span class="o">}</span>,
               ⊕<span class="o">{</span>5 items<span class="o">}</span>,
               ⊕<span class="o">{</span>5 items<span class="o">}</span>
            <span class="o">]</span>
            <span class="s2">"to"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
            <span class="s2">"type"</span>: <span class="s2">"public_transport"</span>,
        <span class="o">}</span>,
       ⊕<span class="o">{</span>10 items<span class="o">}</span>
    <span class="o">]</span>
</code></pre>

<p>The status of the journey is <code class="prettyprint">ADDITIONAL_SERVICE</code>. This new journey can only be displayed if &ldquo;data_freshness&rdquo; is set to &ldquo;realtime&rdquo;.<br>
A list of disruptions impacting the journey is also present at the root level of the response.<br>
A link to the concerned disruption can be found in the section &ldquo;display_informations&rdquo;.  </p>

<div></div>

<h3 id="departures-amp-stop-schedules">Departures &amp; Stop Schedules</h3>

<p>At one of the added stop area from the additional trip, the departure time of the added train is displayed if &ldquo;data_freshness&rdquo; is set to &ldquo;realtime&rdquo;.<br>
In that case, a link to this disruption can be found in the section &ldquo;display_informations&rdquo; for departures, in the &ldquo;date_times&rdquo; object itself for stop_schedules.</p>

<p>The departure time of the train with an additional service simply won&rsquo;t be displayed in the list of departures/stop_schedules if &ldquo;data_freshness&rdquo; is set to &ldquo;base_schedule&rdquo;.</p>

<h2 id="unknown-effect-aka-quot-back-to-normal-quot"><a name="UNKNOWN_EFFECT"></a>Unknown effect aka &ldquo;Back to normal&rdquo;</h2>
<pre class="highlight shell"><code><span class="c"># Extract of an impacted stop from /disruptions</span>
<span class="o">{</span>
    <span class="s2">"amended_arrival_time"</span>: <span class="s2">"193200"</span>,
    <span class="s2">"amended_departure_time"</span>: <span class="s2">"193400"</span>,
    <span class="s2">"arrival_status"</span>: <span class="s2">"unchanged"</span>
    <span class="s2">"base_arrival_time"</span>: <span class="s2">"193200"</span>,
    <span class="s2">"base_departure_time"</span>: <span class="s2">"193400"</span>,
    <span class="s2">"cause"</span>: <span class="s2">""</span>,
    <span class="s2">"departure_status"</span>: <span class="s2">"unchanged"</span>,
    <span class="s2">"is_detour"</span>: <span class="nb">false</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>7 items<span class="o">}</span>,
    <span class="s2">"stop_time_effect"</span>: <span class="s2">"unchanged"</span>,
<span class="o">}</span>,
</code></pre>

<p>The effect of the disruption is <code class="prettyprint">UNKNOWN_EFFECT</code>. It means that the disruption affecting the journey is no longer effective, and the trip is back to its theoritical schedule.<br>
In the list of &ldquo;impacted_stops&rdquo; in the disruption, the &ldquo;arrival_status&rdquo;/&ldquo;departure_status&rdquo; is set to &ldquo;unchanged&rdquo;.<br>
See the <a href="#disruption">disruption</a> objects section for its full content and description.</p>

<div></div>

<h3 id="journeys">Journeys</h3>

<p>When requesting a journey that was previously disrupted and is now back to normal, the journey response will be the same with the parameter &ldquo;data_freshness&rdquo; set to &ldquo;realtime&rdquo; or to &ldquo;base_schedule&rdquo;.<br>
In this case, no disruption is present in the response.</p>

<div></div>

<h3 id="departures">Departures</h3>
<pre class="highlight shell"><code><span class="c"># Request example for /departures (data_freshness=realtime by default)</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/physical_modes/&lt;physical_mode&gt;/stop_areas/&lt;stop_area&gt;/departures?from_datetime<span class="o">=</span>&lt;from_date&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre>
<pre class="highlight shell"><code><span class="c"># Extract of an impacted departure object from the response /departures</span>

<span class="o">{</span>
    <span class="s2">"display_informations"</span>: ⊖<span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">""</span>,
        <span class="s2">"color"</span>: <span class="s2">"000000"</span>,
        <span class="s2">"commercial_mode"</span>: <span class="s2">"TGV INOUI"</span>,
        <span class="s2">"description"</span>: <span class="s2">""</span>
        <span class="s2">"direction"</span>: <span class="s2">"Nice Ville (Nice)"</span>,
        <span class="s2">"equipments"</span>: <span class="o">[]</span>,
        <span class="s2">"headsign"</span>: <span class="s2">"847520"</span>,
        <span class="s2">"label"</span>: <span class="s2">"Paris - Nice"</span>,
        <span class="s2">"links"</span>: <span class="o">[]</span>,
        <span class="s2">"name"</span>: <span class="s2">"Paris - Nice"</span>,
        <span class="s2">"network"</span>: <span class="s2">"SNCF"</span>,
        <span class="s2">"physical_mode"</span>: <span class="s2">"Train grande vitesse"</span>,
        <span class="s2">"text_color"</span>: <span class="s2">""</span>,
    <span class="o">}</span>,
    <span class="s2">"links"</span>: ⊕[6 items],
    <span class="s2">"route"</span>: ⊕<span class="o">{</span>9 items<span class="o">}</span>,
    <span class="s2">"stop_date_time"</span>: ⊖<span class="o">{</span>
        <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
        <span class="s2">"arrival_date_time"</span>: <span class="s2">"20190605T193200"</span>,
        <span class="s2">"base_arrival_date_time"</span>: <span class="s2">"20190605T193200"</span>,
        <span class="s2">"base_departure_date_time"</span>: <span class="s2">"20190605T193400"</span>,
        <span class="s2">"stop_date_time"</span>: <span class="s2">"realtime"</span>
        <span class="s2">"departure_date_time"</span>: <span class="s2">"20190605T193400"</span>,
        <span class="s2">"links"</span>: <span class="o">[]</span>,
    <span class="o">}</span>
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>11 items<span class="o">}</span>,
<span class="o">}</span>
</code></pre>

<p>In the &ldquo;stop_date_time&rdquo; section of the response, the field &ldquo;stop_date_time&rdquo; is &ldquo;realtime&rdquo; and the fields &ldquo;arrival_date_time&rdquo;/&ldquo;departure_date_time&rdquo; are equal to the fields &ldquo;base_arrival_date_time&rdquo;/&ldquo;base_departure_date_time&rdquo;.</p>

<p>No disruption is present at the root level of the response and so, in the section &ldquo;display_informations&rdquo;, there&rsquo;s no link to any disruption.</p>

<div></div>

<h3 id="stop-schedules">Stop Schedules</h3>
<pre class="highlight shell"><code><span class="c"># Request example for /stop_schedules (data_freshness=realtime by default)</span>
http://api.navitia.io/v1/coverage/&lt;coverage&gt;/physical_modes/&lt;physical_mode&gt;/lines/&lt;line&gt;/stop_areas/&lt;stop_area&gt;/stop_schedules?from_datetime<span class="o">=</span>&lt;from_date&gt;&amp;data_freshness<span class="o">=</span>realtime
</code></pre>
<pre class="highlight shell"><code><span class="c"># Extract of an impacted stop_schedules object from the response /stop_schedules</span>

<span class="o">{</span>
    <span class="s2">"additional_informations"</span>: null,
    <span class="s2">"date_times"</span>: ⊖[
       ⊕<span class="o">{</span>5 items<span class="o">}</span>,
       ⊖<span class="o">{</span>
            <span class="s2">"additional_informations"</span>: <span class="o">[]</span>,
            <span class="s2">"base_date_time"</span>: <span class="s2">"20190605T193400"</span>,
            <span class="s2">"data_freshness"</span>: <span class="s2">"realtime"</span>,
            <span class="s2">"date_time"</span>: <span class="s2">"20190605T193400"</span>,
            <span class="s2">"links"</span>: <span class="o">[]</span>,
        <span class="o">}</span>,
       ⊕<span class="o">{</span>5 items<span class="o">}</span>,
    <span class="o">]</span>,
    <span class="s2">"display_informations"</span>: ⊕<span class="o">{</span>9 items<span class="o">}</span>,
    <span class="s2">"first_datetime"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>
    <span class="s2">"last_datetime"</span>: ⊕<span class="o">{</span>5 items<span class="o">}</span>,
    <span class="s2">"links"</span>: ⊕[4 items],
    <span class="s2">"route"</span>: ⊕<span class="o">{</span>8 items<span class="o">}</span>,
    <span class="s2">"stop_point"</span>: ⊕<span class="o">{</span>11 items<span class="o">}</span>,
<span class="o">}</span>
</code></pre>

<p>In the list of &ldquo;date_times&rdquo; available in the response, the field &ldquo;data_freshness&rdquo; is &ldquo;realtime&rdquo; and the field &ldquo;date_time&rdquo; is equal to the field &ldquo;base_date_time&rdquo;.</p>

<p>No disruption is present at the root level of the response and so, in the sections &ldquo;date_times&rdquo; and &ldquo;display_informations&rdquo;, there&rsquo;s no link to any disruption.  </p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
